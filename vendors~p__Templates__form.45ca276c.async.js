(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"2D6k":function(un,_r,De){"use strict";var Xe=Math.PI*2;function O(ft,Gt,tt,b){var s=ft*b-Gt*tt<0?-1:1,h=ft*tt+Gt*b;return h>1&&(h=1),h<-1&&(h=-1),s*Math.acos(h)}function me(ft,Gt,tt,b,s,h,u,o,e,n){var t=n*(ft-tt)/2+e*(Gt-b)/2,a=-e*(ft-tt)/2+n*(Gt-b)/2,l=u*u,i=o*o,f=t*t,p=a*a,m=l*i-l*p-i*f;m<0&&(m=0),m/=l*p+i*f,m=Math.sqrt(m)*(s===h?-1:1);var x=m*u/o*a,M=m*-o/u*t,Y=n*x-e*M+(ft+tt)/2,nt=e*x+n*M+(Gt+b)/2,xt=(t-x)/u,Dt=(a-M)/o,Ut=(-t-x)/u,fe=(-a-M)/o,Oe=O(1,0,xt,Dt),_t=O(xt,Dt,Ut,fe);return h===0&&_t>0&&(_t-=Xe),h===1&&_t<0&&(_t+=Xe),[Y,nt,Oe,_t]}function pt(ft,Gt){var tt=4/3*Math.tan(Gt/4),b=Math.cos(ft),s=Math.sin(ft),h=Math.cos(ft+Gt),u=Math.sin(ft+Gt);return[b,s,b-s*tt,s+b*tt,h+u*tt,u-h*tt,h,u]}un.exports=function(Gt,tt,b,s,h,u,o,e,n){var t=Math.sin(n*Xe/360),a=Math.cos(n*Xe/360),l=a*(Gt-b)/2+t*(tt-s)/2,i=-t*(Gt-b)/2+a*(tt-s)/2;if(l===0&&i===0)return[];if(o===0||e===0)return[];o=Math.abs(o),e=Math.abs(e);var f=l*l/(o*o)+i*i/(e*e);f>1&&(o*=Math.sqrt(f),e*=Math.sqrt(f));var p=me(Gt,tt,b,s,h,u,o,e,t,a),m=[],x=p[2],M=p[3],Y=Math.max(Math.ceil(Math.abs(M)/(Xe/4)),1);M/=Y;for(var nt=0;nt<Y;nt++)m.push(pt(x,M)),x+=M;return m.map(function(xt){for(var Dt=0;Dt<xt.length;Dt+=2){var Ut=xt[Dt+0],fe=xt[Dt+1];Ut*=o,fe*=e;var Oe=a*Ut-t*fe,_t=t*Ut+a*fe;xt[Dt+0]=Oe+p[0],xt[Dt+1]=_t+p[1]}return xt})}},"3dVZ":function(un,_r,De){},"49sm":function(un,_r){var De={}.toString;un.exports=Array.isArray||function(Xe){return De.call(Xe)=="[object Array]"}},"4hEd":function(un,_r,De){"use strict";function Xe(me,pt){return[me[0]*pt[0]+me[2]*pt[1],me[1]*pt[0]+me[3]*pt[1],me[0]*pt[2]+me[2]*pt[3],me[1]*pt[2]+me[3]*pt[3],me[0]*pt[4]+me[2]*pt[5]+me[4],me[1]*pt[4]+me[3]*pt[5]+me[5]]}function O(){if(!(this instanceof O))return new O;this.queue=[],this.cache=null}O.prototype.matrix=function(me){return me[0]===1&&me[1]===0&&me[2]===0&&me[3]===1&&me[4]===0&&me[5]===0?this:(this.cache=null,this.queue.push(me),this)},O.prototype.translate=function(me,pt){return(me!==0||pt!==0)&&(this.cache=null,this.queue.push([1,0,0,1,me,pt])),this},O.prototype.scale=function(me,pt){return(me!==1||pt!==1)&&(this.cache=null,this.queue.push([me,0,0,pt,0,0])),this},O.prototype.rotate=function(me,pt,ft){var Gt,tt,b;return me!==0&&(this.translate(pt,ft),Gt=me*Math.PI/180,tt=Math.cos(Gt),b=Math.sin(Gt),this.queue.push([tt,b,-b,tt,0,0]),this.cache=null,this.translate(-pt,-ft)),this},O.prototype.skewX=function(me){return me!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(me*Math.PI/180),1,0,0])),this},O.prototype.skewY=function(me){return me!==0&&(this.cache=null,this.queue.push([1,Math.tan(me*Math.PI/180),0,1,0,0])),this},O.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var me=1;me<this.queue.length;me++)this.cache=Xe(this.cache,this.queue[me]);return this.cache},O.prototype.calc=function(me,pt,ft){var Gt;return this.queue.length?(this.cache||(this.cache=this.toArray()),Gt=this.cache,[me*Gt[0]+pt*Gt[2]+(ft?0:Gt[4]),me*Gt[1]+pt*Gt[3]+(ft?0:Gt[5])]):[me,pt]},un.exports=O},B61z:function(un,_r,De){"use strict";var Xe=1e-10,O=Math.PI/180;function me(pt,ft,Gt){if(!(this instanceof me))return new me(pt,ft,Gt);this.rx=pt,this.ry=ft,this.ax=Gt}me.prototype.transform=function(pt){var ft=Math.cos(this.ax*O),Gt=Math.sin(this.ax*O),tt=[this.rx*(pt[0]*ft+pt[2]*Gt),this.rx*(pt[1]*ft+pt[3]*Gt),this.ry*(-pt[0]*Gt+pt[2]*ft),this.ry*(-pt[1]*Gt+pt[3]*ft)],b=tt[0]*tt[0]+tt[2]*tt[2],s=tt[1]*tt[1]+tt[3]*tt[3],h=((tt[0]-tt[3])*(tt[0]-tt[3])+(tt[2]+tt[1])*(tt[2]+tt[1]))*((tt[0]+tt[3])*(tt[0]+tt[3])+(tt[2]-tt[1])*(tt[2]-tt[1])),u=(b+s)/2;if(h<Xe*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var o=tt[0]*tt[1]+tt[2]*tt[3];h=Math.sqrt(h);var e=u+h/2,n=u-h/2;return this.ax=Math.abs(o)<Xe&&Math.abs(e-s)<Xe?90:Math.atan(Math.abs(o)>Math.abs(e-s)?(e-b)/o:o/(e-s))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(e),this.ry=Math.sqrt(n)):(this.ax+=90,this.rx=Math.sqrt(n),this.ry=Math.sqrt(e)),this},me.prototype.isDegenerate=function(){return this.rx<Xe*this.ry||this.ry<Xe*this.rx},un.exports=me},BiO0:function(un,_r,De){"use strict";var Xe=De("VTBJ"),O=De("Ff2n"),me=De("nKUr"),pt=De.n(me),ft=De("q1tI"),Gt=De.n(ft),tt=De("adzw"),b=["fieldProps","proFieldProps"],s=function(u,o){var e=u.fieldProps,n=u.proFieldProps,t=Object(O.a)(u,b);return Object(me.jsx)(tt.a,Object(Xe.a)({ref:o,mode:"edit",valueType:"textarea",fieldProps:e,proFieldProps:n},t))};_r.a=Gt.a.forwardRef(s)},C4q1:function(un,_r,De){"use strict";/*! https://mths.be/cssesc v3.0.0 by @mathias */var Xe={},O=Xe.hasOwnProperty,me=function(h,u){if(!h)return u;var o={};for(var e in u)o[e]=O.call(h,e)?h[e]:u[e];return o},pt=/[ -,\.\/:-@\[-\^`\{-~]/,ft=/[ -,\.\/:-@\[\]\^`\{-~]/,Gt=/['"\\]/,tt=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,b=function s(h,u){u=me(u,s.options),u.quotes!="single"&&u.quotes!="double"&&(u.quotes="single");for(var o=u.quotes=="double"?'"':"'",e=u.isIdentifier,n=h.charAt(0),t="",a=0,l=h.length;a<l;){var i=h.charAt(a++),f=i.charCodeAt(),p=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&a<l){var m=h.charCodeAt(a++);(m&64512)==56320?f=((f&1023)<<10)+(m&1023)+65536:a--}p="\\"+f.toString(16).toUpperCase()+" "}else u.escapeEverything?pt.test(i)?p="\\"+i:p="\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(i)?p="\\"+f.toString(16).toUpperCase()+" ":i=="\\"||!e&&(i=='"'&&o==i||i=="'"&&o==i)||e&&ft.test(i)?p="\\"+i:p=i;t+=p}return e&&(/^-[-\d]/.test(t)?t="\\-"+t.slice(1):/\d/.test(n)&&(t="\\3"+n+" "+t.slice(1))),t=t.replace(tt,function(x,M,Y){return M&&M.length%2?x:(M||"")+Y}),!e&&u.wrap?o+t+o:t};b.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},b.version="3.0.0",un.exports=b},COF0:function(un,_r,De){"use strict";var Xe={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},O=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function me(n){return n===10||n===13||n===8232||n===8233||n===32||n===9||n===11||n===12||n===160||n>=5760&&O.indexOf(n)>=0}function pt(n){switch(n|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function ft(n){return(n|32)==97}function Gt(n){return n>=48&&n<=57}function tt(n){return n>=48&&n<=57||n===43||n===45||n===46}function b(n){this.index=0,this.path=n,this.max=n.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function s(n){for(;n.index<n.max&&me(n.path.charCodeAt(n.index));)n.index++}function h(n){var t=n.path.charCodeAt(n.index);if(t===48){n.param=0,n.index++;return}if(t===49){n.param=1,n.index++;return}n.err="SvgPath: arc flag can be 0 or 1 only (at pos "+n.index+")"}function u(n){var t=n.index,a=t,l=n.max,i=!1,f=!1,p=!1,m=!1,x;if(a>=l){n.err="SvgPath: missed param (at pos "+a+")";return}if(x=n.path.charCodeAt(a),(x===43||x===45)&&(a++,x=a<l?n.path.charCodeAt(a):0),!Gt(x)&&x!==46){n.err="SvgPath: param should start with 0..9 or `.` (at pos "+a+")";return}if(x!==46){if(i=x===48,a++,x=a<l?n.path.charCodeAt(a):0,i&&a<l&&x&&Gt(x)){n.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;a<l&&Gt(n.path.charCodeAt(a));)a++,f=!0;x=a<l?n.path.charCodeAt(a):0}if(x===46){for(m=!0,a++;Gt(n.path.charCodeAt(a));)a++,p=!0;x=a<l?n.path.charCodeAt(a):0}if(x===101||x===69){if(m&&!f&&!p){n.err="SvgPath: invalid float exponent (at pos "+a+")";return}if(a++,x=a<l?n.path.charCodeAt(a):0,(x===43||x===45)&&a++,a<l&&Gt(n.path.charCodeAt(a)))for(;a<l&&Gt(n.path.charCodeAt(a));)a++;else{n.err="SvgPath: invalid float exponent (at pos "+a+")";return}}n.index=a,n.param=parseFloat(n.path.slice(t,a))+0}function o(n){var t,a;t=n.path[n.segmentStart],a=t.toLowerCase();var l=n.data;if(a==="m"&&l.length>2&&(n.result.push([t,l[0],l[1]]),l=l.slice(2),a="l",t=t==="m"?"l":"L"),a==="r")n.result.push([t].concat(l));else for(;l.length>=Xe[a]&&(n.result.push([t].concat(l.splice(0,Xe[a]))),!!Xe[a]););}function e(n){var t=n.max,a,l,i,f,p;if(n.segmentStart=n.index,a=n.path.charCodeAt(n.index),l=ft(a),!pt(a)){n.err="SvgPath: bad command "+n.path[n.index]+" (at pos "+n.index+")";return}if(f=Xe[n.path[n.index].toLowerCase()],n.index++,s(n),n.data=[],!f){o(n);return}for(i=!1;;){for(p=f;p>0;p--){if(l&&(p===3||p===4)?h(n):u(n),n.err.length)return;n.data.push(n.param),s(n),i=!1,n.index<t&&n.path.charCodeAt(n.index)===44&&(n.index++,s(n),i=!0)}if(!i&&(n.index>=n.max||!tt(n.path.charCodeAt(n.index))))break}o(n)}un.exports=function(t){var a=new b(t),l=a.max;for(s(a);a.index<l&&!a.err.length;)e(a);return a.err.length?a.result=[]:a.result.length&&("mM".indexOf(a.result[0][0])<0?(a.err="SvgPath: string should start with `M` or `m`",a.result=[]):a.result[0][0]="M"),{err:a.err,segments:a.result}}},"D6/r":function(un,_r,De){},H7XF:function(un,_r,De){"use strict";_r.byteLength=b,_r.toByteArray=h,_r.fromByteArray=e;for(var Xe=[],O=[],me=typeof Uint8Array!="undefined"?Uint8Array:Array,pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ft=0,Gt=pt.length;ft<Gt;++ft)Xe[ft]=pt[ft],O[pt.charCodeAt(ft)]=ft;O["-".charCodeAt(0)]=62,O["_".charCodeAt(0)]=63;function tt(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=n.indexOf("=");a===-1&&(a=t);var l=a===t?0:4-a%4;return[a,l]}function b(n){var t=tt(n),a=t[0],l=t[1];return(a+l)*3/4-l}function s(n,t,a){return(t+a)*3/4-a}function h(n){var t,a=tt(n),l=a[0],i=a[1],f=new me(s(n,l,i)),p=0,m=i>0?l-4:l,x;for(x=0;x<m;x+=4)t=O[n.charCodeAt(x)]<<18|O[n.charCodeAt(x+1)]<<12|O[n.charCodeAt(x+2)]<<6|O[n.charCodeAt(x+3)],f[p++]=t>>16&255,f[p++]=t>>8&255,f[p++]=t&255;return i===2&&(t=O[n.charCodeAt(x)]<<2|O[n.charCodeAt(x+1)]>>4,f[p++]=t&255),i===1&&(t=O[n.charCodeAt(x)]<<10|O[n.charCodeAt(x+1)]<<4|O[n.charCodeAt(x+2)]>>2,f[p++]=t>>8&255,f[p++]=t&255),f}function u(n){return Xe[n>>18&63]+Xe[n>>12&63]+Xe[n>>6&63]+Xe[n&63]}function o(n,t,a){for(var l,i=[],f=t;f<a;f+=3)l=(n[f]<<16&16711680)+(n[f+1]<<8&65280)+(n[f+2]&255),i.push(u(l));return i.join("")}function e(n){for(var t,a=n.length,l=a%3,i=[],f=16383,p=0,m=a-l;p<m;p+=f)i.push(o(n,p,p+f>m?m:p+f));return l===1?(t=n[a-1],i.push(Xe[t>>2]+Xe[t<<4&63]+"==")):l===2&&(t=(n[a-2]<<8)+n[a-1],i.push(Xe[t>>10]+Xe[t>>4&63]+Xe[t<<2&63]+"=")),i.join("")}},HDXh:function(un,_r,De){"use strict";(function(Xe){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var O=De("H7XF"),me=De("kVK+"),pt=De("49sm");_r.Buffer=b,_r.SlowBuffer=i,_r.INSPECT_MAX_BYTES=50,b.TYPED_ARRAY_SUPPORT=Xe.TYPED_ARRAY_SUPPORT!==void 0?Xe.TYPED_ARRAY_SUPPORT:ft(),_r.kMaxLength=Gt();function ft(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42&&typeof U.subarray=="function"&&U.subarray(1,1).byteLength===0}catch(C){return!1}}function Gt(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function tt(U,C){if(Gt()<C)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(U=new Uint8Array(C),U.__proto__=b.prototype):(U===null&&(U=new b(C)),U.length=C),U}function b(U,C,A){if(!b.TYPED_ARRAY_SUPPORT&&!(this instanceof b))return new b(U,C,A);if(typeof U=="number"){if(typeof C=="string")throw new Error("If encoding is specified then the first argument must be a string");return o(this,U)}return s(this,U,C,A)}b.poolSize=8192,b._augment=function(U){return U.__proto__=b.prototype,U};function s(U,C,A,q){if(typeof C=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&C instanceof ArrayBuffer?t(U,C,A,q):typeof C=="string"?e(U,C,A):a(U,C)}b.from=function(U,C,A){return s(null,U,C,A)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0}));function h(U){if(typeof U!="number")throw new TypeError('"size" argument must be a number');if(U<0)throw new RangeError('"size" argument must not be negative')}function u(U,C,A,q){return h(C),C<=0?tt(U,C):A!==void 0?typeof q=="string"?tt(U,C).fill(A,q):tt(U,C).fill(A):tt(U,C)}b.alloc=function(U,C,A){return u(null,U,C,A)};function o(U,C){if(h(C),U=tt(U,C<0?0:l(C)|0),!b.TYPED_ARRAY_SUPPORT)for(var A=0;A<C;++A)U[A]=0;return U}b.allocUnsafe=function(U){return o(null,U)},b.allocUnsafeSlow=function(U){return o(null,U)};function e(U,C,A){if((typeof A!="string"||A==="")&&(A="utf8"),!b.isEncoding(A))throw new TypeError('"encoding" must be a valid string encoding');var q=f(C,A)|0;U=tt(U,q);var at=U.write(C,A);return at!==q&&(U=U.slice(0,at)),U}function n(U,C){var A=C.length<0?0:l(C.length)|0;U=tt(U,A);for(var q=0;q<A;q+=1)U[q]=C[q]&255;return U}function t(U,C,A,q){if(C.byteLength,A<0||C.byteLength<A)throw new RangeError("'offset' is out of bounds");if(C.byteLength<A+(q||0))throw new RangeError("'length' is out of bounds");return A===void 0&&q===void 0?C=new Uint8Array(C):q===void 0?C=new Uint8Array(C,A):C=new Uint8Array(C,A,q),b.TYPED_ARRAY_SUPPORT?(U=C,U.__proto__=b.prototype):U=n(U,C),U}function a(U,C){if(b.isBuffer(C)){var A=l(C.length)|0;return U=tt(U,A),U.length===0||C.copy(U,0,0,A),U}if(C){if(typeof ArrayBuffer!="undefined"&&C.buffer instanceof ArrayBuffer||"length"in C)return typeof C.length!="number"||Bt(C.length)?tt(U,0):n(U,C);if(C.type==="Buffer"&&pt(C.data))return n(U,C.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(U){if(U>=Gt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Gt().toString(16)+" bytes");return U|0}function i(U){return+U!=U&&(U=0),b.alloc(+U)}b.isBuffer=function(C){return!!(C!=null&&C._isBuffer)},b.compare=function(C,A){if(!b.isBuffer(C)||!b.isBuffer(A))throw new TypeError("Arguments must be Buffers");if(C===A)return 0;for(var q=C.length,at=A.length,Ot=0,St=Math.min(q,at);Ot<St;++Ot)if(C[Ot]!==A[Ot]){q=C[Ot],at=A[Ot];break}return q<at?-1:at<q?1:0},b.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(C,A){if(!pt(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return b.alloc(0);var q;if(A===void 0)for(A=0,q=0;q<C.length;++q)A+=C[q].length;var at=b.allocUnsafe(A),Ot=0;for(q=0;q<C.length;++q){var St=C[q];if(!b.isBuffer(St))throw new TypeError('"list" argument must be an Array of Buffers');St.copy(at,Ot),Ot+=St.length}return at};function f(U,C){if(b.isBuffer(U))return U.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(U)||U instanceof ArrayBuffer))return U.byteLength;typeof U!="string"&&(U=""+U);var A=U.length;if(A===0)return 0;for(var q=!1;;)switch(C){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return ve(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return de(U).length;default:if(q)return ve(U).length;C=(""+C).toLowerCase(),q=!0}}b.byteLength=f;function p(U,C,A){var q=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,C>>>=0,A<=C))return"";for(U||(U="utf8");;)switch(U){case"hex":return W(this,C,A);case"utf8":case"utf-8":return _t(this,C,A);case"ascii":return be(this,C,A);case"latin1":case"binary":return Qe(this,C,A);case"base64":return Oe(this,C,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return At(this,C,A);default:if(q)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),q=!0}}b.prototype._isBuffer=!0;function m(U,C,A){var q=U[C];U[C]=U[A],U[A]=q}b.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<C;A+=2)m(this,A,A+1);return this},b.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<C;A+=4)m(this,A,A+3),m(this,A+1,A+2);return this},b.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<C;A+=8)m(this,A,A+7),m(this,A+1,A+6),m(this,A+2,A+5),m(this,A+3,A+4);return this},b.prototype.toString=function(){var C=this.length|0;return C===0?"":arguments.length===0?_t(this,0,C):p.apply(this,arguments)},b.prototype.equals=function(C){if(!b.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:b.compare(this,C)===0},b.prototype.inspect=function(){var C="",A=_r.INSPECT_MAX_BYTES;return this.length>0&&(C=this.toString("hex",0,A).match(/.{2}/g).join(" "),this.length>A&&(C+=" ... ")),"<Buffer "+C+">"},b.prototype.compare=function(C,A,q,at,Ot){if(!b.isBuffer(C))throw new TypeError("Argument must be a Buffer");if(A===void 0&&(A=0),q===void 0&&(q=C?C.length:0),at===void 0&&(at=0),Ot===void 0&&(Ot=this.length),A<0||q>C.length||at<0||Ot>this.length)throw new RangeError("out of range index");if(at>=Ot&&A>=q)return 0;if(at>=Ot)return-1;if(A>=q)return 1;if(A>>>=0,q>>>=0,at>>>=0,Ot>>>=0,this===C)return 0;for(var St=Ot-at,xe=q-A,Ne=Math.min(St,xe),we=this.slice(at,Ot),Ke=C.slice(A,q),xr=0;xr<Ne;++xr)if(we[xr]!==Ke[xr]){St=we[xr],xe=Ke[xr];break}return St<xe?-1:xe<St?1:0};function x(U,C,A,q,at){if(U.length===0)return-1;if(typeof A=="string"?(q=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=at?0:U.length-1),A<0&&(A=U.length+A),A>=U.length){if(at)return-1;A=U.length-1}else if(A<0)if(at)A=0;else return-1;if(typeof C=="string"&&(C=b.from(C,q)),b.isBuffer(C))return C.length===0?-1:M(U,C,A,q,at);if(typeof C=="number")return C=C&255,b.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?at?Uint8Array.prototype.indexOf.call(U,C,A):Uint8Array.prototype.lastIndexOf.call(U,C,A):M(U,[C],A,q,at);throw new TypeError("val must be string, number or Buffer")}function M(U,C,A,q,at){var Ot=1,St=U.length,xe=C.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(U.length<2||C.length<2)return-1;Ot=2,St/=2,xe/=2,A/=2}function Ne(Jr,fn){return Ot===1?Jr[fn]:Jr.readUInt16BE(fn*Ot)}var we;if(at){var Ke=-1;for(we=A;we<St;we++)if(Ne(U,we)===Ne(C,Ke===-1?0:we-Ke)){if(Ke===-1&&(Ke=we),we-Ke+1===xe)return Ke*Ot}else Ke!==-1&&(we-=we-Ke),Ke=-1}else for(A+xe>St&&(A=St-xe),we=A;we>=0;we--){for(var xr=!0,Or=0;Or<xe;Or++)if(Ne(U,we+Or)!==Ne(C,Or)){xr=!1;break}if(xr)return we}return-1}b.prototype.includes=function(C,A,q){return this.indexOf(C,A,q)!==-1},b.prototype.indexOf=function(C,A,q){return x(this,C,A,q,!0)},b.prototype.lastIndexOf=function(C,A,q){return x(this,C,A,q,!1)};function Y(U,C,A,q){A=Number(A)||0;var at=U.length-A;q?(q=Number(q),q>at&&(q=at)):q=at;var Ot=C.length;if(Ot%2!=0)throw new TypeError("Invalid hex string");q>Ot/2&&(q=Ot/2);for(var St=0;St<q;++St){var xe=parseInt(C.substr(St*2,2),16);if(isNaN(xe))return St;U[A+St]=xe}return St}function nt(U,C,A,q){return N(ve(C,U.length-A),U,A,q)}function xt(U,C,A,q){return N(re(C),U,A,q)}function Dt(U,C,A,q){return xt(U,C,A,q)}function Ut(U,C,A,q){return N(de(C),U,A,q)}function fe(U,C,A,q){return N(Yt(C,U.length-A),U,A,q)}b.prototype.write=function(C,A,q,at){if(A===void 0)at="utf8",q=this.length,A=0;else if(q===void 0&&typeof A=="string")at=A,q=this.length,A=0;else if(isFinite(A))A=A|0,isFinite(q)?(q=q|0,at===void 0&&(at="utf8")):(at=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ot=this.length-A;if((q===void 0||q>Ot)&&(q=Ot),C.length>0&&(q<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");at||(at="utf8");for(var St=!1;;)switch(at){case"hex":return Y(this,C,A,q);case"utf8":case"utf-8":return nt(this,C,A,q);case"ascii":return xt(this,C,A,q);case"latin1":case"binary":return Dt(this,C,A,q);case"base64":return Ut(this,C,A,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,C,A,q);default:if(St)throw new TypeError("Unknown encoding: "+at);at=(""+at).toLowerCase(),St=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Oe(U,C,A){return C===0&&A===U.length?O.fromByteArray(U):O.fromByteArray(U.slice(C,A))}function _t(U,C,A){A=Math.min(U.length,A);for(var q=[],at=C;at<A;){var Ot=U[at],St=null,xe=Ot>239?4:Ot>223?3:Ot>191?2:1;if(at+xe<=A){var Ne,we,Ke,xr;switch(xe){case 1:Ot<128&&(St=Ot);break;case 2:Ne=U[at+1],(Ne&192)==128&&(xr=(Ot&31)<<6|Ne&63,xr>127&&(St=xr));break;case 3:Ne=U[at+1],we=U[at+2],(Ne&192)==128&&(we&192)==128&&(xr=(Ot&15)<<12|(Ne&63)<<6|we&63,xr>2047&&(xr<55296||xr>57343)&&(St=xr));break;case 4:Ne=U[at+1],we=U[at+2],Ke=U[at+3],(Ne&192)==128&&(we&192)==128&&(Ke&192)==128&&(xr=(Ot&15)<<18|(Ne&63)<<12|(we&63)<<6|Ke&63,xr>65535&&xr<1114112&&(St=xr))}}St===null?(St=65533,xe=1):St>65535&&(St-=65536,q.push(St>>>10&1023|55296),St=56320|St&1023),q.push(St),at+=xe}return J(q)}var Vt=4096;function J(U){var C=U.length;if(C<=Vt)return String.fromCharCode.apply(String,U);for(var A="",q=0;q<C;)A+=String.fromCharCode.apply(String,U.slice(q,q+=Vt));return A}function be(U,C,A){var q="";A=Math.min(U.length,A);for(var at=C;at<A;++at)q+=String.fromCharCode(U[at]&127);return q}function Qe(U,C,A){var q="";A=Math.min(U.length,A);for(var at=C;at<A;++at)q+=String.fromCharCode(U[at]);return q}function W(U,C,A){var q=U.length;(!C||C<0)&&(C=0),(!A||A<0||A>q)&&(A=q);for(var at="",Ot=C;Ot<A;++Ot)at+=ce(U[Ot]);return at}function At(U,C,A){for(var q=U.slice(C,A),at="",Ot=0;Ot<q.length;Ot+=2)at+=String.fromCharCode(q[Ot]+q[Ot+1]*256);return at}b.prototype.slice=function(C,A){var q=this.length;C=~~C,A=A===void 0?q:~~A,C<0?(C+=q,C<0&&(C=0)):C>q&&(C=q),A<0?(A+=q,A<0&&(A=0)):A>q&&(A=q),A<C&&(A=C);var at;if(b.TYPED_ARRAY_SUPPORT)at=this.subarray(C,A),at.__proto__=b.prototype;else{var Ot=A-C;at=new b(Ot,void 0);for(var St=0;St<Ot;++St)at[St]=this[St+C]}return at};function V(U,C,A){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+C>A)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUIntLE=function(C,A,q){C=C|0,A=A|0,q||V(C,A,this.length);for(var at=this[C],Ot=1,St=0;++St<A&&(Ot*=256);)at+=this[C+St]*Ot;return at},b.prototype.readUIntBE=function(C,A,q){C=C|0,A=A|0,q||V(C,A,this.length);for(var at=this[C+--A],Ot=1;A>0&&(Ot*=256);)at+=this[C+--A]*Ot;return at},b.prototype.readUInt8=function(C,A){return A||V(C,1,this.length),this[C]},b.prototype.readUInt16LE=function(C,A){return A||V(C,2,this.length),this[C]|this[C+1]<<8},b.prototype.readUInt16BE=function(C,A){return A||V(C,2,this.length),this[C]<<8|this[C+1]},b.prototype.readUInt32LE=function(C,A){return A||V(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},b.prototype.readUInt32BE=function(C,A){return A||V(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},b.prototype.readIntLE=function(C,A,q){C=C|0,A=A|0,q||V(C,A,this.length);for(var at=this[C],Ot=1,St=0;++St<A&&(Ot*=256);)at+=this[C+St]*Ot;return Ot*=128,at>=Ot&&(at-=Math.pow(2,8*A)),at},b.prototype.readIntBE=function(C,A,q){C=C|0,A=A|0,q||V(C,A,this.length);for(var at=A,Ot=1,St=this[C+--at];at>0&&(Ot*=256);)St+=this[C+--at]*Ot;return Ot*=128,St>=Ot&&(St-=Math.pow(2,8*A)),St},b.prototype.readInt8=function(C,A){return A||V(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},b.prototype.readInt16LE=function(C,A){A||V(C,2,this.length);var q=this[C]|this[C+1]<<8;return q&32768?q|4294901760:q},b.prototype.readInt16BE=function(C,A){A||V(C,2,this.length);var q=this[C+1]|this[C]<<8;return q&32768?q|4294901760:q},b.prototype.readInt32LE=function(C,A){return A||V(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},b.prototype.readInt32BE=function(C,A){return A||V(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},b.prototype.readFloatLE=function(C,A){return A||V(C,4,this.length),me.read(this,C,!0,23,4)},b.prototype.readFloatBE=function(C,A){return A||V(C,4,this.length),me.read(this,C,!1,23,4)},b.prototype.readDoubleLE=function(C,A){return A||V(C,8,this.length),me.read(this,C,!0,52,8)},b.prototype.readDoubleBE=function(C,A){return A||V(C,8,this.length),me.read(this,C,!1,52,8)};function it(U,C,A,q,at,Ot){if(!b.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>at||C<Ot)throw new RangeError('"value" argument is out of bounds');if(A+q>U.length)throw new RangeError("Index out of range")}b.prototype.writeUIntLE=function(C,A,q,at){if(C=+C,A=A|0,q=q|0,!at){var Ot=Math.pow(2,8*q)-1;it(this,C,A,q,Ot,0)}var St=1,xe=0;for(this[A]=C&255;++xe<q&&(St*=256);)this[A+xe]=C/St&255;return A+q},b.prototype.writeUIntBE=function(C,A,q,at){if(C=+C,A=A|0,q=q|0,!at){var Ot=Math.pow(2,8*q)-1;it(this,C,A,q,Ot,0)}var St=q-1,xe=1;for(this[A+St]=C&255;--St>=0&&(xe*=256);)this[A+St]=C/xe&255;return A+q},b.prototype.writeUInt8=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,1,255,0),b.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),this[A]=C&255,A+1};function et(U,C,A,q){C<0&&(C=65535+C+1);for(var at=0,Ot=Math.min(U.length-A,2);at<Ot;++at)U[A+at]=(C&255<<8*(q?at:1-at))>>>(q?at:1-at)*8}b.prototype.writeUInt16LE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[A]=C&255,this[A+1]=C>>>8):et(this,C,A,!0),A+2},b.prototype.writeUInt16BE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[A]=C>>>8,this[A+1]=C&255):et(this,C,A,!1),A+2};function F(U,C,A,q){C<0&&(C=4294967295+C+1);for(var at=0,Ot=Math.min(U.length-A,4);at<Ot;++at)U[A+at]=C>>>(q?at:3-at)*8&255}b.prototype.writeUInt32LE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[A+3]=C>>>24,this[A+2]=C>>>16,this[A+1]=C>>>8,this[A]=C&255):F(this,C,A,!0),A+4},b.prototype.writeUInt32BE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[A]=C>>>24,this[A+1]=C>>>16,this[A+2]=C>>>8,this[A+3]=C&255):F(this,C,A,!1),A+4},b.prototype.writeIntLE=function(C,A,q,at){if(C=+C,A=A|0,!at){var Ot=Math.pow(2,8*q-1);it(this,C,A,q,Ot-1,-Ot)}var St=0,xe=1,Ne=0;for(this[A]=C&255;++St<q&&(xe*=256);)C<0&&Ne===0&&this[A+St-1]!==0&&(Ne=1),this[A+St]=(C/xe>>0)-Ne&255;return A+q},b.prototype.writeIntBE=function(C,A,q,at){if(C=+C,A=A|0,!at){var Ot=Math.pow(2,8*q-1);it(this,C,A,q,Ot-1,-Ot)}var St=q-1,xe=1,Ne=0;for(this[A+St]=C&255;--St>=0&&(xe*=256);)C<0&&Ne===0&&this[A+St+1]!==0&&(Ne=1),this[A+St]=(C/xe>>0)-Ne&255;return A+q},b.prototype.writeInt8=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,1,127,-128),b.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),C<0&&(C=255+C+1),this[A]=C&255,A+1},b.prototype.writeInt16LE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[A]=C&255,this[A+1]=C>>>8):et(this,C,A,!0),A+2},b.prototype.writeInt16BE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[A]=C>>>8,this[A+1]=C&255):et(this,C,A,!1),A+2},b.prototype.writeInt32LE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[A]=C&255,this[A+1]=C>>>8,this[A+2]=C>>>16,this[A+3]=C>>>24):F(this,C,A,!0),A+4},b.prototype.writeInt32BE=function(C,A,q){return C=+C,A=A|0,q||it(this,C,A,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),b.TYPED_ARRAY_SUPPORT?(this[A]=C>>>24,this[A+1]=C>>>16,this[A+2]=C>>>8,this[A+3]=C&255):F(this,C,A,!1),A+4};function K(U,C,A,q,at,Ot){if(A+q>U.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function ht(U,C,A,q,at){return at||K(U,C,A,4,34028234663852886e22,-34028234663852886e22),me.write(U,C,A,q,23,4),A+4}b.prototype.writeFloatLE=function(C,A,q){return ht(this,C,A,!0,q)},b.prototype.writeFloatBE=function(C,A,q){return ht(this,C,A,!1,q)};function dt(U,C,A,q,at){return at||K(U,C,A,8,17976931348623157e292,-17976931348623157e292),me.write(U,C,A,q,52,8),A+8}b.prototype.writeDoubleLE=function(C,A,q){return dt(this,C,A,!0,q)},b.prototype.writeDoubleBE=function(C,A,q){return dt(this,C,A,!1,q)},b.prototype.copy=function(C,A,q,at){if(q||(q=0),!at&&at!==0&&(at=this.length),A>=C.length&&(A=C.length),A||(A=0),at>0&&at<q&&(at=q),at===q||C.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("sourceStart out of bounds");if(at<0)throw new RangeError("sourceEnd out of bounds");at>this.length&&(at=this.length),C.length-A<at-q&&(at=C.length-A+q);var Ot=at-q,St;if(this===C&&q<A&&A<at)for(St=Ot-1;St>=0;--St)C[St+A]=this[St+q];else if(Ot<1e3||!b.TYPED_ARRAY_SUPPORT)for(St=0;St<Ot;++St)C[St+A]=this[St+q];else Uint8Array.prototype.set.call(C,this.subarray(q,q+Ot),A);return Ot},b.prototype.fill=function(C,A,q,at){if(typeof C=="string"){if(typeof A=="string"?(at=A,A=0,q=this.length):typeof q=="string"&&(at=q,q=this.length),C.length===1){var Ot=C.charCodeAt(0);Ot<256&&(C=Ot)}if(at!==void 0&&typeof at!="string")throw new TypeError("encoding must be a string");if(typeof at=="string"&&!b.isEncoding(at))throw new TypeError("Unknown encoding: "+at)}else typeof C=="number"&&(C=C&255);if(A<0||this.length<A||this.length<q)throw new RangeError("Out of range index");if(q<=A)return this;A=A>>>0,q=q===void 0?this.length:q>>>0,C||(C=0);var St;if(typeof C=="number")for(St=A;St<q;++St)this[St]=C;else{var xe=b.isBuffer(C)?C:ve(new b(C,at).toString()),Ne=xe.length;for(St=0;St<q-A;++St)this[St+A]=xe[St%Ne]}return this};var Wt=/[^+\/0-9A-Za-z-_]/g;function Tt(U){if(U=jt(U).replace(Wt,""),U.length<2)return"";for(;U.length%4!=0;)U=U+"=";return U}function jt(U){return U.trim?U.trim():U.replace(/^\s+|\s+$/g,"")}function ce(U){return U<16?"0"+U.toString(16):U.toString(16)}function ve(U,C){C=C||Infinity;for(var A,q=U.length,at=null,Ot=[],St=0;St<q;++St){if(A=U.charCodeAt(St),A>55295&&A<57344){if(!at){if(A>56319){(C-=3)>-1&&Ot.push(239,191,189);continue}else if(St+1===q){(C-=3)>-1&&Ot.push(239,191,189);continue}at=A;continue}if(A<56320){(C-=3)>-1&&Ot.push(239,191,189),at=A;continue}A=(at-55296<<10|A-56320)+65536}else at&&(C-=3)>-1&&Ot.push(239,191,189);if(at=null,A<128){if((C-=1)<0)break;Ot.push(A)}else if(A<2048){if((C-=2)<0)break;Ot.push(A>>6|192,A&63|128)}else if(A<65536){if((C-=3)<0)break;Ot.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((C-=4)<0)break;Ot.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return Ot}function re(U){for(var C=[],A=0;A<U.length;++A)C.push(U.charCodeAt(A)&255);return C}function Yt(U,C){for(var A,q,at,Ot=[],St=0;St<U.length&&!((C-=2)<0);++St)A=U.charCodeAt(St),q=A>>8,at=A%256,Ot.push(at),Ot.push(q);return Ot}function de(U){return O.toByteArray(Tt(U))}function N(U,C,A,q){for(var at=0;at<q&&!(at+A>=C.length||at>=U.length);++at)C[at+A]=U[at];return at}function Bt(U){return U!==U}}).call(this,De("IyRk"))},Iab2:function(un,_r,De){(function(Xe){var O,me,pt;(function(ft,Gt){me=[],O=Gt,pt=typeof O=="function"?O.apply(_r,me):O,pt!==void 0&&(un.exports=pt)})(this,function(){"use strict";function ft(o,e){return typeof e=="undefined"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function Gt(o,e,n){var t=new XMLHttpRequest;t.open("GET",o),t.responseType="blob",t.onload=function(){u(t.response,e,n)},t.onerror=function(){console.error("could not download file")},t.send()}function tt(o){var e=new XMLHttpRequest;e.open("HEAD",o,!1);try{e.send()}catch(n){}return 200<=e.status&&299>=e.status}function b(o){try{o.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(e)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Xe=="object"&&Xe.global===Xe?Xe:void 0,h=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(o,e,n){var t=s.URL||s.webkitURL,a=document.createElement("a");e=e||o.name||"download",a.download=e,a.rel="noopener",typeof o=="string"?(a.href=o,a.origin===location.origin?b(a):tt(a.href)?Gt(o,e,n):b(a,a.target="_blank")):(a.href=t.createObjectURL(o),setTimeout(function(){t.revokeObjectURL(a.href)},4e4),setTimeout(function(){b(a)},0))}:"msSaveOrOpenBlob"in navigator?function(o,e,n){if(e=e||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(ft(o,n),e);else if(tt(o))Gt(o,e,n);else{var t=document.createElement("a");t.href=o,t.target="_blank",setTimeout(function(){b(t)})}}:function(o,e,n,t){if(t=t||open("","_blank"),t&&(t.document.title=t.document.body.innerText="downloading..."),typeof o=="string")return Gt(o,e,n);var a=o.type==="application/octet-stream",l=/constructor/i.test(s.HTMLElement)||s.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&l||h)&&typeof FileReader!="undefined"){var f=new FileReader;f.onloadend=function(){var x=f.result;x=i?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=x:location=x,t=null},f.readAsDataURL(o)}else{var p=s.URL||s.webkitURL,m=p.createObjectURL(o);t?t.location=m:location.href=m,t=null,setTimeout(function(){p.revokeObjectURL(m)},4e4)}});s.saveAs=u.saveAs=u,un.exports=u})}).call(this,De("IyRk"))},JhKR:function(un,_r){var De=0,Xe=1,O=2,me=3,pt=4,ft=5,Gt=6,tt=/[a-z0-9_-]/i,b=/[\s\t]/,s=function(e){for(var n=!0,t=De,a="",l=0,i,f,p=[];;){if(f=e[l],t===De){if(!f&&n)break;if(!f&&!n)throw new Error("Parse error");if(f==='"'||f==="'")i=f,t=Xe,n=!1;else if(!b.test(f))if(tt.test(f))t=me,n=!1,l--;else throw new Error("Parse error")}else if(t===Xe)if(f)f==="\\"?t=O:f===i?(p.push(a),a="",t=pt):a+=f;else throw new Error("Parse Error");else if(t===O)if(f===i||f==="\\")a+=f,t=Xe;else throw new Error("Parse error");else if(t===me)if(f)tt.test(f)?a+=f:f===","?(p.push(a),a="",t=De):b.test(f)?t=ft:f==="\\"&&(t=Gt);else{p.push(a);break}else if(t===Gt){if(/[0-9a-f]/i.test(f))throw new Error("Parse error");a+=f,t=me}else if(t===ft)if(f){if(tt.test(f))a+=" "+f,t=me;else if(f===",")p.push(a),a="",t=De;else if(!b.test(f))throw new Error("Parse error")}else{p.push(a);break}else if(t===pt)if(f){if(f===",")t=De;else if(!b.test(f))throw new Error("Parse error")}else break;l++}return p},h=/[^a-z0-9_-]/i,u=function(e,n){var t=n&&n.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Quote must be `'` or `\"`");for(var a=new RegExp(t,"g"),l=[],i=0;i<e.length;++i){var f=e[i];h.test(f)&&(f=f.replace(/\\/g,"\\\\").replace(a,"\\"+t),f=t+f+t),l.push(f)}return l.join(", ")};un.exports={parse:s,stringify:u}},LvDl:function(un,_r,De){(function(Xe,O){var me;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var pt,ft="4.17.21",Gt=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",u=500,o="__lodash_placeholder__",e=1,n=2,t=4,a=1,l=2,i=1,f=2,p=4,m=8,x=16,M=32,Y=64,nt=128,xt=256,Dt=512,Ut=30,fe="...",Oe=800,_t=16,Vt=1,J=2,be=3,Qe=1/0,W=9007199254740991,At=17976931348623157e292,V=0/0,it=4294967295,et=it-1,F=it>>>1,K=[["ary",nt],["bind",i],["bindKey",f],["curry",m],["curryRight",x],["flip",Dt],["partial",M],["partialRight",Y],["rearg",xt]],ht="[object Arguments]",dt="[object Array]",Wt="[object AsyncFunction]",Tt="[object Boolean]",jt="[object Date]",ce="[object DOMException]",ve="[object Error]",re="[object Function]",Yt="[object GeneratorFunction]",de="[object Map]",N="[object Number]",Bt="[object Null]",U="[object Object]",C="[object Promise]",A="[object Proxy]",q="[object RegExp]",at="[object Set]",Ot="[object String]",St="[object Symbol]",xe="[object Undefined]",Ne="[object WeakMap]",we="[object WeakSet]",Ke="[object ArrayBuffer]",xr="[object DataView]",Or="[object Float32Array]",Jr="[object Float64Array]",fn="[object Int8Array]",En="[object Int16Array]",ri="[object Int32Array]",Yr="[object Uint8Array]",zn="[object Uint8ClampedArray]",pi="[object Uint16Array]",Jn="[object Uint32Array]",ki=/\b__p \+= '';/g,ni=/\b(__p \+=) '' \+/g,Ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mr=/&(?:amp|lt|gt|quot|#39);/g,Ki=/[&<>"']/g,va=RegExp(Mr.source),ya=RegExp(Ki.source),$o=/<%-([\s\S]+?)%>/g,Qs=/<%([\s\S]+?)%>/g,Va=/<%=([\s\S]+?)%>/g,Co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ao=/^\w*$/,hs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cs=/[\\^$.*+?()[\]{}|]/g,Ll=RegExp(cs.source),to=/^\s+/,ks=/\s/,Es=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,To=/\{\n\/\* \[wrapped with (.+)\] \*/,Qo=/,? & /,Fs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xa=/[()=,{}\[\]\/\s]/,tl=/\\(\\)?/g,el=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Z=/\w*$/,B=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,G=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,Lt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Me="\\ud800-\\udfff",ne="\\u0300-\\u036f",je="\\ufe20-\\ufe2f",jr="\\u20d0-\\u20ff",Rt=ne+je+jr,Q="\\u2700-\\u27bf",rt="a-z\\xdf-\\xf6\\xf8-\\xff",Et="\\xac\\xb1\\xd7\\xf7",Jt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pe="\\u2000-\\u206f",Ue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rr="A-Z\\xc0-\\xd6\\xd8-\\xde",nr="\\ufe0e\\ufe0f",He=Et+Jt+pe+Ue,Sr="['\u2019]",yr="["+Me+"]",ln="["+He+"]",Qr="["+Rt+"]",Br="\\d+",xn="["+Q+"]",tn="["+rt+"]",yn="[^"+Me+He+Br+Q+rt+rr+"]",Yn="\\ud83c[\\udffb-\\udfff]",Fn="(?:"+Qr+"|"+Yn+")",k="[^"+Me+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",w="["+rr+"]",T="\\u200d",S="(?:"+tn+"|"+yn+")",L="(?:"+w+"|"+yn+")",j="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",$=Fn+"?",bt="["+nr+"]?",vt="(?:"+T+"(?:"+[k,g,y].join("|")+")"+bt+$+")*",kt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",X="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kt=bt+$+vt,It="(?:"+[xn,g,y].join("|")+")"+Kt,$t="(?:"+[k+Qr+"?",Qr,g,y,yr].join("|")+")",Mt=RegExp(Sr,"g"),gt=RegExp(Qr,"g"),Ae=RegExp(Yn+"(?="+Yn+")|"+$t+Kt,"g"),Be=RegExp([w+"?"+tn+"+"+j+"(?="+[ln,w,"$"].join("|")+")",L+"+"+I+"(?="+[ln,w+S,"$"].join("|")+")",w+"?"+S+"+"+j,w+"+"+I,X,kt,Br,It].join("|"),"g"),tr=RegExp("["+T+Me+Rt+nr+"]"),fr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ge=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gr=-1,oe={};oe[Or]=oe[Jr]=oe[fn]=oe[En]=oe[ri]=oe[Yr]=oe[zn]=oe[pi]=oe[Jn]=!0,oe[ht]=oe[dt]=oe[Ke]=oe[Tt]=oe[xr]=oe[jt]=oe[ve]=oe[re]=oe[de]=oe[N]=oe[U]=oe[q]=oe[at]=oe[Ot]=oe[Ne]=!1;var Ve={};Ve[ht]=Ve[dt]=Ve[Ke]=Ve[xr]=Ve[Tt]=Ve[jt]=Ve[Or]=Ve[Jr]=Ve[fn]=Ve[En]=Ve[ri]=Ve[de]=Ve[N]=Ve[U]=Ve[q]=Ve[at]=Ve[Ot]=Ve[St]=Ve[Yr]=Ve[zn]=Ve[pi]=Ve[Jn]=!0,Ve[ve]=Ve[re]=Ve[Ne]=!1;var ie={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},se={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$e=parseFloat,Ze=parseInt,pr=typeof Xe=="object"&&Xe&&Xe.Object===Object&&Xe,Re=typeof self=="object"&&self&&self.Object===Object&&self,br=pr||Re||Function("return this")(),er=_r&&!_r.nodeType&&_r,Ar=er&&typeof O=="object"&&O&&!O.nodeType&&O,te=Ar&&Ar.exports===er,wt=te&&pr.process,Qt=function(){try{var Se=Ar&&Ar.require&&Ar.require("util").types;return Se||wt&&wt.binding&&wt.binding("util")}catch(Je){}}(),ge=Qt&&Qt.isArrayBuffer,Pe=Qt&&Qt.isDate,Ie=Qt&&Qt.isMap,ar=Qt&&Qt.isRegExp,We=Qt&&Qt.isSet,Ye=Qt&&Qt.isTypedArray;function mr(Se,Je,ze){switch(ze.length){case 0:return Se.call(Je);case 1:return Se.call(Je,ze[0]);case 2:return Se.call(Je,ze[0],ze[1]);case 3:return Se.call(Je,ze[0],ze[1],ze[2])}return Se.apply(Je,ze)}function Wr(Se,Je,ze,Ur){for(var an=-1,Nn=Se==null?0:Se.length;++an<Nn;){var Qn=Se[an];Je(Ur,Qn,ze(Qn),Se)}return Ur}function Pr(Se,Je){for(var ze=-1,Ur=Se==null?0:Se.length;++ze<Ur&&Je(Se[ze],ze,Se)!==!1;);return Se}function rn(Se,Je){for(var ze=Se==null?0:Se.length;ze--&&Je(Se[ze],ze,Se)!==!1;);return Se}function Vr(Se,Je){for(var ze=-1,Ur=Se==null?0:Se.length;++ze<Ur;)if(!Je(Se[ze],ze,Se))return!1;return!0}function qt(Se,Je){for(var ze=-1,Ur=Se==null?0:Se.length,an=0,Nn=[];++ze<Ur;){var Qn=Se[ze];Je(Qn,ze,Se)&&(Nn[an++]=Qn)}return Nn}function sr(Se,Je){var ze=Se==null?0:Se.length;return!!ze&&Kr(Se,Je,0)>-1}function Fr(Se,Je,ze){for(var Ur=-1,an=Se==null?0:Se.length;++Ur<an;)if(ze(Je,Se[Ur]))return!0;return!1}function ir(Se,Je){for(var ze=-1,Ur=Se==null?0:Se.length,an=Array(Ur);++ze<Ur;)an[ze]=Je(Se[ze],ze,Se);return an}function Ir(Se,Je){for(var ze=-1,Ur=Je.length,an=Se.length;++ze<Ur;)Se[an+ze]=Je[ze];return Se}function Tr(Se,Je,ze,Ur){var an=-1,Nn=Se==null?0:Se.length;for(Ur&&Nn&&(ze=Se[++an]);++an<Nn;)ze=Je(ze,Se[an],an,Se);return ze}function zr(Se,Je,ze,Ur){var an=Se==null?0:Se.length;for(Ur&&an&&(ze=Se[--an]);an--;)ze=Je(ze,Se[an],an,Se);return ze}function Hr(Se,Je){for(var ze=-1,Ur=Se==null?0:Se.length;++ze<Ur;)if(Je(Se[ze],ze,Se))return!0;return!1}var Xr=Vn("length");function In(Se){return Se.split("")}function en(Se){return Se.match(Fs)||[]}function Tn(Se,Je,ze){var Ur;return ze(Se,function(an,Nn,Qn){if(Je(an,Nn,Qn))return Ur=Nn,!1}),Ur}function qn(Se,Je,ze,Ur){for(var an=Se.length,Nn=ze+(Ur?1:-1);Ur?Nn--:++Nn<an;)if(Je(Se[Nn],Nn,Se))return Nn;return-1}function Kr(Se,Je,ze){return Je===Je?Na(Se,Je,ze):qn(Se,Nr,ze)}function dn(Se,Je,ze,Ur){for(var an=ze-1,Nn=Se.length;++an<Nn;)if(Ur(Se[an],Je))return an;return-1}function Nr(Se){return Se!==Se}function Bi(Se,Je){var ze=Se==null?0:Se.length;return ze?ba(Se,Je)/ze:V}function Vn(Se){return function(Je){return Je==null?pt:Je[Se]}}function Ci(Se){return function(Je){return Se==null?pt:Se[Je]}}function bn(Se,Je,ze,Ur,an){return an(Se,function(Nn,Qn,Pn){ze=Ur?(Ur=!1,Nn):Je(ze,Nn,Qn,Pn)}),ze}function gi(Se,Je){var ze=Se.length;for(Se.sort(Je);ze--;)Se[ze]=Se[ze].value;return Se}function ba(Se,Je){for(var ze,Ur=-1,an=Se.length;++Ur<an;){var Nn=Je(Se[Ur]);Nn!==pt&&(ze=ze===pt?Nn:ze+Nn)}return ze}function Bn(Se,Je){for(var ze=-1,Ur=Array(Se);++ze<Se;)Ur[ze]=Je(ze);return Ur}function Ka(Se,Je){return ir(Je,function(ze){return[ze,Se[ze]]})}function li(Se){return Se&&Se.slice(0,ia(Se)+1).replace(to,"")}function mi(Se){return function(Je){return Se(Je)}}function na(Se,Je){return ir(Je,function(ze){return Se[ze]})}function $n(Se,Je){return Se.has(Je)}function hn(Se,Je){for(var ze=-1,Ur=Se.length;++ze<Ur&&Kr(Je,Se[ze],0)>-1;);return ze}function Un(Se,Je){for(var ze=Se.length;ze--&&Kr(Je,Se[ze],0)>-1;);return ze}function eo(Se,Je){for(var ze=Se.length,Ur=0;ze--;)Se[ze]===Je&&++Ur;return Ur}var ji=Ci(ie),Za=Ci(zt);function Ja(Se){return"\\"+ae[Se]}function nn(Se,Je){return Se==null?pt:Se[Je]}function Zi(Se){return tr.test(Se)}function _a(Se){return fr.test(Se)}function fs(Se){for(var Je,ze=[];!(Je=Se.next()).done;)ze.push(Je.value);return ze}function ii(Se){var Je=-1,ze=Array(Se.size);return Se.forEach(function(Ur,an){ze[++Je]=[an,Ur]}),ze}function Ai(Se,Je){return function(ze){return Se(Je(ze))}}function ai(Se,Je){for(var ze=-1,Ur=Se.length,an=0,Nn=[];++ze<Ur;){var Qn=Se[ze];(Qn===Je||Qn===o)&&(Se[ze]=o,Nn[an++]=ze)}return Nn}function $a(Se){var Je=-1,ze=Array(Se.size);return Se.forEach(function(Ur){ze[++Je]=Ur}),ze}function Is(Se){var Je=-1,ze=Array(Se.size);return Se.forEach(function(Ur){ze[++Je]=[Ur,Ur]}),ze}function Na(Se,Je,ze){for(var Ur=ze-1,an=Se.length;++Ur<an;)if(Se[Ur]===Je)return Ur;return-1}function Qa(Se,Je,ze){for(var Ur=ze+1;Ur--;)if(Se[Ur]===Je)return Ur;return Ur}function zi(Se){return Zi(Se)?ts(Se):Xr(Se)}function vi(Se){return Zi(Se)?no(Se):In(Se)}function ia(Se){for(var Je=Se.length;Je--&&ks.test(Se.charAt(Je)););return Je}var ro=Ci(se);function ts(Se){for(var Je=Ae.lastIndex=0;Ae.test(Se);)++Je;return Je}function no(Se){return Se.match(Ae)||[]}function Po(Se){return Se.match(Be)||[]}var Oo=function Se(Je){Je=Je==null?br:ds.defaults(br.Object(),Je,ds.pick(br,Ge));var ze=Je.Array,Ur=Je.Date,an=Je.Error,Nn=Je.Function,Qn=Je.Math,Pn=Je.Object,rl=Je.RegExp,kl=Je.String,Ji=Je.TypeError,$i=ze.prototype,io=Nn.prototype,Ns=Pn.prototype,ui=Je["__core-js_shared__"],Ms=io.toString,Dn=Ns.hasOwnProperty,fu=0,nl=function(){var r=/[^.]+$/.exec(ui&&ui.keys&&ui.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),Lo=Ns.toString,Ni=Ms.call(Pn),ao=br._,ps=rl("^"+Ms.call(Dn).replace(cs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=te?Je.Buffer:pt,Ma=Je.Symbol,ko=Je.Uint8Array,il=so?so.allocUnsafe:pt,Eo=Ai(Pn.getPrototypeOf,Pn),El=Pn.create,Fl=Ns.propertyIsEnumerable,Ds=$i.splice,Il=Ma?Ma.isConcatSpreadable:pt,aa=Ma?Ma.iterator:pt,wa=Ma?Ma.toStringTag:pt,Fo=function(){try{var r=vn(Pn,"defineProperty");return r({},"",{}),r}catch(c){}}(),Nl=Je.clearTimeout!==br.clearTimeout&&Je.clearTimeout,Ti=Ur&&Ur.now!==br.Date.now&&Ur.now,du=Je.setTimeout!==br.setTimeout&&Je.setTimeout,oo=Qn.ceil,Io=Qn.floor,al=Pn.getOwnPropertySymbols,cn=so?so.isBuffer:pt,Da=Je.isFinite,Ml=$i.join,Dl=Ai(Pn.keys,Pn),si=Qn.max,_i=Qn.min,pu=Ur.now,gu=Je.parseInt,Rl=Qn.random,sl=$i.reverse,No=vn(Je,"DataView"),xa=vn(Je,"Map"),Rs=vn(Je,"Promise"),Sa=vn(Je,"Set"),gs=vn(Je,"WeakMap"),lo=vn(Pn,"create"),Mo=gs&&new gs,Ra={},Bl=_o(No),jl=_o(xa),ms=_o(Rs),vs=_o(Sa),zl=_o(gs),Do=Ma?Ma.prototype:pt,es=Do?Do.valueOf:pt,Ba=Do?Do.toString:pt;function mt(r){if(Si(r)&&!_n(r)&&!(r instanceof wn)){if(r instanceof Qi)return r;if(Dn.call(r,"__wrapped__"))return Ts(r)}return new Qi(r)}var Bs=function(){function r(){}return function(c){if(!bi(c))return{};if(El)return El(c);r.prototype=c;var _=new r;return r.prototype=pt,_}}();function ys(){}function Qi(r,c){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=pt}mt.templateSettings={escape:$o,evaluate:Qs,interpolate:Va,variable:"",imports:{_:mt}},mt.prototype=ys.prototype,mt.prototype.constructor=mt,Qi.prototype=Bs(ys.prototype),Qi.prototype.constructor=Qi;function wn(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function ol(){var r=new wn(this.__wrapped__);return r.__actions__=Wi(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Wi(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Wi(this.__views__),r}function Ul(){if(this.__filtered__){var r=new wn(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Ro(){var r=this.__wrapped__.value(),c=this.__dir__,_=_n(r),R=c<0,lt=_?r.length:0,Pt=ea(0,lt,this.__views__),Zt=Pt.start,le=Pt.end,Te=le-Zt,cr=R?le:Zt-1,dr=this.__iteratees__,wr=dr.length,Dr=0,Gr=_i(Te,this.__takeCount__);if(!_||!R&&lt==Te&&Gr==Te)return Wu(r,this.__actions__);var sn=[];t:for(;Te--&&Dr<Gr;){cr+=c;for(var Cn=-1,on=r[cr];++Cn<wr;){var kn=dr[Cn],Rn=kn.iteratee,Ga=kn.type,ma=Rn(on);if(Ga==J)on=ma;else if(!ma){if(Ga==Vt)continue t;break t}}sn[Dr++]=on}return sn}wn.prototype=Bs(ys.prototype),wn.prototype.constructor=wn;function rs(r){var c=-1,_=r==null?0:r.length;for(this.clear();++c<_;){var R=r[c];this.set(R[0],R[1])}}function ll(){this.__data__=lo?lo(null):{},this.size=0}function ul(r){var c=this.has(r)&&delete this.__data__[r];return this.size-=c?1:0,c}function mu(r){var c=this.__data__;if(lo){var _=c[r];return _===h?pt:_}return Dn.call(c,r)?c[r]:pt}function Bo(r){var c=this.__data__;return lo?c[r]!==pt:Dn.call(c,r)}function hl(r,c){var _=this.__data__;return this.size+=this.has(r)?0:1,_[r]=lo&&c===pt?h:c,this}rs.prototype.clear=ll,rs.prototype.delete=ul,rs.prototype.get=mu,rs.prototype.has=Bo,rs.prototype.set=hl;function sa(r){var c=-1,_=r==null?0:r.length;for(this.clear();++c<_;){var R=r[c];this.set(R[0],R[1])}}function ns(){this.__data__=[],this.size=0}function cl(r){var c=this.__data__,_=js(c,r);if(_<0)return!1;var R=c.length-1;return _==R?c.pop():Ds.call(c,_,1),--this.size,!0}function D(r){var c=this.__data__,_=js(c,r);return _<0?pt:c[_][1]}function z(r){return js(this.__data__,r)>-1}function Ft(r,c){var _=this.__data__,R=js(_,r);return R<0?(++this.size,_.push([r,c])):_[R][1]=c,this}sa.prototype.clear=ns,sa.prototype.delete=cl,sa.prototype.get=D,sa.prototype.has=z,sa.prototype.set=Ft;function ee(r){var c=-1,_=r==null?0:r.length;for(this.clear();++c<_;){var R=r[c];this.set(R[0],R[1])}}function ke(){this.size=0,this.__data__={hash:new rs,map:new(xa||sa),string:new rs}}function Fe(r){var c=jn(this,r).delete(r);return this.size-=c?1:0,c}function vr(r){return jn(this,r).get(r)}function Cr(r){return jn(this,r).has(r)}function qr(r,c){var _=jn(this,r),R=_.size;return _.set(r,c),this.size+=_.size==R?0:1,this}ee.prototype.clear=ke,ee.prototype.delete=Fe,ee.prototype.get=vr,ee.prototype.has=Cr,ee.prototype.set=qr;function $r(r){var c=-1,_=r==null?0:r.length;for(this.__data__=new ee;++c<_;)this.add(r[c])}function gn(r){return this.__data__.set(r,h),this}function Mn(r){return this.__data__.has(r)}$r.prototype.add=$r.prototype.push=gn,$r.prototype.has=Mn;function An(r){var c=this.__data__=new sa(r);this.size=c.size}function oi(){this.__data__=new sa,this.size=0}function ei(r){var c=this.__data__,_=c.delete(r);return this.size=c.size,_}function qi(r){return this.__data__.get(r)}function wi(r){return this.__data__.has(r)}function ja(r,c){var _=this.__data__;if(_ instanceof sa){var R=_.__data__;if(!xa||R.length<Gt-1)return R.push([r,c]),this.size=++_.size,this;_=this.__data__=new ee(R)}return _.set(r,c),this.size=_.size,this}An.prototype.clear=oi,An.prototype.delete=ei,An.prototype.get=qi,An.prototype.has=wi,An.prototype.set=ja;function uo(r,c){var _=_n(r),R=!_&&Ol(r),lt=!_&&!R&&Jo(r),Pt=!_&&!R&&!lt&&hu(r),Zt=_||R||lt||Pt,le=Zt?Bn(r.length,kl):[],Te=le.length;for(var cr in r)(c||Dn.call(r,cr))&&!(Zt&&(cr=="length"||lt&&(cr=="offset"||cr=="parent")||Pt&&(cr=="buffer"||cr=="byteLength"||cr=="byteOffset")||fi(cr,Te)))&&le.push(cr);return le}function fl(r){var c=r.length;return c?r[Zl(0,c-1)]:pt}function bs(r,c){return bo(Wi(r),as(c,0,r.length))}function dl(r){return bo(Wi(r))}function ho(r,c,_){(_!==pt&&!Os(r[c],_)||_===pt&&!(c in r))&&Ui(r,c,_)}function is(r,c,_){var R=r[c];(!(Dn.call(r,c)&&Os(R,_))||_===pt&&!(c in r))&&Ui(r,c,_)}function js(r,c){for(var _=r.length;_--;)if(Os(r[_][0],c))return _;return-1}function pl(r,c,_,R){return Ei(r,function(lt,Pt,Zt){c(R,lt,_(lt),Zt)}),R}function co(r,c){return r&&Wa(c,Hi(c),r)}function oa(r,c){return r&&Wa(c,Ea(c),r)}function Ui(r,c,_){c=="__proto__"&&Fo?Fo(r,c,{configurable:!0,enumerable:!0,value:_,writable:!0}):r[c]=_}function zs(r,c){for(var _=-1,R=c.length,lt=ze(R),Pt=r==null;++_<R;)lt[_]=Pt?pt:jh(r,c[_]);return lt}function as(r,c,_){return r===r&&(_!==pt&&(r=r<=_?r:_),c!==pt&&(r=r>=c?r:c)),r}function Mi(r,c,_,R,lt,Pt){var Zt,le=c&e,Te=c&n,cr=c&t;if(_&&(Zt=lt?_(r,R,lt,Pt):_(r)),Zt!==pt)return Zt;if(!bi(r))return r;var dr=_n(r);if(dr){if(Zt=Gn(r),!le)return Wi(r,Zt)}else{var wr=Ln(r),Dr=wr==re||wr==Yt;if(Jo(r))return qu(r,le);if(wr==U||wr==ht||Dr&&!lt){if(Zt=Te||Dr?{}:ra(r),!le)return Te?Ku(r,oa(Zt,r)):Sh(r,co(Zt,r))}else{if(!Ve[wr])return lt?r:{};Zt=pa(r,wr,le)}}Pt||(Pt=new An);var Gr=Pt.get(r);if(Gr)return Gr;Pt.set(r,Zt),lc(r)?r.forEach(function(on){Zt.add(Mi(on,c,_,on,r,Pt))}):sc(r)&&r.forEach(function(on,kn){Zt.set(kn,Mi(on,c,_,kn,r,Pt))});var sn=cr?Te?Rr:lr:Te?Ea:Hi,Cn=dr?pt:sn(r);return Pr(Cn||r,function(on,kn){Cn&&(kn=on,on=r[kn]),is(Zt,kn,Mi(on,c,_,kn,r,Pt))}),Zt}function Gi(r){var c=Hi(r);return function(_){return Wl(_,r,c)}}function Wl(r,c,_){var R=_.length;if(r==null)return!R;for(r=Pn(r);R--;){var lt=_[R],Pt=c[lt],Zt=r[lt];if(Zt===pt&&!(lt in r)||!Pt(Zt))return!1}return!0}function jo(r,c,_){if(typeof r!="function")throw new Ji(b);return Ks(function(){r.apply(pt,_)},c)}function fo(r,c,_,R){var lt=-1,Pt=sr,Zt=!0,le=r.length,Te=[],cr=c.length;if(!le)return Te;_&&(c=ir(c,mi(_))),R?(Pt=Fr,Zt=!1):c.length>=Gt&&(Pt=$n,Zt=!1,c=new $r(c));t:for(;++lt<le;){var dr=r[lt],wr=_==null?dr:_(dr);if(dr=R||dr!==0?dr:0,Zt&&wr===wr){for(var Dr=cr;Dr--;)if(c[Dr]===wr)continue t;Te.push(dr)}else Pt(c,wr,R)||Te.push(dr)}return Te}var Ei=Zu(Pi),po=Zu(Us,!0);function vu(r,c){var _=!0;return Ei(r,function(R,lt,Pt){return _=!!c(R,lt,Pt),_}),_}function zo(r,c,_){for(var R=-1,lt=r.length;++R<lt;){var Pt=r[R],Zt=c(Pt);if(Zt!=null&&(le===pt?Zt===Zt&&!qa(Zt):_(Zt,le)))var le=Zt,Te=Pt}return Te}function go(r,c,_,R){var lt=r.length;for(_=Sn(_),_<0&&(_=-_>lt?0:lt+_),R=R===pt||R>lt?lt:Sn(R),R<0&&(R+=lt),R=_>R?0:hc(R);_<R;)r[_++]=c;return r}function Ca(r,c){var _=[];return Ei(r,function(R,lt,Pt){c(R,lt,Pt)&&_.push(R)}),_}function Xn(r,c,_,R,lt){var Pt=-1,Zt=r.length;for(_||(_=Ri),lt||(lt=[]);++Pt<Zt;){var le=r[Pt];c>0&&_(le)?c>1?Xn(le,c-1,_,R,lt):Ir(lt,le):R||(lt[lt.length]=le)}return lt}var _s=Ju(),za=Ju(!0);function Pi(r,c){return r&&_s(r,c,Hi)}function Us(r,c){return r&&za(r,c,Hi)}function ta(r,c){return qt(c,function(_){return wo(r[_])})}function ss(r,c){c=Ys(c,r);for(var _=0,R=c.length;r!=null&&_<R;)r=r[ls(c[_++])];return _&&_==R?r:pt}function Ws(r,c,_){var R=c(r);return _n(r)?R:Ir(R,_(r))}function yi(r){return r==null?r===pt?xe:Bt:wa&&wa in Pn(r)?Zn(r):_l(r)}function os(r,c){return r>c}function Aa(r,c){return r!=null&&Dn.call(r,c)}function Hs(r,c){return r!=null&&c in Pn(r)}function Uo(r,c,_){return r>=_i(c,_)&&r<si(c,_)}function ws(r,c,_){for(var R=_?Fr:sr,lt=r[0].length,Pt=r.length,Zt=Pt,le=ze(Pt),Te=Infinity,cr=[];Zt--;){var dr=r[Zt];Zt&&c&&(dr=ir(dr,mi(c))),Te=_i(dr.length,Te),le[Zt]=!_&&(c||lt>=120&&dr.length>=120)?new $r(Zt&&dr):pt}dr=r[0];var wr=-1,Dr=le[0];t:for(;++wr<lt&&cr.length<Te;){var Gr=dr[wr],sn=c?c(Gr):Gr;if(Gr=_||Gr!==0?Gr:0,!(Dr?$n(Dr,sn):R(cr,sn,_))){for(Zt=Pt;--Zt;){var Cn=le[Zt];if(!(Cn?$n(Cn,sn):R(r[Zt],sn,_)))continue t}Dr&&Dr.push(sn),cr.push(Gr)}}return cr}function qs(r,c,_,R){return Pi(r,function(lt,Pt,Zt){c(R,_(lt),Pt,Zt)}),R}function xs(r,c,_){c=Ys(c,r),r=La(r,c);var R=r==null?r:r[ls(ga(c))];return R==null?pt:mr(R,r,_)}function la(r){return Si(r)&&yi(r)==ht}function Ss(r){return Si(r)&&yi(r)==Ke}function hi(r){return Si(r)&&yi(r)==jt}function Wn(r,c,_,R,lt){return r===c?!0:r==null||c==null||!Si(r)&&!Si(c)?r!==r&&c!==c:Di(r,c,_,R,Wn,lt)}function Di(r,c,_,R,lt,Pt){var Zt=_n(r),le=_n(c),Te=Zt?dt:Ln(r),cr=le?dt:Ln(c);Te=Te==ht?U:Te,cr=cr==ht?U:cr;var dr=Te==U,wr=cr==U,Dr=Te==cr;if(Dr&&Jo(r)){if(!Jo(c))return!1;Zt=!0,dr=!1}if(Dr&&!dr)return Pt||(Pt=new An),Zt||hu(r)?he(r,c,_,R,lt,Pt):_e(r,c,Te,_,R,lt,Pt);if(!(_&a)){var Gr=dr&&Dn.call(r,"__wrapped__"),sn=wr&&Dn.call(c,"__wrapped__");if(Gr||sn){var Cn=Gr?r.value():r,on=sn?c.value():c;return Pt||(Pt=new An),lt(Cn,on,_,R,Pt)}}return Dr?(Pt||(Pt=new An),or(r,c,_,R,lt,Pt)):!1}function ci(r){return Si(r)&&Ln(r)==de}function Yi(r,c,_,R){var lt=_.length,Pt=lt,Zt=!R;if(r==null)return!Pt;for(r=Pn(r);lt--;){var le=_[lt];if(Zt&&le[2]?le[1]!==r[le[0]]:!(le[0]in r))return!1}for(;++lt<Pt;){le=_[lt];var Te=le[0],cr=r[Te],dr=le[1];if(Zt&&le[2]){if(cr===pt&&!(Te in r))return!1}else{var wr=new An;if(R)var Dr=R(cr,dr,Te,r,c,wr);if(!(Dr===pt?Wn(dr,cr,a|l,R,wr):Dr))return!1}}return!0}function Wo(r){if(!bi(r)||yo(r))return!1;var c=wo(r)?ps:G;return c.test(_o(r))}function Cs(r){return Si(r)&&yi(r)==q}function Hl(r){return Si(r)&&Ln(r)==at}function ju(r){return Si(r)&&mh(r.length)&&!!oe[yi(r)]}function yu(r){return typeof r=="function"?r:r==null?Fa:typeof r=="object"?_n(r)?Yl(r[0],r[1]):_u(r):wc(r)}function ql(r){if(!Oa(r))return Dl(r);var c=[];for(var _ in Pn(r))Dn.call(r,_)&&_!="constructor"&&c.push(_);return c}function zu(r){if(!bi(r))return iu(r);var c=Oa(r),_=[];for(var R in r)R=="constructor"&&(c||!Dn.call(r,R))||_.push(R);return _}function Gl(r,c){return r<c}function bu(r,c){var _=-1,R=ka(r)?ze(r.length):[];return Ei(r,function(lt,Pt,Zt){R[++_]=c(lt,Pt,Zt)}),R}function _u(r){var c=On(r);return c.length==1&&c[0][2]?nu(c[0][0],c[0][1]):function(_){return _===r||Yi(_,r,c)}}function Yl(r,c){return Pa(r)&&di(c)?nu(ls(r),c):function(_){var R=jh(_,r);return R===pt&&R===c?zh(_,r):Wn(c,R,a|l)}}function mo(r,c,_,R,lt){r!==c&&_s(c,function(Pt,Zt){if(lt||(lt=new An),bi(Pt))ua(r,c,Zt,_,mo,R,lt);else{var le=R?R(Xs(r,Zt),Pt,Zt+"",r,c,lt):pt;le===pt&&(le=Pt),ho(r,Zt,le)}},Ea)}function ua(r,c,_,R,lt,Pt,Zt){var le=Xs(r,_),Te=Xs(c,_),cr=Zt.get(Te);if(cr){ho(r,_,cr);return}var dr=Pt?Pt(le,Te,_+"",r,c,Zt):pt,wr=dr===pt;if(wr){var Dr=_n(Te),Gr=!Dr&&Jo(Te),sn=!Dr&&!Gr&&hu(Te);dr=Te,Dr||Gr||sn?_n(le)?dr=le:Oi(le)?dr=Wi(le):Gr?(wr=!1,dr=qu(Te,!0)):sn?(wr=!1,dr=Pu(Te,!0)):dr=[]:Bu(Te)||Ol(Te)?(dr=le,Ol(le)?dr=cc(le):(!bi(le)||wo(le))&&(dr=ra(Te))):wr=!1}wr&&(Zt.set(Te,dr),lt(dr,Te,R,Pt,Zt),Zt.delete(Te)),ho(r,_,dr)}function ha(r,c){var _=r.length;if(!!_)return c+=c<0?_:0,fi(c,_)?r[c]:pt}function gl(r,c,_){c.length?c=ir(c,function(Pt){return _n(Pt)?function(Zt){return ss(Zt,Pt.length===1?Pt[0]:Pt)}:Pt}):c=[Fa];var R=-1;c=ir(c,mi(Er()));var lt=bu(r,function(Pt,Zt,le){var Te=ir(c,function(cr){return cr(Pt)});return{criteria:Te,index:++R,value:Pt}});return gi(lt,function(Pt,Zt){return eu(Pt,Zt,_)})}function Vl(r,c){return wu(r,c,function(_,R){return zh(r,R)})}function wu(r,c,_){for(var R=-1,lt=c.length,Pt={};++R<lt;){var Zt=c[R],le=ss(r,Zt);_(le,Zt)&&vl(Pt,Ys(Zt,r),le)}return Pt}function Xl(r){return function(c){return ss(c,r)}}function Ho(r,c,_,R){var lt=R?dn:Kr,Pt=-1,Zt=c.length,le=r;for(r===c&&(c=Wi(c)),_&&(le=ir(r,mi(_)));++Pt<Zt;)for(var Te=0,cr=c[Pt],dr=_?_(cr):cr;(Te=lt(le,dr,Te,R))>-1;)le!==r&&Ds.call(le,Te,1),Ds.call(r,Te,1);return r}function Kl(r,c){for(var _=r?c.length:0,R=_-1;_--;){var lt=c[_];if(_==R||lt!==Pt){var Pt=lt;fi(lt)?Ds.call(r,lt,1):Ql(r,lt)}}return r}function Zl(r,c){return r+Io(Rl()*(c-r+1))}function xu(r,c,_,R){for(var lt=-1,Pt=si(oo((c-r)/(_||1)),0),Zt=ze(Pt);Pt--;)Zt[R?Pt:++lt]=r,r+=_;return Zt}function ml(r,c){var _="";if(!r||c<1||c>W)return _;do c%2&&(_+=r),c=Io(c/2),c&&(r+=r);while(c);return _}function mn(r,c){return au(wl(r,c,Fa),r+"")}function Su(r){return fl(cu(r))}function bh(r,c){var _=cu(r);return bo(_,as(c,0,_.length))}function vl(r,c,_,R){if(!bi(r))return r;c=Ys(c,r);for(var lt=-1,Pt=c.length,Zt=Pt-1,le=r;le!=null&&++lt<Pt;){var Te=ls(c[lt]),cr=_;if(Te==="__proto__"||Te==="constructor"||Te==="prototype")return r;if(lt!=Zt){var dr=le[Te];cr=R?R(dr,Te,le):pt,cr===pt&&(cr=bi(dr)?dr:fi(c[lt+1])?[]:{})}is(le,Te,cr),le=le[Te]}return r}var Cu=Mo?function(r,c){return Mo.set(r,c),r}:Fa,_h=Fo?function(r,c){return Fo(r,"toString",{configurable:!0,enumerable:!1,value:Wh(c),writable:!0})}:Fa;function wh(r){return bo(cu(r))}function Ta(r,c,_){var R=-1,lt=r.length;c<0&&(c=-c>lt?0:lt+c),_=_>lt?lt:_,_<0&&(_+=lt),lt=c>_?0:_-c>>>0,c>>>=0;for(var Pt=ze(lt);++R<lt;)Pt[R]=r[R+c];return Pt}function xh(r,c){var _;return Ei(r,function(R,lt,Pt){return _=c(R,lt,Pt),!_}),!!_}function Jl(r,c,_){var R=0,lt=r==null?R:r.length;if(typeof c=="number"&&c===c&&lt<=F){for(;R<lt;){var Pt=R+lt>>>1,Zt=r[Pt];Zt!==null&&!qa(Zt)&&(_?Zt<=c:Zt<c)?R=Pt+1:lt=Pt}return lt}return yl(r,c,Fa,_)}function yl(r,c,_,R){var lt=0,Pt=r==null?0:r.length;if(Pt===0)return 0;c=_(c);for(var Zt=c!==c,le=c===null,Te=qa(c),cr=c===pt;lt<Pt;){var dr=Io((lt+Pt)/2),wr=_(r[dr]),Dr=wr!==pt,Gr=wr===null,sn=wr===wr,Cn=qa(wr);if(Zt)var on=R||sn;else cr?on=sn&&(R||Dr):le?on=sn&&Dr&&(R||!Gr):Te?on=sn&&Dr&&!Gr&&(R||!Cn):Gr||Cn?on=!1:on=R?wr<=c:wr<c;on?lt=dr+1:Pt=dr}return _i(Pt,et)}function $l(r,c){for(var _=-1,R=r.length,lt=0,Pt=[];++_<R;){var Zt=r[_],le=c?c(Zt):Zt;if(!_||!Os(le,Te)){var Te=le;Pt[lt++]=Zt===0?0:Zt}}return Pt}function qo(r){return typeof r=="number"?r:qa(r)?V:+r}function ca(r){if(typeof r=="string")return r;if(_n(r))return ir(r,ca)+"";if(qa(r))return Ba?Ba.call(r):"";var c=r+"";return c=="0"&&1/r==-Qe?"-0":c}function Gs(r,c,_){var R=-1,lt=sr,Pt=r.length,Zt=!0,le=[],Te=le;if(_)Zt=!1,lt=Fr;else if(Pt>=Gt){var cr=c?null:ue(r);if(cr)return $a(cr);Zt=!1,lt=$n,Te=new $r}else Te=c?[]:le;t:for(;++R<Pt;){var dr=r[R],wr=c?c(dr):dr;if(dr=_||dr!==0?dr:0,Zt&&wr===wr){for(var Dr=Te.length;Dr--;)if(Te[Dr]===wr)continue t;c&&Te.push(wr),le.push(dr)}else lt(Te,wr,_)||(Te!==le&&Te.push(wr),le.push(dr))}return le}function Ql(r,c){return c=Ys(c,r),r=La(r,c),r==null||delete r[ls(ga(c))]}function Uu(r,c,_,R){return vl(r,c,_(ss(r,c)),R)}function tu(r,c,_,R){for(var lt=r.length,Pt=R?lt:-1;(R?Pt--:++Pt<lt)&&c(r[Pt],Pt,r););return _?Ta(r,R?0:Pt,R?Pt+1:lt):Ta(r,R?Pt+1:0,R?lt:Pt)}function Wu(r,c){var _=r;return _ instanceof wn&&(_=_.value()),Tr(c,function(R,lt){return lt.func.apply(lt.thisArg,Ir([R],lt.args))},_)}function Au(r,c,_){var R=r.length;if(R<2)return R?Gs(r[0]):[];for(var lt=-1,Pt=ze(R);++lt<R;)for(var Zt=r[lt],le=-1;++le<R;)le!=lt&&(Pt[lt]=fo(Pt[lt]||Zt,r[le],c,_));return Gs(Xn(Pt,1),c,_)}function As(r,c,_){for(var R=-1,lt=r.length,Pt=c.length,Zt={};++R<lt;){var le=R<Pt?c[R]:pt;_(Zt,r[R],le)}return Zt}function fa(r){return Oi(r)?r:[]}function Ua(r){return typeof r=="function"?r:Fa}function Ys(r,c){return _n(r)?r:Pa(r,c)?[r]:Ko(Kn(r))}var Hu=mn;function Vi(r,c,_){var R=r.length;return _=_===pt?R:_,!c&&_>=R?r:Ta(r,c,_)}var da=Nl||function(r){return br.clearTimeout(r)};function qu(r,c){if(c)return r.slice();var _=r.length,R=il?il(_):new r.constructor(_);return r.copy(R),R}function Tu(r){var c=new r.constructor(r.byteLength);return new ko(c).set(new ko(r)),c}function Gu(r,c){var _=c?Tu(r.buffer):r.buffer;return new r.constructor(_,r.byteOffset,r.byteLength)}function Yu(r){var c=new r.constructor(r.source,Z.exec(r));return c.lastIndex=r.lastIndex,c}function Vu(r){return es?Pn(es.call(r)):{}}function Pu(r,c){var _=c?Tu(r.buffer):r.buffer;return new r.constructor(_,r.byteOffset,r.length)}function Xu(r,c){if(r!==c){var _=r!==pt,R=r===null,lt=r===r,Pt=qa(r),Zt=c!==pt,le=c===null,Te=c===c,cr=qa(c);if(!le&&!cr&&!Pt&&r>c||Pt&&Zt&&Te&&!le&&!cr||R&&Zt&&Te||!_&&Te||!lt)return 1;if(!R&&!Pt&&!cr&&r<c||cr&&_&&lt&&!R&&!Pt||le&&_&&lt||!Zt&&lt||!Te)return-1}return 0}function eu(r,c,_){for(var R=-1,lt=r.criteria,Pt=c.criteria,Zt=lt.length,le=_.length;++R<Zt;){var Te=Xu(lt[R],Pt[R]);if(Te){if(R>=le)return Te;var cr=_[R];return Te*(cr=="desc"?-1:1)}}return r.index-c.index}function bl(r,c,_,R){for(var lt=-1,Pt=r.length,Zt=_.length,le=-1,Te=c.length,cr=si(Pt-Zt,0),dr=ze(Te+cr),wr=!R;++le<Te;)dr[le]=c[le];for(;++lt<Zt;)(wr||lt<Pt)&&(dr[_[lt]]=r[lt]);for(;cr--;)dr[le++]=r[lt++];return dr}function Go(r,c,_,R){for(var lt=-1,Pt=r.length,Zt=-1,le=_.length,Te=-1,cr=c.length,dr=si(Pt-le,0),wr=ze(dr+cr),Dr=!R;++lt<dr;)wr[lt]=r[lt];for(var Gr=lt;++Te<cr;)wr[Gr+Te]=c[Te];for(;++Zt<le;)(Dr||lt<Pt)&&(wr[Gr+_[Zt]]=r[lt++]);return wr}function Wi(r,c){var _=-1,R=r.length;for(c||(c=ze(R));++_<R;)c[_]=r[_];return c}function Wa(r,c,_,R){var lt=!_;_||(_={});for(var Pt=-1,Zt=c.length;++Pt<Zt;){var le=c[Pt],Te=R?R(_[le],r[le],le,_,r):pt;Te===pt&&(Te=r[le]),lt?Ui(_,le,Te):is(_,le,Te)}return _}function Sh(r,c){return Wa(r,Hn(r),c)}function Ku(r,c){return Wa(r,pn(r),c)}function ru(r,c){return function(_,R){var lt=_n(_)?Wr:pl,Pt=c?c():{};return lt(_,r,Er(R,2),Pt)}}function Yo(r){return mn(function(c,_){var R=-1,lt=_.length,Pt=lt>1?_[lt-1]:pt,Zt=lt>2?_[2]:pt;for(Pt=r.length>3&&typeof Pt=="function"?(lt--,Pt):pt,Zt&&ti(_[0],_[1],Zt)&&(Pt=lt<3?pt:Pt,lt=1),c=Pn(c);++R<lt;){var le=_[R];le&&r(c,le,R,Pt)}return c})}function Zu(r,c){return function(_,R){if(_==null)return _;if(!ka(_))return r(_,R);for(var lt=_.length,Pt=c?lt:-1,Zt=Pn(_);(c?Pt--:++Pt<lt)&&R(Zt[Pt],Pt,Zt)!==!1;);return _}}function Ju(r){return function(c,_,R){for(var lt=-1,Pt=Pn(c),Zt=R(c),le=Zt.length;le--;){var Te=Zt[r?le:++lt];if(_(Pt[Te],Te,Pt)===!1)break}return c}}function Ch(r,c,_){var R=c&i,lt=Vs(r);function Pt(){var Zt=this&&this!==br&&this instanceof Pt?lt:r;return Zt.apply(R?_:this,arguments)}return Pt}function $u(r){return function(c){c=Kn(c);var _=Zi(c)?vi(c):pt,R=_?_[0]:c.charAt(0),lt=_?Vi(_,1).join(""):c.slice(1);return R[r]()+lt}}function vo(r){return function(c){return Tr(bc(yc(c).replace(Mt,"")),r,"")}}function Vs(r){return function(){var c=arguments;switch(c.length){case 0:return new r;case 1:return new r(c[0]);case 2:return new r(c[0],c[1]);case 3:return new r(c[0],c[1],c[2]);case 4:return new r(c[0],c[1],c[2],c[3]);case 5:return new r(c[0],c[1],c[2],c[3],c[4]);case 6:return new r(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new r(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var _=Bs(r.prototype),R=r.apply(_,c);return bi(R)?R:_}}function Ah(r,c,_){var R=Vs(r);function lt(){for(var Pt=arguments.length,Zt=ze(Pt),le=Pt,Te=kr(lt);le--;)Zt[le]=arguments[le];var cr=Pt<3&&Zt[0]!==Te&&Zt[Pt-1]!==Te?[]:ai(Zt,Te);if(Pt-=cr.length,Pt<_)return Ct(r,c,d,lt.placeholder,pt,Zt,cr,pt,pt,_-Pt);var dr=this&&this!==br&&this instanceof lt?R:r;return mr(dr,this,Zt)}return lt}function Qu(r){return function(c,_,R){var lt=Pn(c);if(!ka(c)){var Pt=Er(_,3);c=Hi(c),_=function(le){return Pt(lt[le],le,lt)}}var Zt=r(c,_,R);return Zt>-1?lt[Pt?c[Zt]:Zt]:pt}}function Ou(r){return hr(function(c){var _=c.length,R=_,lt=Qi.prototype.thru;for(r&&c.reverse();R--;){var Pt=c[R];if(typeof Pt!="function")throw new Ji(b);if(lt&&!Zt&&Zr(Pt)=="wrapper")var Zt=new Qi([],!0)}for(R=Zt?R:_;++R<_;){Pt=c[R];var le=Zr(Pt),Te=le=="wrapper"?Lr(Pt):pt;Te&&Ha(Te[0])&&Te[1]==(nt|m|M|xt)&&!Te[4].length&&Te[9]==1?Zt=Zt[Zr(Te[0])].apply(Zt,Te[3]):Zt=Pt.length==1&&Ha(Pt)?Zt[le]():Zt.thru(Pt)}return function(){var cr=arguments,dr=cr[0];if(Zt&&cr.length==1&&_n(dr))return Zt.plant(dr).value();for(var wr=0,Dr=_?c[wr].apply(this,cr):dr;++wr<_;)Dr=c[wr].call(this,Dr);return Dr}})}function d(r,c,_,R,lt,Pt,Zt,le,Te,cr){var dr=c&nt,wr=c&i,Dr=c&f,Gr=c&(m|x),sn=c&Dt,Cn=Dr?pt:Vs(r);function on(){for(var kn=arguments.length,Rn=ze(kn),Ga=kn;Ga--;)Rn[Ga]=arguments[Ga];if(Gr)var ma=kr(on),Ya=eo(Rn,ma);if(R&&(Rn=bl(Rn,R,lt,Gr)),Pt&&(Rn=Go(Rn,Pt,Zt,Gr)),kn-=Ya,Gr&&kn<cr){var Li=ai(Rn,ma);return Ct(r,c,d,on.placeholder,_,Rn,Li,le,Te,cr-kn)}var Ls=wr?_:this,So=Dr?Ls[r]:r;return kn=Rn.length,le?Rn=Xo(Rn,le):sn&&kn>1&&Rn.reverse(),dr&&Te<kn&&(Rn.length=Te),this&&this!==br&&this instanceof on&&(So=Cn||Vs(So)),So.apply(Ls,Rn)}return on}function v(r,c){return function(_,R){return qs(_,r,c(R),{})}}function E(r,c){return function(_,R){var lt;if(_===pt&&R===pt)return c;if(_!==pt&&(lt=_),R!==pt){if(lt===pt)return R;typeof _=="string"||typeof R=="string"?(_=ca(_),R=ca(R)):(_=qo(_),R=qo(R)),lt=r(_,R)}return lt}}function H(r){return hr(function(c){return c=ir(c,mi(Er())),mn(function(_){var R=this;return r(c,function(lt){return mr(lt,R,_)})})})}function ot(r,c){c=c===pt?" ":ca(c);var _=c.length;if(_<2)return _?ml(c,r):c;var R=ml(c,oo(r/zi(c)));return Zi(c)?Vi(vi(R),0,r).join(""):R.slice(0,r)}function ut(r,c,_,R){var lt=c&i,Pt=Vs(r);function Zt(){for(var le=-1,Te=arguments.length,cr=-1,dr=R.length,wr=ze(dr+Te),Dr=this&&this!==br&&this instanceof Zt?Pt:r;++cr<dr;)wr[cr]=R[cr];for(;Te--;)wr[cr++]=arguments[++le];return mr(Dr,lt?_:this,wr)}return Zt}function ct(r){return function(c,_,R){return R&&typeof R!="number"&&ti(c,_,R)&&(_=R=pt),c=xo(c),_===pt?(_=c,c=0):_=xo(_),R=R===pt?c<_?1:-1:xo(R),xu(c,_,R,r)}}function yt(r){return function(c,_){return typeof c=="string"&&typeof _=="string"||(c=us(c),_=us(_)),r(c,_)}}function Ct(r,c,_,R,lt,Pt,Zt,le,Te,cr){var dr=c&m,wr=dr?Zt:pt,Dr=dr?pt:Zt,Gr=dr?Pt:pt,sn=dr?pt:Pt;c|=dr?M:Y,c&=~(dr?Y:M),c&p||(c&=~(i|f));var Cn=[r,c,lt,Gr,wr,sn,Dr,le,Te,cr],on=_.apply(pt,Cn);return Ha(r)&&Lu(on,Cn),on.placeholder=R,xl(on,r,c)}function Nt(r){var c=Qn[r];return function(_,R){if(_=us(_),R=R==null?0:_i(Sn(R),292),R&&Da(_)){var lt=(Kn(_)+"e").split("e"),Pt=c(lt[0]+"e"+(+lt[1]+R));return lt=(Kn(Pt)+"e").split("e"),+(lt[0]+"e"+(+lt[1]-R))}return c(_)}}var ue=Sa&&1/$a(new Sa([,-0]))[1]==Qe?function(r){return new Sa(r)}:Gh;function Ee(r){return function(c){var _=Ln(c);return _==de?ii(c):_==at?Is(c):Ka(c,r(c))}}function Le(r,c,_,R,lt,Pt,Zt,le){var Te=c&f;if(!Te&&typeof r!="function")throw new Ji(b);var cr=R?R.length:0;if(cr||(c&=~(M|Y),R=lt=pt),Zt=Zt===pt?Zt:si(Sn(Zt),0),le=le===pt?le:Sn(le),cr-=lt?lt.length:0,c&Y){var dr=R,wr=lt;R=lt=pt}var Dr=Te?pt:Lr(r),Gr=[r,c,_,R,lt,dr,wr,Pt,Zt,le];if(Dr&&eh(Gr,Dr),r=Gr[0],c=Gr[1],_=Gr[2],R=Gr[3],lt=Gr[4],le=Gr[9]=Gr[9]===pt?Te?0:r.length:si(Gr[9]-cr,0),!le&&c&(m|x)&&(c&=~(m|x)),!c||c==i)var sn=Ch(r,c,_);else c==m||c==x?sn=Ah(r,c,le):(c==M||c==(i|M))&&!lt.length?sn=ut(r,c,_,R):sn=d.apply(pt,Gr);var Cn=Dr?Cu:Lu;return xl(Cn(sn,Gr),r,c)}function Ce(r,c,_,R){return r===pt||Os(r,Ns[_])&&!Dn.call(R,_)?c:r}function ur(r,c,_,R,lt,Pt){return bi(r)&&bi(c)&&(Pt.set(c,r),mo(r,c,pt,ur,Pt),Pt.delete(c)),r}function qe(r){return Bu(r)?pt:r}function he(r,c,_,R,lt,Pt){var Zt=_&a,le=r.length,Te=c.length;if(le!=Te&&!(Zt&&Te>le))return!1;var cr=Pt.get(r),dr=Pt.get(c);if(cr&&dr)return cr==c&&dr==r;var wr=-1,Dr=!0,Gr=_&l?new $r:pt;for(Pt.set(r,c),Pt.set(c,r);++wr<le;){var sn=r[wr],Cn=c[wr];if(R)var on=Zt?R(Cn,sn,wr,c,r,Pt):R(sn,Cn,wr,r,c,Pt);if(on!==pt){if(on)continue;Dr=!1;break}if(Gr){if(!Hr(c,function(kn,Rn){if(!$n(Gr,Rn)&&(sn===kn||lt(sn,kn,_,R,Pt)))return Gr.push(Rn)})){Dr=!1;break}}else if(!(sn===Cn||lt(sn,Cn,_,R,Pt))){Dr=!1;break}}return Pt.delete(r),Pt.delete(c),Dr}function _e(r,c,_,R,lt,Pt,Zt){switch(_){case xr:if(r.byteLength!=c.byteLength||r.byteOffset!=c.byteOffset)return!1;r=r.buffer,c=c.buffer;case Ke:return!(r.byteLength!=c.byteLength||!Pt(new ko(r),new ko(c)));case Tt:case jt:case N:return Os(+r,+c);case ve:return r.name==c.name&&r.message==c.message;case q:case Ot:return r==c+"";case de:var le=ii;case at:var Te=R&a;if(le||(le=$a),r.size!=c.size&&!Te)return!1;var cr=Zt.get(r);if(cr)return cr==c;R|=l,Zt.set(r,c);var dr=he(le(r),le(c),R,lt,Pt,Zt);return Zt.delete(r),dr;case St:if(es)return es.call(r)==es.call(c)}return!1}function or(r,c,_,R,lt,Pt){var Zt=_&a,le=lr(r),Te=le.length,cr=lr(c),dr=cr.length;if(Te!=dr&&!Zt)return!1;for(var wr=Te;wr--;){var Dr=le[wr];if(!(Zt?Dr in c:Dn.call(c,Dr)))return!1}var Gr=Pt.get(r),sn=Pt.get(c);if(Gr&&sn)return Gr==c&&sn==r;var Cn=!0;Pt.set(r,c),Pt.set(c,r);for(var on=Zt;++wr<Te;){Dr=le[wr];var kn=r[Dr],Rn=c[Dr];if(R)var Ga=Zt?R(Rn,kn,Dr,c,r,Pt):R(kn,Rn,Dr,r,c,Pt);if(!(Ga===pt?kn===Rn||lt(kn,Rn,_,R,Pt):Ga)){Cn=!1;break}on||(on=Dr=="constructor")}if(Cn&&!on){var ma=r.constructor,Ya=c.constructor;ma!=Ya&&"constructor"in r&&"constructor"in c&&!(typeof ma=="function"&&ma instanceof ma&&typeof Ya=="function"&&Ya instanceof Ya)&&(Cn=!1)}return Pt.delete(r),Pt.delete(c),Cn}function hr(r){return au(wl(r,pt,Fu),r+"")}function lr(r){return Ws(r,Hi,Hn)}function Rr(r){return Ws(r,Ea,pn)}var Lr=Mo?function(r){return Mo.get(r)}:Gh;function Zr(r){for(var c=r.name+"",_=Ra[c],R=Dn.call(Ra,c)?_.length:0;R--;){var lt=_[R],Pt=lt.func;if(Pt==null||Pt==r)return lt.name}return c}function kr(r){var c=Dn.call(mt,"placeholder")?mt:r;return c.placeholder}function Er(){var r=mt.iteratee||Hh;return r=r===Hh?yu:r,arguments.length?r(arguments[0],arguments[1]):r}function jn(r,c){var _=r.__data__;return Ii(c)?_[typeof c=="string"?"string":"hash"]:_.map}function On(r){for(var c=Hi(r),_=c.length;_--;){var R=c[_],lt=r[R];c[_]=[R,lt,di(lt)]}return c}function vn(r,c){var _=nn(r,c);return Wo(_)?_:pt}function Zn(r){var c=Dn.call(r,wa),_=r[wa];try{r[wa]=pt;var R=!0}catch(Pt){}var lt=Lo.call(r);return R&&(c?r[wa]=_:delete r[wa]),lt}var Hn=al?function(r){return r==null?[]:(r=Pn(r),qt(al(r),function(c){return Fl.call(r,c)}))}:Yh,pn=al?function(r){for(var c=[];r;)Ir(c,Hn(r)),r=Eo(r);return c}:Yh,Ln=yi;(No&&Ln(new No(new ArrayBuffer(1)))!=xr||xa&&Ln(new xa)!=de||Rs&&Ln(Rs.resolve())!=C||Sa&&Ln(new Sa)!=at||gs&&Ln(new gs)!=Ne)&&(Ln=function(r){var c=yi(r),_=c==U?r.constructor:pt,R=_?_o(_):"";if(R)switch(R){case Bl:return xr;case jl:return de;case ms:return C;case vs:return at;case zl:return Ne}return c});function ea(r,c,_){for(var R=-1,lt=_.length;++R<lt;){var Pt=_[R],Zt=Pt.size;switch(Pt.type){case"drop":r+=Zt;break;case"dropRight":c-=Zt;break;case"take":c=_i(c,r+Zt);break;case"takeRight":r=si(r,c-Zt);break}}return{start:r,end:c}}function xi(r){var c=r.match(To);return c?c[1].split(Qo):[]}function Xi(r,c,_){c=Ys(c,r);for(var R=-1,lt=c.length,Pt=!1;++R<lt;){var Zt=ls(c[R]);if(!(Pt=r!=null&&_(r,Zt)))break;r=r[Zt]}return Pt||++R!=lt?Pt:(lt=r==null?0:r.length,!!lt&&mh(lt)&&fi(Zt,lt)&&(_n(r)||Ol(r)))}function Gn(r){var c=r.length,_=new r.constructor(c);return c&&typeof r[0]=="string"&&Dn.call(r,"index")&&(_.index=r.index,_.input=r.input),_}function ra(r){return typeof r.constructor=="function"&&!Oa(r)?Bs(Eo(r)):{}}function pa(r,c,_){var R=r.constructor;switch(c){case Ke:return Tu(r);case Tt:case jt:return new R(+r);case xr:return Gu(r,_);case Or:case Jr:case fn:case En:case ri:case Yr:case zn:case pi:case Jn:return Pu(r,_);case de:return new R;case N:case Ot:return new R(r);case q:return Yu(r);case at:return new R;case St:return Vu(r)}}function Fi(r,c){var _=c.length;if(!_)return r;var R=_-1;return c[R]=(_>1?"& ":"")+c[R],c=c.join(_>2?", ":" "),r.replace(Es,`{
/* [wrapped with `+c+`] */
`)}function Ri(r){return _n(r)||Ol(r)||!!(Il&&r&&r[Il])}function fi(r,c){var _=typeof r;return c=c==null?W:c,!!c&&(_=="number"||_!="symbol"&&Lt.test(r))&&r>-1&&r%1==0&&r<c}function ti(r,c,_){if(!bi(_))return!1;var R=typeof c;return(R=="number"?ka(_)&&fi(c,_.length):R=="string"&&c in _)?Os(_[c],r):!1}function Pa(r,c){if(_n(r))return!1;var _=typeof r;return _=="number"||_=="symbol"||_=="boolean"||r==null||qa(r)?!0:Ao.test(r)||!Co.test(r)||c!=null&&r in Pn(c)}function Ii(r){var c=typeof r;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?r!=="__proto__":r===null}function Ha(r){var c=Zr(r),_=mt[c];if(typeof _!="function"||!(c in wn.prototype))return!1;if(r===_)return!0;var R=Lr(_);return!!R&&r===R[0]}function yo(r){return!!nl&&nl in r}var Vo=ui?wo:Vh;function Oa(r){var c=r&&r.constructor,_=typeof c=="function"&&c.prototype||Ns;return r===_}function di(r){return r===r&&!bi(r)}function nu(r,c){return function(_){return _==null?!1:_[r]===c&&(c!==pt||r in Pn(_))}}function th(r){var c=ph(r,function(R){return _.size===u&&_.clear(),R}),_=c.cache;return c}function eh(r,c){var _=r[1],R=c[1],lt=_|R,Pt=lt<(i|f|nt),Zt=R==nt&&_==m||R==nt&&_==xt&&r[7].length<=c[8]||R==(nt|xt)&&c[7].length<=c[8]&&_==m;if(!(Pt||Zt))return r;R&i&&(r[2]=c[2],lt|=_&i?0:p);var le=c[3];if(le){var Te=r[3];r[3]=Te?bl(Te,le,c[4]):le,r[4]=Te?ai(r[3],o):c[4]}return le=c[5],le&&(Te=r[5],r[5]=Te?Go(Te,le,c[6]):le,r[6]=Te?ai(r[5],o):c[6]),le=c[7],le&&(r[7]=le),R&nt&&(r[8]=r[8]==null?c[8]:_i(r[8],c[8])),r[9]==null&&(r[9]=c[9]),r[0]=c[0],r[1]=lt,r}function iu(r){var c=[];if(r!=null)for(var _ in Pn(r))c.push(_);return c}function _l(r){return Lo.call(r)}function wl(r,c,_){return c=si(c===pt?r.length-1:c,0),function(){for(var R=arguments,lt=-1,Pt=si(R.length-c,0),Zt=ze(Pt);++lt<Pt;)Zt[lt]=R[c+lt];lt=-1;for(var le=ze(c+1);++lt<c;)le[lt]=R[lt];return le[c]=_(Zt),mr(r,this,le)}}function La(r,c){return c.length<2?r:ss(r,Ta(c,0,-1))}function Xo(r,c){for(var _=r.length,R=_i(c.length,_),lt=Wi(r);R--;){var Pt=c[R];r[R]=fi(Pt,_)?lt[Pt]:pt}return r}function Xs(r,c){if(!(c==="constructor"&&typeof r[c]=="function")&&c!="__proto__")return r[c]}var Lu=su(Cu),Ks=du||function(r,c){return br.setTimeout(r,c)},au=su(_h);function xl(r,c,_){var R=c+"";return au(r,Fi(R,ku(xi(R),_)))}function su(r){var c=0,_=0;return function(){var R=pu(),lt=_t-(R-_);if(_=R,lt>0){if(++c>=Oe)return arguments[0]}else c=0;return r.apply(pt,arguments)}}function bo(r,c){var _=-1,R=r.length,lt=R-1;for(c=c===pt?R:c;++_<c;){var Pt=Zl(_,lt),Zt=r[Pt];r[Pt]=r[_],r[_]=Zt}return r.length=c,r}var Ko=th(function(r){var c=[];return r.charCodeAt(0)===46&&c.push(""),r.replace(hs,function(_,R,lt,Pt){c.push(lt?Pt.replace(tl,"$1"):R||_)}),c});function ls(r){if(typeof r=="string"||qa(r))return r;var c=r+"";return c=="0"&&1/r==-Qe?"-0":c}function _o(r){if(r!=null){try{return Ms.call(r)}catch(c){}try{return r+""}catch(c){}}return""}function ku(r,c){return Pr(K,function(_){var R="_."+_[0];c&_[1]&&!sr(r,R)&&r.push(R)}),r.sort()}function Ts(r){if(r instanceof wn)return r.clone();var c=new Qi(r.__wrapped__,r.__chain__);return c.__actions__=Wi(r.__actions__),c.__index__=r.__index__,c.__values__=r.__values__,c}function Th(r,c,_){(_?ti(r,c,_):c===pt)?c=1:c=si(Sn(c),0);var R=r==null?0:r.length;if(!R||c<1)return[];for(var lt=0,Pt=0,Zt=ze(oo(R/c));lt<R;)Zt[Pt++]=Ta(r,lt,lt+=c);return Zt}function Ph(r){for(var c=-1,_=r==null?0:r.length,R=0,lt=[];++c<_;){var Pt=r[c];Pt&&(lt[R++]=Pt)}return lt}function Oh(){var r=arguments.length;if(!r)return[];for(var c=ze(r-1),_=arguments[0],R=r;R--;)c[R-1]=arguments[R];return Ir(_n(_)?Wi(_):[_],Xn(c,1))}var rh=mn(function(r,c){return Oi(r)?fo(r,Xn(c,1,Oi,!0)):[]}),ou=mn(function(r,c){var _=ga(c);return Oi(_)&&(_=pt),Oi(r)?fo(r,Xn(c,1,Oi,!0),Er(_,2)):[]}),nh=mn(function(r,c){var _=ga(c);return Oi(_)&&(_=pt),Oi(r)?fo(r,Xn(c,1,Oi,!0),pt,_):[]});function ih(r,c,_){var R=r==null?0:r.length;return R?(c=_||c===pt?1:Sn(c),Ta(r,c<0?0:c,R)):[]}function lu(r,c,_){var R=r==null?0:r.length;return R?(c=_||c===pt?1:Sn(c),c=R-c,Ta(r,0,c<0?0:c)):[]}function Eu(r,c){return r&&r.length?tu(r,Er(c,3),!0,!0):[]}function Sl(r,c){return r&&r.length?tu(r,Er(c,3),!0):[]}function ah(r,c,_,R){var lt=r==null?0:r.length;return lt?(_&&typeof _!="number"&&ti(r,c,_)&&(_=0,R=lt),go(r,c,_,R)):[]}function sh(r,c,_){var R=r==null?0:r.length;if(!R)return-1;var lt=_==null?0:Sn(_);return lt<0&&(lt=si(R+lt,0)),qn(r,Er(c,3),lt)}function Cl(r,c,_){var R=r==null?0:r.length;if(!R)return-1;var lt=R-1;return _!==pt&&(lt=Sn(_),lt=_<0?si(R+lt,0):_i(lt,R-1)),qn(r,Er(c,3),lt,!0)}function Fu(r){var c=r==null?0:r.length;return c?Xn(r,1):[]}function Iu(r){var c=r==null?0:r.length;return c?Xn(r,Qe):[]}function Zs(r,c){var _=r==null?0:r.length;return _?(c=c===pt?1:Sn(c),Xn(r,c)):[]}function oh(r){for(var c=-1,_=r==null?0:r.length,R={};++c<_;){var lt=r[c];R[lt[0]]=lt[1]}return R}function Nu(r){return r&&r.length?r[0]:pt}function Lh(r,c,_){var R=r==null?0:r.length;if(!R)return-1;var lt=_==null?0:Sn(_);return lt<0&&(lt=si(R+lt,0)),Kr(r,c,lt)}function lh(r){var c=r==null?0:r.length;return c?Ta(r,0,-1):[]}var Zo=mn(function(r){var c=ir(r,fa);return c.length&&c[0]===r[0]?ws(c):[]}),kh=mn(function(r){var c=ga(r),_=ir(r,fa);return c===ga(_)?c=pt:_.pop(),_.length&&_[0]===r[0]?ws(_,Er(c,2)):[]}),uh=mn(function(r){var c=ga(r),_=ir(r,fa);return c=typeof c=="function"?c:pt,c&&_.pop(),_.length&&_[0]===r[0]?ws(_,pt,c):[]});function Eh(r,c){return r==null?"":Ml.call(r,c)}function ga(r){var c=r==null?0:r.length;return c?r[c-1]:pt}function Fh(r,c,_){var R=r==null?0:r.length;if(!R)return-1;var lt=R;return _!==pt&&(lt=Sn(_),lt=lt<0?si(R+lt,0):_i(lt,R-1)),c===c?Qa(r,c,lt):qn(r,Nr,lt,!0)}function Al(r,c){return r&&r.length?ha(r,Sn(c)):pt}var Mu=mn(Tl);function Tl(r,c){return r&&r.length&&c&&c.length?Ho(r,c):r}function Ps(r,c,_){return r&&r.length&&c&&c.length?Ho(r,c,Er(_,2)):r}function Js(r,c,_){return r&&r.length&&c&&c.length?Ho(r,c,pt,_):r}var $s=hr(function(r,c){var _=r==null?0:r.length,R=zs(r,c);return Kl(r,ir(c,function(lt){return fi(lt,_)?+lt:lt}).sort(Xu)),R});function uu(r,c){var _=[];if(!(r&&r.length))return _;var R=-1,lt=[],Pt=r.length;for(c=Er(c,3);++R<Pt;){var Zt=r[R];c(Zt,R,r)&&(_.push(Zt),lt.push(R))}return Kl(r,lt),_}function Pl(r){return r==null?r:sl.call(r)}function hh(r,c,_){var R=r==null?0:r.length;return R?(_&&typeof _!="number"&&ti(r,c,_)?(c=0,_=R):(c=c==null?0:Sn(c),_=_===pt?R:Sn(_)),Ta(r,c,_)):[]}function Ih(r,c){return Jl(r,c)}function Du(r,c,_){return yl(r,c,Er(_,2))}function Ru(r,c){var _=r==null?0:r.length;if(_){var R=Jl(r,c);if(R<_&&Os(r[R],c))return R}return-1}function Sc(r,c){return Jl(r,c,!0)}function Cc(r,c,_){return yl(r,c,Er(_,2),!0)}function Ac(r,c){var _=r==null?0:r.length;if(_){var R=Jl(r,c,!0)-1;if(Os(r[R],c))return R}return-1}function Tc(r){return r&&r.length?$l(r):[]}function Pc(r,c){return r&&r.length?$l(r,Er(c,2)):[]}function Oc(r){var c=r==null?0:r.length;return c?Ta(r,1,c):[]}function Lc(r,c,_){return r&&r.length?(c=_||c===pt?1:Sn(c),Ta(r,0,c<0?0:c)):[]}function kc(r,c,_){var R=r==null?0:r.length;return R?(c=_||c===pt?1:Sn(c),c=R-c,Ta(r,c<0?0:c,R)):[]}function Ec(r,c){return r&&r.length?tu(r,Er(c,3),!1,!0):[]}function Fc(r,c){return r&&r.length?tu(r,Er(c,3)):[]}var Ic=mn(function(r){return Gs(Xn(r,1,Oi,!0))}),Nc=mn(function(r){var c=ga(r);return Oi(c)&&(c=pt),Gs(Xn(r,1,Oi,!0),Er(c,2))}),Mc=mn(function(r){var c=ga(r);return c=typeof c=="function"?c:pt,Gs(Xn(r,1,Oi,!0),pt,c)});function Dc(r){return r&&r.length?Gs(r):[]}function Rc(r,c){return r&&r.length?Gs(r,Er(c,2)):[]}function Bc(r,c){return c=typeof c=="function"?c:pt,r&&r.length?Gs(r,pt,c):[]}function Nh(r){if(!(r&&r.length))return[];var c=0;return r=qt(r,function(_){if(Oi(_))return c=si(_.length,c),!0}),Bn(c,function(_){return ir(r,Vn(_))})}function Xh(r,c){if(!(r&&r.length))return[];var _=Nh(r);return c==null?_:ir(_,function(R){return mr(c,pt,R)})}var jc=mn(function(r,c){return Oi(r)?fo(r,c):[]}),zc=mn(function(r){return Au(qt(r,Oi))}),Uc=mn(function(r){var c=ga(r);return Oi(c)&&(c=pt),Au(qt(r,Oi),Er(c,2))}),Wc=mn(function(r){var c=ga(r);return c=typeof c=="function"?c:pt,Au(qt(r,Oi),pt,c)}),Hc=mn(Nh);function qc(r,c){return As(r||[],c||[],is)}function Gc(r,c){return As(r||[],c||[],vl)}var Yc=mn(function(r){var c=r.length,_=c>1?r[c-1]:pt;return _=typeof _=="function"?(r.pop(),_):pt,Xh(r,_)});function Kh(r){var c=mt(r);return c.__chain__=!0,c}function Vc(r,c){return c(r),r}function ch(r,c){return c(r)}var Xc=hr(function(r){var c=r.length,_=c?r[0]:0,R=this.__wrapped__,lt=function(Pt){return zs(Pt,r)};return c>1||this.__actions__.length||!(R instanceof wn)||!fi(_)?this.thru(lt):(R=R.slice(_,+_+(c?1:0)),R.__actions__.push({func:ch,args:[lt],thisArg:pt}),new Qi(R,this.__chain__).thru(function(Pt){return c&&!Pt.length&&Pt.push(pt),Pt}))});function Kc(){return Kh(this)}function Zc(){return new Qi(this.value(),this.__chain__)}function Jc(){this.__values__===pt&&(this.__values__=uc(this.value()));var r=this.__index__>=this.__values__.length,c=r?pt:this.__values__[this.__index__++];return{done:r,value:c}}function $c(){return this}function Qc(r){for(var c,_=this;_ instanceof ys;){var R=Ts(_);R.__index__=0,R.__values__=pt,c?lt.__wrapped__=R:c=R;var lt=R;_=_.__wrapped__}return lt.__wrapped__=r,c}function tf(){var r=this.__wrapped__;if(r instanceof wn){var c=r;return this.__actions__.length&&(c=new wn(this)),c=c.reverse(),c.__actions__.push({func:ch,args:[Pl],thisArg:pt}),new Qi(c,this.__chain__)}return this.thru(Pl)}function ef(){return Wu(this.__wrapped__,this.__actions__)}var rf=ru(function(r,c,_){Dn.call(r,_)?++r[_]:Ui(r,_,1)});function nf(r,c,_){var R=_n(r)?Vr:vu;return _&&ti(r,c,_)&&(c=pt),R(r,Er(c,3))}function af(r,c){var _=_n(r)?qt:Ca;return _(r,Er(c,3))}var sf=Qu(sh),of=Qu(Cl);function lf(r,c){return Xn(fh(r,c),1)}function uf(r,c){return Xn(fh(r,c),Qe)}function hf(r,c,_){return _=_===pt?1:Sn(_),Xn(fh(r,c),_)}function Zh(r,c){var _=_n(r)?Pr:Ei;return _(r,Er(c,3))}function Jh(r,c){var _=_n(r)?rn:po;return _(r,Er(c,3))}var cf=ru(function(r,c,_){Dn.call(r,_)?r[_].push(c):Ui(r,_,[c])});function ff(r,c,_,R){r=ka(r)?r:cu(r),_=_&&!R?Sn(_):0;var lt=r.length;return _<0&&(_=si(lt+_,0)),vh(r)?_<=lt&&r.indexOf(c,_)>-1:!!lt&&Kr(r,c,_)>-1}var df=mn(function(r,c,_){var R=-1,lt=typeof c=="function",Pt=ka(r)?ze(r.length):[];return Ei(r,function(Zt){Pt[++R]=lt?mr(c,Zt,_):xs(Zt,c,_)}),Pt}),pf=ru(function(r,c,_){Ui(r,_,c)});function fh(r,c){var _=_n(r)?ir:bu;return _(r,Er(c,3))}function gf(r,c,_,R){return r==null?[]:(_n(c)||(c=c==null?[]:[c]),_=R?pt:_,_n(_)||(_=_==null?[]:[_]),gl(r,c,_))}var mf=ru(function(r,c,_){r[_?0:1].push(c)},function(){return[[],[]]});function vf(r,c,_){var R=_n(r)?Tr:bn,lt=arguments.length<3;return R(r,Er(c,4),_,lt,Ei)}function yf(r,c,_){var R=_n(r)?zr:bn,lt=arguments.length<3;return R(r,Er(c,4),_,lt,po)}function bf(r,c){var _=_n(r)?qt:Ca;return _(r,gh(Er(c,3)))}function _f(r){var c=_n(r)?fl:Su;return c(r)}function wf(r,c,_){(_?ti(r,c,_):c===pt)?c=1:c=Sn(c);var R=_n(r)?bs:bh;return R(r,c)}function xf(r){var c=_n(r)?dl:wh;return c(r)}function Sf(r){if(r==null)return 0;if(ka(r))return vh(r)?zi(r):r.length;var c=Ln(r);return c==de||c==at?r.size:ql(r).length}function Cf(r,c,_){var R=_n(r)?Hr:xh;return _&&ti(r,c,_)&&(c=pt),R(r,Er(c,3))}var Af=mn(function(r,c){if(r==null)return[];var _=c.length;return _>1&&ti(r,c[0],c[1])?c=[]:_>2&&ti(c[0],c[1],c[2])&&(c=[c[0]]),gl(r,Xn(c,1),[])}),dh=Ti||function(){return br.Date.now()};function Tf(r,c){if(typeof c!="function")throw new Ji(b);return r=Sn(r),function(){if(--r<1)return c.apply(this,arguments)}}function $h(r,c,_){return c=_?pt:c,c=r&&c==null?r.length:c,Le(r,nt,pt,pt,pt,pt,c)}function Qh(r,c){var _;if(typeof c!="function")throw new Ji(b);return r=Sn(r),function(){return--r>0&&(_=c.apply(this,arguments)),r<=1&&(c=pt),_}}var Mh=mn(function(r,c,_){var R=i;if(_.length){var lt=ai(_,kr(Mh));R|=M}return Le(r,R,c,_,lt)}),tc=mn(function(r,c,_){var R=i|f;if(_.length){var lt=ai(_,kr(tc));R|=M}return Le(c,R,r,_,lt)});function ec(r,c,_){c=_?pt:c;var R=Le(r,m,pt,pt,pt,pt,pt,c);return R.placeholder=ec.placeholder,R}function rc(r,c,_){c=_?pt:c;var R=Le(r,x,pt,pt,pt,pt,pt,c);return R.placeholder=rc.placeholder,R}function nc(r,c,_){var R,lt,Pt,Zt,le,Te,cr=0,dr=!1,wr=!1,Dr=!0;if(typeof r!="function")throw new Ji(b);c=us(c)||0,bi(_)&&(dr=!!_.leading,wr="maxWait"in _,Pt=wr?si(us(_.maxWait)||0,c):Pt,Dr="trailing"in _?!!_.trailing:Dr);function Gr(Li){var Ls=R,So=lt;return R=lt=pt,cr=Li,Zt=r.apply(So,Ls),Zt}function sn(Li){return cr=Li,le=Ks(kn,c),dr?Gr(Li):Zt}function Cn(Li){var Ls=Li-Te,So=Li-cr,xc=c-Ls;return wr?_i(xc,Pt-So):xc}function on(Li){var Ls=Li-Te,So=Li-cr;return Te===pt||Ls>=c||Ls<0||wr&&So>=Pt}function kn(){var Li=dh();if(on(Li))return Rn(Li);le=Ks(kn,Cn(Li))}function Rn(Li){return le=pt,Dr&&R?Gr(Li):(R=lt=pt,Zt)}function Ga(){le!==pt&&da(le),cr=0,R=Te=lt=le=pt}function ma(){return le===pt?Zt:Rn(dh())}function Ya(){var Li=dh(),Ls=on(Li);if(R=arguments,lt=this,Te=Li,Ls){if(le===pt)return sn(Te);if(wr)return da(le),le=Ks(kn,c),Gr(Te)}return le===pt&&(le=Ks(kn,c)),Zt}return Ya.cancel=Ga,Ya.flush=ma,Ya}var Pf=mn(function(r,c){return jo(r,1,c)}),Of=mn(function(r,c,_){return jo(r,us(c)||0,_)});function Lf(r){return Le(r,Dt)}function ph(r,c){if(typeof r!="function"||c!=null&&typeof c!="function")throw new Ji(b);var _=function(){var R=arguments,lt=c?c.apply(this,R):R[0],Pt=_.cache;if(Pt.has(lt))return Pt.get(lt);var Zt=r.apply(this,R);return _.cache=Pt.set(lt,Zt)||Pt,Zt};return _.cache=new(ph.Cache||ee),_}ph.Cache=ee;function gh(r){if(typeof r!="function")throw new Ji(b);return function(){var c=arguments;switch(c.length){case 0:return!r.call(this);case 1:return!r.call(this,c[0]);case 2:return!r.call(this,c[0],c[1]);case 3:return!r.call(this,c[0],c[1],c[2])}return!r.apply(this,c)}}function kf(r){return Qh(2,r)}var Ef=Hu(function(r,c){c=c.length==1&&_n(c[0])?ir(c[0],mi(Er())):ir(Xn(c,1),mi(Er()));var _=c.length;return mn(function(R){for(var lt=-1,Pt=_i(R.length,_);++lt<Pt;)R[lt]=c[lt].call(this,R[lt]);return mr(r,this,R)})}),Dh=mn(function(r,c){var _=ai(c,kr(Dh));return Le(r,M,pt,c,_)}),ic=mn(function(r,c){var _=ai(c,kr(ic));return Le(r,Y,pt,c,_)}),Ff=hr(function(r,c){return Le(r,xt,pt,pt,pt,c)});function If(r,c){if(typeof r!="function")throw new Ji(b);return c=c===pt?c:Sn(c),mn(r,c)}function Nf(r,c){if(typeof r!="function")throw new Ji(b);return c=c==null?0:si(Sn(c),0),mn(function(_){var R=_[c],lt=Vi(_,0,c);return R&&Ir(lt,R),mr(r,this,lt)})}function Mf(r,c,_){var R=!0,lt=!0;if(typeof r!="function")throw new Ji(b);return bi(_)&&(R="leading"in _?!!_.leading:R,lt="trailing"in _?!!_.trailing:lt),nc(r,c,{leading:R,maxWait:c,trailing:lt})}function Df(r){return $h(r,1)}function Rf(r,c){return Dh(Ua(c),r)}function Bf(){if(!arguments.length)return[];var r=arguments[0];return _n(r)?r:[r]}function jf(r){return Mi(r,t)}function zf(r,c){return c=typeof c=="function"?c:pt,Mi(r,t,c)}function Uf(r){return Mi(r,e|t)}function Wf(r,c){return c=typeof c=="function"?c:pt,Mi(r,e|t,c)}function Hf(r,c){return c==null||Wl(r,c,Hi(c))}function Os(r,c){return r===c||r!==r&&c!==c}var qf=yt(os),Gf=yt(function(r,c){return r>=c}),Ol=la(function(){return arguments}())?la:function(r){return Si(r)&&Dn.call(r,"callee")&&!Fl.call(r,"callee")},_n=ze.isArray,Yf=ge?mi(ge):Ss;function ka(r){return r!=null&&mh(r.length)&&!wo(r)}function Oi(r){return Si(r)&&ka(r)}function Vf(r){return r===!0||r===!1||Si(r)&&yi(r)==Tt}var Jo=cn||Vh,Xf=Pe?mi(Pe):hi;function Kf(r){return Si(r)&&r.nodeType===1&&!Bu(r)}function Zf(r){if(r==null)return!0;if(ka(r)&&(_n(r)||typeof r=="string"||typeof r.splice=="function"||Jo(r)||hu(r)||Ol(r)))return!r.length;var c=Ln(r);if(c==de||c==at)return!r.size;if(Oa(r))return!ql(r).length;for(var _ in r)if(Dn.call(r,_))return!1;return!0}function Jf(r,c){return Wn(r,c)}function $f(r,c,_){_=typeof _=="function"?_:pt;var R=_?_(r,c):pt;return R===pt?Wn(r,c,pt,_):!!R}function Rh(r){if(!Si(r))return!1;var c=yi(r);return c==ve||c==ce||typeof r.message=="string"&&typeof r.name=="string"&&!Bu(r)}function Qf(r){return typeof r=="number"&&Da(r)}function wo(r){if(!bi(r))return!1;var c=yi(r);return c==re||c==Yt||c==Wt||c==A}function ac(r){return typeof r=="number"&&r==Sn(r)}function mh(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=W}function bi(r){var c=typeof r;return r!=null&&(c=="object"||c=="function")}function Si(r){return r!=null&&typeof r=="object"}var sc=Ie?mi(Ie):ci;function td(r,c){return r===c||Yi(r,c,On(c))}function ed(r,c,_){return _=typeof _=="function"?_:pt,Yi(r,c,On(c),_)}function rd(r){return oc(r)&&r!=+r}function nd(r){if(Vo(r))throw new an(tt);return Wo(r)}function id(r){return r===null}function ad(r){return r==null}function oc(r){return typeof r=="number"||Si(r)&&yi(r)==N}function Bu(r){if(!Si(r)||yi(r)!=U)return!1;var c=Eo(r);if(c===null)return!0;var _=Dn.call(c,"constructor")&&c.constructor;return typeof _=="function"&&_ instanceof _&&Ms.call(_)==Ni}var Bh=ar?mi(ar):Cs;function sd(r){return ac(r)&&r>=-W&&r<=W}var lc=We?mi(We):Hl;function vh(r){return typeof r=="string"||!_n(r)&&Si(r)&&yi(r)==Ot}function qa(r){return typeof r=="symbol"||Si(r)&&yi(r)==St}var hu=Ye?mi(Ye):ju;function od(r){return r===pt}function ld(r){return Si(r)&&Ln(r)==Ne}function ud(r){return Si(r)&&yi(r)==we}var hd=yt(Gl),cd=yt(function(r,c){return r<=c});function uc(r){if(!r)return[];if(ka(r))return vh(r)?vi(r):Wi(r);if(aa&&r[aa])return fs(r[aa]());var c=Ln(r),_=c==de?ii:c==at?$a:cu;return _(r)}function xo(r){if(!r)return r===0?r:0;if(r=us(r),r===Qe||r===-Qe){var c=r<0?-1:1;return c*At}return r===r?r:0}function Sn(r){var c=xo(r),_=c%1;return c===c?_?c-_:c:0}function hc(r){return r?as(Sn(r),0,it):0}function us(r){if(typeof r=="number")return r;if(qa(r))return V;if(bi(r)){var c=typeof r.valueOf=="function"?r.valueOf():r;r=bi(c)?c+"":c}if(typeof r!="string")return r===0?r:+r;r=li(r);var _=P.test(r);return _||st.test(r)?Ze(r.slice(2),_?2:8):B.test(r)?V:+r}function cc(r){return Wa(r,Ea(r))}function fd(r){return r?as(Sn(r),-W,W):r===0?r:0}function Kn(r){return r==null?"":ca(r)}var dd=Yo(function(r,c){if(Oa(c)||ka(c)){Wa(c,Hi(c),r);return}for(var _ in c)Dn.call(c,_)&&is(r,_,c[_])}),fc=Yo(function(r,c){Wa(c,Ea(c),r)}),yh=Yo(function(r,c,_,R){Wa(c,Ea(c),r,R)}),pd=Yo(function(r,c,_,R){Wa(c,Hi(c),r,R)}),gd=hr(zs);function md(r,c){var _=Bs(r);return c==null?_:co(_,c)}var vd=mn(function(r,c){r=Pn(r);var _=-1,R=c.length,lt=R>2?c[2]:pt;for(lt&&ti(c[0],c[1],lt)&&(R=1);++_<R;)for(var Pt=c[_],Zt=Ea(Pt),le=-1,Te=Zt.length;++le<Te;){var cr=Zt[le],dr=r[cr];(dr===pt||Os(dr,Ns[cr])&&!Dn.call(r,cr))&&(r[cr]=Pt[cr])}return r}),yd=mn(function(r){return r.push(pt,ur),mr(dc,pt,r)});function bd(r,c){return Tn(r,Er(c,3),Pi)}function _d(r,c){return Tn(r,Er(c,3),Us)}function wd(r,c){return r==null?r:_s(r,Er(c,3),Ea)}function xd(r,c){return r==null?r:za(r,Er(c,3),Ea)}function Sd(r,c){return r&&Pi(r,Er(c,3))}function Cd(r,c){return r&&Us(r,Er(c,3))}function Ad(r){return r==null?[]:ta(r,Hi(r))}function Td(r){return r==null?[]:ta(r,Ea(r))}function jh(r,c,_){var R=r==null?pt:ss(r,c);return R===pt?_:R}function Pd(r,c){return r!=null&&Xi(r,c,Aa)}function zh(r,c){return r!=null&&Xi(r,c,Hs)}var Od=v(function(r,c,_){c!=null&&typeof c.toString!="function"&&(c=Lo.call(c)),r[c]=_},Wh(Fa)),Ld=v(function(r,c,_){c!=null&&typeof c.toString!="function"&&(c=Lo.call(c)),Dn.call(r,c)?r[c].push(_):r[c]=[_]},Er),kd=mn(xs);function Hi(r){return ka(r)?uo(r):ql(r)}function Ea(r){return ka(r)?uo(r,!0):zu(r)}function Ed(r,c){var _={};return c=Er(c,3),Pi(r,function(R,lt,Pt){Ui(_,c(R,lt,Pt),R)}),_}function Fd(r,c){var _={};return c=Er(c,3),Pi(r,function(R,lt,Pt){Ui(_,lt,c(R,lt,Pt))}),_}var Id=Yo(function(r,c,_){mo(r,c,_)}),dc=Yo(function(r,c,_,R){mo(r,c,_,R)}),Nd=hr(function(r,c){var _={};if(r==null)return _;var R=!1;c=ir(c,function(Pt){return Pt=Ys(Pt,r),R||(R=Pt.length>1),Pt}),Wa(r,Rr(r),_),R&&(_=Mi(_,e|n|t,qe));for(var lt=c.length;lt--;)Ql(_,c[lt]);return _});function Md(r,c){return pc(r,gh(Er(c)))}var Dd=hr(function(r,c){return r==null?{}:Vl(r,c)});function pc(r,c){if(r==null)return{};var _=ir(Rr(r),function(R){return[R]});return c=Er(c),wu(r,_,function(R,lt){return c(R,lt[0])})}function Rd(r,c,_){c=Ys(c,r);var R=-1,lt=c.length;for(lt||(lt=1,r=pt);++R<lt;){var Pt=r==null?pt:r[ls(c[R])];Pt===pt&&(R=lt,Pt=_),r=wo(Pt)?Pt.call(r):Pt}return r}function Bd(r,c,_){return r==null?r:vl(r,c,_)}function jd(r,c,_,R){return R=typeof R=="function"?R:pt,r==null?r:vl(r,c,_,R)}var gc=Ee(Hi),mc=Ee(Ea);function zd(r,c,_){var R=_n(r),lt=R||Jo(r)||hu(r);if(c=Er(c,4),_==null){var Pt=r&&r.constructor;lt?_=R?new Pt:[]:bi(r)?_=wo(Pt)?Bs(Eo(r)):{}:_={}}return(lt?Pr:Pi)(r,function(Zt,le,Te){return c(_,Zt,le,Te)}),_}function Ud(r,c){return r==null?!0:Ql(r,c)}function Wd(r,c,_){return r==null?r:Uu(r,c,Ua(_))}function Hd(r,c,_,R){return R=typeof R=="function"?R:pt,r==null?r:Uu(r,c,Ua(_),R)}function cu(r){return r==null?[]:na(r,Hi(r))}function qd(r){return r==null?[]:na(r,Ea(r))}function Gd(r,c,_){return _===pt&&(_=c,c=pt),_!==pt&&(_=us(_),_=_===_?_:0),c!==pt&&(c=us(c),c=c===c?c:0),as(us(r),c,_)}function Yd(r,c,_){return c=xo(c),_===pt?(_=c,c=0):_=xo(_),r=us(r),Uo(r,c,_)}function Vd(r,c,_){if(_&&typeof _!="boolean"&&ti(r,c,_)&&(c=_=pt),_===pt&&(typeof c=="boolean"?(_=c,c=pt):typeof r=="boolean"&&(_=r,r=pt)),r===pt&&c===pt?(r=0,c=1):(r=xo(r),c===pt?(c=r,r=0):c=xo(c)),r>c){var R=r;r=c,c=R}if(_||r%1||c%1){var lt=Rl();return _i(r+lt*(c-r+$e("1e-"+((lt+"").length-1))),c)}return Zl(r,c)}var Xd=vo(function(r,c,_){return c=c.toLowerCase(),r+(_?vc(c):c)});function vc(r){return Uh(Kn(r).toLowerCase())}function yc(r){return r=Kn(r),r&&r.replace(Ht,ji).replace(gt,"")}function Kd(r,c,_){r=Kn(r),c=ca(c);var R=r.length;_=_===pt?R:as(Sn(_),0,R);var lt=_;return _-=c.length,_>=0&&r.slice(_,lt)==c}function Zd(r){return r=Kn(r),r&&ya.test(r)?r.replace(Ki,Za):r}function Jd(r){return r=Kn(r),r&&Ll.test(r)?r.replace(cs,"\\$&"):r}var $d=vo(function(r,c,_){return r+(_?"-":"")+c.toLowerCase()}),Qd=vo(function(r,c,_){return r+(_?" ":"")+c.toLowerCase()}),tp=$u("toLowerCase");function ep(r,c,_){r=Kn(r),c=Sn(c);var R=c?zi(r):0;if(!c||R>=c)return r;var lt=(c-R)/2;return ot(Io(lt),_)+r+ot(oo(lt),_)}function rp(r,c,_){r=Kn(r),c=Sn(c);var R=c?zi(r):0;return c&&R<c?r+ot(c-R,_):r}function np(r,c,_){r=Kn(r),c=Sn(c);var R=c?zi(r):0;return c&&R<c?ot(c-R,_)+r:r}function ip(r,c,_){return _||c==null?c=0:c&&(c=+c),gu(Kn(r).replace(to,""),c||0)}function ap(r,c,_){return(_?ti(r,c,_):c===pt)?c=1:c=Sn(c),ml(Kn(r),c)}function sp(){var r=arguments,c=Kn(r[0]);return r.length<3?c:c.replace(r[1],r[2])}var op=vo(function(r,c,_){return r+(_?"_":"")+c.toLowerCase()});function lp(r,c,_){return _&&typeof _!="number"&&ti(r,c,_)&&(c=_=pt),_=_===pt?it:_>>>0,_?(r=Kn(r),r&&(typeof c=="string"||c!=null&&!Bh(c))&&(c=ca(c),!c&&Zi(r))?Vi(vi(r),0,_):r.split(c,_)):[]}var up=vo(function(r,c,_){return r+(_?" ":"")+Uh(c)});function hp(r,c,_){return r=Kn(r),_=_==null?0:as(Sn(_),0,r.length),c=ca(c),r.slice(_,_+c.length)==c}function cp(r,c,_){var R=mt.templateSettings;_&&ti(r,c,_)&&(c=pt),r=Kn(r),c=yh({},c,R,Ce);var lt=yh({},c.imports,R.imports,Ce),Pt=Hi(lt),Zt=na(lt,Pt),le,Te,cr=0,dr=c.interpolate||Xt,wr="__p += '",Dr=rl((c.escape||Xt).source+"|"+dr.source+"|"+(dr===Va?el:Xt).source+"|"+(c.evaluate||Xt).source+"|$","g"),Gr="//# sourceURL="+(Dn.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gr+"]")+`
`;r.replace(Dr,function(on,kn,Rn,Ga,ma,Ya){return Rn||(Rn=Ga),wr+=r.slice(cr,Ya).replace(ye,Ja),kn&&(le=!0,wr+=`' +
__e(`+kn+`) +
'`),ma&&(Te=!0,wr+=`';
`+ma+`;
__p += '`),Rn&&(wr+=`' +
((__t = (`+Rn+`)) == null ? '' : __t) +
'`),cr=Ya+on.length,on}),wr+=`';
`;var sn=Dn.call(c,"variable")&&c.variable;if(!sn)wr=`with (obj) {
`+wr+`
}
`;else if(Xa.test(sn))throw new an(s);wr=(Te?wr.replace(ki,""):wr).replace(ni,"$1").replace(Ia,"$1;"),wr="function("+(sn||"obj")+`) {
`+(sn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(le?", __e = _.escape":"")+(Te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+wr+`return __p
}`;var Cn=_c(function(){return Nn(Pt,Gr+"return "+wr).apply(pt,Zt)});if(Cn.source=wr,Rh(Cn))throw Cn;return Cn}function fp(r){return Kn(r).toLowerCase()}function dp(r){return Kn(r).toUpperCase()}function pp(r,c,_){if(r=Kn(r),r&&(_||c===pt))return li(r);if(!r||!(c=ca(c)))return r;var R=vi(r),lt=vi(c),Pt=hn(R,lt),Zt=Un(R,lt)+1;return Vi(R,Pt,Zt).join("")}function gp(r,c,_){if(r=Kn(r),r&&(_||c===pt))return r.slice(0,ia(r)+1);if(!r||!(c=ca(c)))return r;var R=vi(r),lt=Un(R,vi(c))+1;return Vi(R,0,lt).join("")}function mp(r,c,_){if(r=Kn(r),r&&(_||c===pt))return r.replace(to,"");if(!r||!(c=ca(c)))return r;var R=vi(r),lt=hn(R,vi(c));return Vi(R,lt).join("")}function vp(r,c){var _=Ut,R=fe;if(bi(c)){var lt="separator"in c?c.separator:lt;_="length"in c?Sn(c.length):_,R="omission"in c?ca(c.omission):R}r=Kn(r);var Pt=r.length;if(Zi(r)){var Zt=vi(r);Pt=Zt.length}if(_>=Pt)return r;var le=_-zi(R);if(le<1)return R;var Te=Zt?Vi(Zt,0,le).join(""):r.slice(0,le);if(lt===pt)return Te+R;if(Zt&&(le+=Te.length-le),Bh(lt)){if(r.slice(le).search(lt)){var cr,dr=Te;for(lt.global||(lt=rl(lt.source,Kn(Z.exec(lt))+"g")),lt.lastIndex=0;cr=lt.exec(dr);)var wr=cr.index;Te=Te.slice(0,wr===pt?le:wr)}}else if(r.indexOf(ca(lt),le)!=le){var Dr=Te.lastIndexOf(lt);Dr>-1&&(Te=Te.slice(0,Dr))}return Te+R}function yp(r){return r=Kn(r),r&&va.test(r)?r.replace(Mr,ro):r}var bp=vo(function(r,c,_){return r+(_?" ":"")+c.toUpperCase()}),Uh=$u("toUpperCase");function bc(r,c,_){return r=Kn(r),c=_?pt:c,c===pt?_a(r)?Po(r):en(r):r.match(c)||[]}var _c=mn(function(r,c){try{return mr(r,pt,c)}catch(_){return Rh(_)?_:new an(_)}}),_p=hr(function(r,c){return Pr(c,function(_){_=ls(_),Ui(r,_,Mh(r[_],r))}),r});function wp(r){var c=r==null?0:r.length,_=Er();return r=c?ir(r,function(R){if(typeof R[1]!="function")throw new Ji(b);return[_(R[0]),R[1]]}):[],mn(function(R){for(var lt=-1;++lt<c;){var Pt=r[lt];if(mr(Pt[0],this,R))return mr(Pt[1],this,R)}})}function xp(r){return Gi(Mi(r,e))}function Wh(r){return function(){return r}}function Sp(r,c){return r==null||r!==r?c:r}var Cp=Ou(),Ap=Ou(!0);function Fa(r){return r}function Hh(r){return yu(typeof r=="function"?r:Mi(r,e))}function Tp(r){return _u(Mi(r,e))}function Pp(r,c){return Yl(r,Mi(c,e))}var Op=mn(function(r,c){return function(_){return xs(_,r,c)}}),Lp=mn(function(r,c){return function(_){return xs(r,_,c)}});function qh(r,c,_){var R=Hi(c),lt=ta(c,R);_==null&&!(bi(c)&&(lt.length||!R.length))&&(_=c,c=r,r=this,lt=ta(c,Hi(c)));var Pt=!(bi(_)&&"chain"in _)||!!_.chain,Zt=wo(r);return Pr(lt,function(le){var Te=c[le];r[le]=Te,Zt&&(r.prototype[le]=function(){var cr=this.__chain__;if(Pt||cr){var dr=r(this.__wrapped__),wr=dr.__actions__=Wi(this.__actions__);return wr.push({func:Te,args:arguments,thisArg:r}),dr.__chain__=cr,dr}return Te.apply(r,Ir([this.value()],arguments))})}),r}function kp(){return br._===this&&(br._=ao),this}function Gh(){}function Ep(r){return r=Sn(r),mn(function(c){return ha(c,r)})}var Fp=H(ir),Ip=H(Vr),Np=H(Hr);function wc(r){return Pa(r)?Vn(ls(r)):Xl(r)}function Mp(r){return function(c){return r==null?pt:ss(r,c)}}var Dp=ct(),Rp=ct(!0);function Yh(){return[]}function Vh(){return!1}function Bp(){return{}}function jp(){return""}function zp(){return!0}function Up(r,c){if(r=Sn(r),r<1||r>W)return[];var _=it,R=_i(r,it);c=Er(c),r-=it;for(var lt=Bn(R,c);++_<r;)c(_);return lt}function Wp(r){return _n(r)?ir(r,ls):qa(r)?[r]:Wi(Ko(Kn(r)))}function Hp(r){var c=++fu;return Kn(r)+c}var qp=E(function(r,c){return r+c},0),Gp=Nt("ceil"),Yp=E(function(r,c){return r/c},1),Vp=Nt("floor");function Xp(r){return r&&r.length?zo(r,Fa,os):pt}function Kp(r,c){return r&&r.length?zo(r,Er(c,2),os):pt}function Zp(r){return Bi(r,Fa)}function Jp(r,c){return Bi(r,Er(c,2))}function $p(r){return r&&r.length?zo(r,Fa,Gl):pt}function Qp(r,c){return r&&r.length?zo(r,Er(c,2),Gl):pt}var t0=E(function(r,c){return r*c},1),e0=Nt("round"),r0=E(function(r,c){return r-c},0);function n0(r){return r&&r.length?ba(r,Fa):0}function i0(r,c){return r&&r.length?ba(r,Er(c,2)):0}return mt.after=Tf,mt.ary=$h,mt.assign=dd,mt.assignIn=fc,mt.assignInWith=yh,mt.assignWith=pd,mt.at=gd,mt.before=Qh,mt.bind=Mh,mt.bindAll=_p,mt.bindKey=tc,mt.castArray=Bf,mt.chain=Kh,mt.chunk=Th,mt.compact=Ph,mt.concat=Oh,mt.cond=wp,mt.conforms=xp,mt.constant=Wh,mt.countBy=rf,mt.create=md,mt.curry=ec,mt.curryRight=rc,mt.debounce=nc,mt.defaults=vd,mt.defaultsDeep=yd,mt.defer=Pf,mt.delay=Of,mt.difference=rh,mt.differenceBy=ou,mt.differenceWith=nh,mt.drop=ih,mt.dropRight=lu,mt.dropRightWhile=Eu,mt.dropWhile=Sl,mt.fill=ah,mt.filter=af,mt.flatMap=lf,mt.flatMapDeep=uf,mt.flatMapDepth=hf,mt.flatten=Fu,mt.flattenDeep=Iu,mt.flattenDepth=Zs,mt.flip=Lf,mt.flow=Cp,mt.flowRight=Ap,mt.fromPairs=oh,mt.functions=Ad,mt.functionsIn=Td,mt.groupBy=cf,mt.initial=lh,mt.intersection=Zo,mt.intersectionBy=kh,mt.intersectionWith=uh,mt.invert=Od,mt.invertBy=Ld,mt.invokeMap=df,mt.iteratee=Hh,mt.keyBy=pf,mt.keys=Hi,mt.keysIn=Ea,mt.map=fh,mt.mapKeys=Ed,mt.mapValues=Fd,mt.matches=Tp,mt.matchesProperty=Pp,mt.memoize=ph,mt.merge=Id,mt.mergeWith=dc,mt.method=Op,mt.methodOf=Lp,mt.mixin=qh,mt.negate=gh,mt.nthArg=Ep,mt.omit=Nd,mt.omitBy=Md,mt.once=kf,mt.orderBy=gf,mt.over=Fp,mt.overArgs=Ef,mt.overEvery=Ip,mt.overSome=Np,mt.partial=Dh,mt.partialRight=ic,mt.partition=mf,mt.pick=Dd,mt.pickBy=pc,mt.property=wc,mt.propertyOf=Mp,mt.pull=Mu,mt.pullAll=Tl,mt.pullAllBy=Ps,mt.pullAllWith=Js,mt.pullAt=$s,mt.range=Dp,mt.rangeRight=Rp,mt.rearg=Ff,mt.reject=bf,mt.remove=uu,mt.rest=If,mt.reverse=Pl,mt.sampleSize=wf,mt.set=Bd,mt.setWith=jd,mt.shuffle=xf,mt.slice=hh,mt.sortBy=Af,mt.sortedUniq=Tc,mt.sortedUniqBy=Pc,mt.split=lp,mt.spread=Nf,mt.tail=Oc,mt.take=Lc,mt.takeRight=kc,mt.takeRightWhile=Ec,mt.takeWhile=Fc,mt.tap=Vc,mt.throttle=Mf,mt.thru=ch,mt.toArray=uc,mt.toPairs=gc,mt.toPairsIn=mc,mt.toPath=Wp,mt.toPlainObject=cc,mt.transform=zd,mt.unary=Df,mt.union=Ic,mt.unionBy=Nc,mt.unionWith=Mc,mt.uniq=Dc,mt.uniqBy=Rc,mt.uniqWith=Bc,mt.unset=Ud,mt.unzip=Nh,mt.unzipWith=Xh,mt.update=Wd,mt.updateWith=Hd,mt.values=cu,mt.valuesIn=qd,mt.without=jc,mt.words=bc,mt.wrap=Rf,mt.xor=zc,mt.xorBy=Uc,mt.xorWith=Wc,mt.zip=Hc,mt.zipObject=qc,mt.zipObjectDeep=Gc,mt.zipWith=Yc,mt.entries=gc,mt.entriesIn=mc,mt.extend=fc,mt.extendWith=yh,qh(mt,mt),mt.add=qp,mt.attempt=_c,mt.camelCase=Xd,mt.capitalize=vc,mt.ceil=Gp,mt.clamp=Gd,mt.clone=jf,mt.cloneDeep=Uf,mt.cloneDeepWith=Wf,mt.cloneWith=zf,mt.conformsTo=Hf,mt.deburr=yc,mt.defaultTo=Sp,mt.divide=Yp,mt.endsWith=Kd,mt.eq=Os,mt.escape=Zd,mt.escapeRegExp=Jd,mt.every=nf,mt.find=sf,mt.findIndex=sh,mt.findKey=bd,mt.findLast=of,mt.findLastIndex=Cl,mt.findLastKey=_d,mt.floor=Vp,mt.forEach=Zh,mt.forEachRight=Jh,mt.forIn=wd,mt.forInRight=xd,mt.forOwn=Sd,mt.forOwnRight=Cd,mt.get=jh,mt.gt=qf,mt.gte=Gf,mt.has=Pd,mt.hasIn=zh,mt.head=Nu,mt.identity=Fa,mt.includes=ff,mt.indexOf=Lh,mt.inRange=Yd,mt.invoke=kd,mt.isArguments=Ol,mt.isArray=_n,mt.isArrayBuffer=Yf,mt.isArrayLike=ka,mt.isArrayLikeObject=Oi,mt.isBoolean=Vf,mt.isBuffer=Jo,mt.isDate=Xf,mt.isElement=Kf,mt.isEmpty=Zf,mt.isEqual=Jf,mt.isEqualWith=$f,mt.isError=Rh,mt.isFinite=Qf,mt.isFunction=wo,mt.isInteger=ac,mt.isLength=mh,mt.isMap=sc,mt.isMatch=td,mt.isMatchWith=ed,mt.isNaN=rd,mt.isNative=nd,mt.isNil=ad,mt.isNull=id,mt.isNumber=oc,mt.isObject=bi,mt.isObjectLike=Si,mt.isPlainObject=Bu,mt.isRegExp=Bh,mt.isSafeInteger=sd,mt.isSet=lc,mt.isString=vh,mt.isSymbol=qa,mt.isTypedArray=hu,mt.isUndefined=od,mt.isWeakMap=ld,mt.isWeakSet=ud,mt.join=Eh,mt.kebabCase=$d,mt.last=ga,mt.lastIndexOf=Fh,mt.lowerCase=Qd,mt.lowerFirst=tp,mt.lt=hd,mt.lte=cd,mt.max=Xp,mt.maxBy=Kp,mt.mean=Zp,mt.meanBy=Jp,mt.min=$p,mt.minBy=Qp,mt.stubArray=Yh,mt.stubFalse=Vh,mt.stubObject=Bp,mt.stubString=jp,mt.stubTrue=zp,mt.multiply=t0,mt.nth=Al,mt.noConflict=kp,mt.noop=Gh,mt.now=dh,mt.pad=ep,mt.padEnd=rp,mt.padStart=np,mt.parseInt=ip,mt.random=Vd,mt.reduce=vf,mt.reduceRight=yf,mt.repeat=ap,mt.replace=sp,mt.result=Rd,mt.round=e0,mt.runInContext=Se,mt.sample=_f,mt.size=Sf,mt.snakeCase=op,mt.some=Cf,mt.sortedIndex=Ih,mt.sortedIndexBy=Du,mt.sortedIndexOf=Ru,mt.sortedLastIndex=Sc,mt.sortedLastIndexBy=Cc,mt.sortedLastIndexOf=Ac,mt.startCase=up,mt.startsWith=hp,mt.subtract=r0,mt.sum=n0,mt.sumBy=i0,mt.template=cp,mt.times=Up,mt.toFinite=xo,mt.toInteger=Sn,mt.toLength=hc,mt.toLower=fp,mt.toNumber=us,mt.toSafeInteger=fd,mt.toString=Kn,mt.toUpper=dp,mt.trim=pp,mt.trimEnd=gp,mt.trimStart=mp,mt.truncate=vp,mt.unescape=yp,mt.uniqueId=Hp,mt.upperCase=bp,mt.upperFirst=Uh,mt.each=Zh,mt.eachRight=Jh,mt.first=Nu,qh(mt,function(){var r={};return Pi(mt,function(c,_){Dn.call(mt.prototype,_)||(r[_]=c)}),r}(),{chain:!1}),mt.VERSION=ft,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){mt[r].placeholder=mt}),Pr(["drop","take"],function(r,c){wn.prototype[r]=function(_){_=_===pt?1:si(Sn(_),0);var R=this.__filtered__&&!c?new wn(this):this.clone();return R.__filtered__?R.__takeCount__=_i(_,R.__takeCount__):R.__views__.push({size:_i(_,it),type:r+(R.__dir__<0?"Right":"")}),R},wn.prototype[r+"Right"]=function(_){return this.reverse()[r](_).reverse()}}),Pr(["filter","map","takeWhile"],function(r,c){var _=c+1,R=_==Vt||_==be;wn.prototype[r]=function(lt){var Pt=this.clone();return Pt.__iteratees__.push({iteratee:Er(lt,3),type:_}),Pt.__filtered__=Pt.__filtered__||R,Pt}}),Pr(["head","last"],function(r,c){var _="take"+(c?"Right":"");wn.prototype[r]=function(){return this[_](1).value()[0]}}),Pr(["initial","tail"],function(r,c){var _="drop"+(c?"":"Right");wn.prototype[r]=function(){return this.__filtered__?new wn(this):this[_](1)}}),wn.prototype.compact=function(){return this.filter(Fa)},wn.prototype.find=function(r){return this.filter(r).head()},wn.prototype.findLast=function(r){return this.reverse().find(r)},wn.prototype.invokeMap=mn(function(r,c){return typeof r=="function"?new wn(this):this.map(function(_){return xs(_,r,c)})}),wn.prototype.reject=function(r){return this.filter(gh(Er(r)))},wn.prototype.slice=function(r,c){r=Sn(r);var _=this;return _.__filtered__&&(r>0||c<0)?new wn(_):(r<0?_=_.takeRight(-r):r&&(_=_.drop(r)),c!==pt&&(c=Sn(c),_=c<0?_.dropRight(-c):_.take(c-r)),_)},wn.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},wn.prototype.toArray=function(){return this.take(it)},Pi(wn.prototype,function(r,c){var _=/^(?:filter|find|map|reject)|While$/.test(c),R=/^(?:head|last)$/.test(c),lt=mt[R?"take"+(c=="last"?"Right":""):c],Pt=R||/^find/.test(c);!lt||(mt.prototype[c]=function(){var Zt=this.__wrapped__,le=R?[1]:arguments,Te=Zt instanceof wn,cr=le[0],dr=Te||_n(Zt),wr=function(kn){var Rn=lt.apply(mt,Ir([kn],le));return R&&Dr?Rn[0]:Rn};dr&&_&&typeof cr=="function"&&cr.length!=1&&(Te=dr=!1);var Dr=this.__chain__,Gr=!!this.__actions__.length,sn=Pt&&!Dr,Cn=Te&&!Gr;if(!Pt&&dr){Zt=Cn?Zt:new wn(this);var on=r.apply(Zt,le);return on.__actions__.push({func:ch,args:[wr],thisArg:pt}),new Qi(on,Dr)}return sn&&Cn?r.apply(this,le):(on=this.thru(wr),sn?R?on.value()[0]:on.value():on)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(r){var c=$i[r],_=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",R=/^(?:pop|shift)$/.test(r);mt.prototype[r]=function(){var lt=arguments;if(R&&!this.__chain__){var Pt=this.value();return c.apply(_n(Pt)?Pt:[],lt)}return this[_](function(Zt){return c.apply(_n(Zt)?Zt:[],lt)})}}),Pi(wn.prototype,function(r,c){var _=mt[c];if(_){var R=_.name+"";Dn.call(Ra,R)||(Ra[R]=[]),Ra[R].push({name:c,func:_})}}),Ra[d(pt,f).name]=[{name:"wrapper",func:pt}],wn.prototype.clone=ol,wn.prototype.reverse=Ul,wn.prototype.value=Ro,mt.prototype.at=Xc,mt.prototype.chain=Kc,mt.prototype.commit=Zc,mt.prototype.next=Jc,mt.prototype.plant=Qc,mt.prototype.reverse=tf,mt.prototype.toJSON=mt.prototype.valueOf=mt.prototype.value=ef,mt.prototype.first=mt.prototype.head,aa&&(mt.prototype[aa]=$c),mt},ds=Oo();br._=ds,me=function(){return ds}.call(_r,De,_r,O),me!==pt&&(O.exports=me)}).call(this)}).call(this,De("IyRk"),De("hOG+")(un))},PGov:function(un,_r,De){"use strict";var Xe=De("i8i4"),O=De.n(Xe),me=De("oOwn"),pt=De.n(me),ft=De("bBst"),Gt=De.n(ft),tt=De("q1tI"),b=De.n(tt);function s(V,it,et){return it in V?Object.defineProperty(V,it,{value:et,enumerable:!0,configurable:!0,writable:!0}):V[it]=et,V}function h(V){for(var it=1;it<arguments.length;it++){var et=arguments[it]!=null?arguments[it]:{},F=Object.keys(et);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(et).filter(function(K){return Object.getOwnPropertyDescriptor(et,K).enumerable}))),F.forEach(function(K){s(V,K,et[K])})}return V}function u(V,it){if(!(V instanceof it))throw new TypeError("Cannot call a class as a function")}function o(V,it){for(var et=0;et<it.length;et++){var F=it[et];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}function e(V,it,et){return it&&o(V.prototype,it),et&&o(V,et),V}function n(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(et){return typeof et}:n=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},n(V)}function t(V){return typeof Symbol=="function"&&n(Symbol.iterator)==="symbol"?t=function(et){return n(et)}:t=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":n(et)},t(V)}function a(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function l(V,it){return it&&(t(it)==="object"||typeof it=="function")?it:a(V)}function i(V){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(et){return et.__proto__||Object.getPrototypeOf(et)},i(V)}function f(V,it){return f=Object.setPrototypeOf||function(F,K){return F.__proto__=K,F},f(V,it)}function p(V,it){if(typeof it!="function"&&it!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create(it&&it.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),it&&f(V,it)}function m(V){if(Array.isArray(V)){for(var it=0,et=new Array(V.length);it<V.length;it++)et[it]=V[it];return et}}function x(V){if(Symbol.iterator in Object(V)||Object.prototype.toString.call(V)==="[object Arguments]")return Array.from(V)}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Y(V){return m(V)||x(V)||M()}var nt={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},xt=function V(){var it=this;u(this,V),this.startListen=function(et){!et||et.addEventListener("keydown",it.f)},this.stopListen=function(et){!et||et.removeEventListener("keydown",it.f)},this.add=function(et,F){var K=et;return typeof K!="object"&&(K=[K]),it.listeners[it.index]={keyCode:K,fn:F},it.index++},this.remove=function(et){delete it.listeners[et]},this.removeAll=function(){it.listeners={},it.index=1},this.index=1,this.listeners={},this.f=function(et){if(!!et){var F=et.keyCode||et.which;Object.values(it.listeners).forEach(function(K){var ht=K.keyCode,dt=K.fn;ht.includes(F)&&(et.stopPropagation(),et.preventDefault(),dt(et))})}}},Dt=new xt,Ut=function(V){p(it,V);function it(){var et,F;u(this,it);for(var K=arguments.length,ht=new Array(K),dt=0;dt<K;dt++)ht[dt]=arguments[dt];return F=l(this,(et=i(it)).call.apply(et,[this].concat(ht))),F.selectItem=function(){var Wt=F.props,Tt=Wt.item,jt=Wt.onSelectHandler;jt(Tt)},F}return e(it,[{key:"shouldComponentUpdate",value:function(F){return this.props.item!==F.item||this.props.selected!==F.selected||this.props.style!==F.style||this.props.className!==F.className}},{key:"render",value:function(){var F=this,K=this.props,ht=K.component,dt=K.style,Wt=K.onClickHandler,Tt=K.item,jt=K.selected,ce=K.className,ve=K.innerRef;return b.a.createElement("li",{className:"rta__item  ".concat(jt===!0?"rta__item--selected":""," ").concat(ce||""),style:dt},b.a.createElement("div",{className:"rta__entity ".concat(jt===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:Wt,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){F.clicked=!0,F.selectItem()},onTouchEnd:function(Yt){Yt.preventDefault(),F.clicked&&Wt(Yt)},onTouchMove:function(){F.clicked=!1},onTouchCancel:function(){F.clicked=!1},ref:ve},b.a.createElement(ht,{selected:jt,entity:Tt})))}}]),it}(b.a.Component),fe=function(V){p(it,V);function it(){var et,F;u(this,it);for(var K=arguments.length,ht=new Array(K),dt=0;dt<K;dt++)ht[dt]=arguments[dt];return F=l(this,(et=i(it)).call.apply(et,[this].concat(ht))),F.state={selectedItem:null},F.cachedIdOfItems=new Map,F.onPressEnter=function(Wt){typeof Wt!="undefined"&&Wt.preventDefault();var Tt=F.props.values;F.modifyText(Tt[F.getPositionInList()])},F.getPositionInList=function(){var Wt=F.props.values,Tt=F.state.selectedItem;return Tt?Wt.findIndex(function(jt){return F.getId(jt)===F.getId(Tt)}):0},F.getId=function(Wt){if(F.cachedIdOfItems.has(Wt))return F.cachedIdOfItems.get(Wt);var Tt=F.props.getTextToReplace(Wt),jt=function(){if(Tt){if(Tt.key)return Tt.key;if(typeof Wt=="string"||!Wt.key)return Tt.text}if(!Wt.key)throw new Error("Item ".concat(JSON.stringify(Wt),' has to have defined "key" property'));return Wt.key},ce=jt();return F.cachedIdOfItems.set(Wt,ce),ce},F.listeners=[],F.itemsRef={},F.modifyText=function(Wt){if(!!Wt){var Tt=F.props.onSelect;Tt(Wt)}},F.selectItem=function(Wt){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,jt=F.props.onItemHighlighted;F.state.selectedItem!==Wt&&F.setState({selectedItem:Wt},function(){jt(Wt),Tt&&F.props.dropdownScroll(F.itemsRef[F.getId(Wt)])})},F.scroll=function(Wt){Wt.preventDefault();var Tt=F.props.values,jt=Wt.keyCode||Wt.which,ce=F.getPositionInList(),ve;switch(jt){case nt.DOWN:ve=ce+1;break;case nt.UP:ve=ce-1;break;default:ve=ce;break}ve=(ve%Tt.length+Tt.length)%Tt.length,F.selectItem(Tt[ve],[nt.DOWN,nt.UP].includes(jt))},F.isSelected=function(Wt){var Tt=F.state.selectedItem;return Tt?F.getId(Tt)===F.getId(Wt):!1},F}return e(it,[{key:"componentDidMount",value:function(){this.listeners.push(Dt.add([nt.DOWN,nt.UP],this.scroll),Dt.add([nt.ENTER,nt.TAB],this.onPressEnter));var F=this.props.values;F&&F[0]&&this.selectItem(F[0])}},{key:"componentDidUpdate",value:function(F){var K=this,ht=F.values,dt=this.props.values,Wt=ht.map(function(jt){return K.getId(jt)}).join(""),Tt=dt.map(function(jt){return K.getId(jt)}).join("");Wt!==Tt&&dt&&dt[0]&&this.selectItem(dt[0])}},{key:"componentWillUnmount",value:function(){for(var F;this.listeners.length;)F=this.listeners.pop(),Dt.remove(F)}},{key:"render",value:function(){var F=this,K=this.props,ht=K.values,dt=K.component,Wt=K.style,Tt=K.itemClassName,jt=K.className,ce=K.itemStyle;return b.a.createElement("ul",{className:"rta__list ".concat(jt||""),style:Wt},ht.map(function(ve){return b.a.createElement(Ut,{key:F.getId(ve),innerRef:function(Yt){F.itemsRef[F.getId(ve)]=Yt},selected:F.isSelected(ve),item:ve,className:Tt,style:ce,onClickHandler:F.onPressEnter,onSelectHandler:F.selectItem,component:dt})}))}}]),it}(b.a.Component);function Oe(V,it){var et=parseInt(getComputedStyle(it).getPropertyValue("height"),10),F=parseInt(getComputedStyle(V).getPropertyValue("height"),10)-et,K=it.offsetTop,ht=V.scrollTop;K<ht+F&&ht<K||(V.scrollTop=K)}var _t="next",Vt={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},J=function(it){return console.error("RTA: dataProvider fails: ".concat(it,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},be=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],Qe=function(it){return Y(it).map(function(et){return be.includes(et)?"\\".concat(et):et}).join("")},W=function(V){p(it,V);function it(){return u(this,it),l(this,i(it).apply(this,arguments))}return e(it,[{key:"componentDidMount",value:function(){var F=this.props.boundariesElement;if(typeof F=="string"){var K=document.querySelector(F);if(!K)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=K}else if(F instanceof HTMLElement)this.containerElem=F;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var F,K,ht=this.props.top||0,dt=this.props.left||0,Wt=[],Tt=[],jt=0,ce=0,ve=this.containerElem.getBoundingClientRect(),re=this.ref.getBoundingClientRect(),Yt=this.props.textareaRef.getBoundingClientRect(),de=window.getComputedStyle(this.ref),N=parseInt(de.getPropertyValue("margin-top"),10),Bt=parseInt(de.getPropertyValue("margin-bottom"),10),U=parseInt(de.getPropertyValue("margin-left"),10),C=parseInt(de.getPropertyValue("margin-right"),10),A=N+Bt+Yt.top+ht+re.height,q=U+C+Yt.left+dt+re.width;q>ve.right&&Yt.left+dt>re.width?(ce=dt-re.width,Wt.push(Vt.X.LEFT),Tt.push(Vt.X.RIGHT)):(ce=dt,Wt.push(Vt.X.RIGHT),Tt.push(Vt.X.LEFT)),A>ve.bottom&&Yt.top+ht>re.height?(jt=ht-re.height,Wt.push(Vt.Y.TOP),Tt.push(Vt.Y.BOTTOM)):(jt=ht,Wt.push(Vt.Y.BOTTOM),Tt.push(Vt.Y.TOP)),this.props.renderToBody&&(jt+=Yt.top,ce+=Yt.left),this.ref.style.top="".concat(jt,"px"),this.ref.style.left="".concat(ce,"px"),(F=this.ref.classList).remove.apply(F,Tt),(K=this.ref.classList).add.apply(K,Wt)}},{key:"render",value:function(){var F=this,K=this.props,ht=K.style,dt=K.className,Wt=K.innerRef,Tt=K.children,jt=K.renderToBody,ce=document.body,ve=b.a.createElement("div",{ref:function(Yt){F.ref=Yt,Wt(Yt)},className:"rta__autocomplete ".concat(dt||""),style:ht},Tt);return jt&&ce!==null?O.a.createPortal(ve,ce):ve}}]),it}(b.a.Component),At=function(V){p(it,V);function it(et){var F;u(this,it),F=l(this,i(it).call(this,et)),F.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},F.escListenerInit=function(){F.escListener||(F.escListener=Dt.add(nt.ESC,F._closeAutocomplete))},F.escListenerDestroy=function(){F.escListener&&(Dt.remove(F.escListener),F.escListener=null)},F.getSelectionPosition=function(){return F.textareaRef?{selectionStart:F.textareaRef.selectionStart,selectionEnd:F.textareaRef.selectionEnd}:null},F.getSelectedText=function(){if(!F.textareaRef)return null;var Tt=F.textareaRef,jt=Tt.selectionStart,ce=Tt.selectionEnd;return jt===ce?null:F.state.value.substr(jt,ce-jt)},F.setCaretPosition=function(){var Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!F.textareaRef||(F.textareaRef.focus(),F.textareaRef.setSelectionRange(Tt,Tt))},F.getCaretPosition=function(){if(!F.textareaRef)return 0;var Tt=F.textareaRef.selectionEnd;return Tt},F._handleCaretChange=function(Tt){var jt=function(){var re=F.getCaretPosition()-1;F.lastTrigger=F.lastTrigger?re:0};if(Tt.type==="keydown"){var ce=Tt.keyCode||Tt.which;switch(ce){case nt.UP:case nt.DOWN:F._isAutocompleteOpen()||jt();break;case nt.LEFT:case nt.RIGHT:jt();break;default:}return}jt()},F._onSelect=function(Tt){var jt=F.state,ce=jt.selectionEnd,ve=jt.currentTrigger,re=jt.value,Yt=F.props.onItemSelected;if(!!ve){var de=F._getTextToReplace(ve);if(!de){F._closeAutocomplete();return}var N=de(Tt);if(!N){F._closeAutocomplete();return}Yt&&Yt({currentTrigger:ve,item:Tt});var Bt=function(we,Ke,xr){switch(we){case"start":return xr;case"next":case"end":return xr+Ke.length;default:if(!Number.isInteger(we))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return we}},U=re.slice(0,ce),C=Qe(ve),A=U.length-U.lastIndexOf(ve),q=U.search(new RegExp("(?!".concat(C,")$")))-A,at=N.caretPosition==="next"?"".concat(N.text," "):N.text,Ot=Bt(N.caretPosition,at,q),St=U.substring(0,q)+at,xe=re.replace(U,St);F.setState({value:xe,dataLoading:!1},function(){var Ne=F.tokenRegExpEnding.exec(at),we=Ne?Ne[0].length:1;F.lastTrigger=Ot&&Ot-we,F.textareaRef.value=xe,F.textareaRef.selectionEnd=Ot,F._changeHandler();var Ke=F.textareaRef.scrollTop;F.setCaretPosition(Ot),window.chrome&&(F.textareaRef.scrollTop=Ke)})}},F._getTextToReplace=function(Tt){var jt=F.props.trigger[Tt];if(!Tt||!jt)return null;var ce=jt.output;return function(ve){if(typeof ve=="object"&&(!ce||typeof ce!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(ce){var re=ce(ve,Tt);if(re===void 0||typeof re=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(re),'". Check the implementation for trigger "').concat(Tt,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(re===null)return null;if(typeof re=="string")return{text:re,caretPosition:_t};if(!re.text&&typeof re.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(Tt,`"
`));if(!re.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(Tt,`"
`));return re}if(typeof ve!="string")throw new Error(`Output item should be string
`);return{text:"".concat(Tt).concat(ve).concat(Tt),caretPosition:_t}}},F._getCurrentTriggerSettings=function(){var Tt=F.state.currentTrigger;return Tt?F.props.trigger[Tt]:null},F._getValuesFromProvider=function(){var Tt=F.state,jt=Tt.currentTrigger,ce=Tt.actualToken,ve=F._getCurrentTriggerSettings();if(!(!jt||!ve)){var re=ve.dataProvider,Yt=ve.component;if(typeof re!="function")throw new Error("Trigger provider has to be a function!");F.setState({dataLoading:!0});var de=re(ce);de instanceof Promise||(de=Promise.resolve(de)),de.then(function(N){if(!Array.isArray(N))throw new Error("Trigger provider has to provide an array!");if(typeof Yt!="function")throw new Error("Component should be defined!");if(jt===F.state.currentTrigger){if(!N.length){F._closeAutocomplete();return}F.setState({dataLoading:!1,data:N,component:Yt})}}).catch(function(N){return J(N.message)})}},F._getSuggestions=function(){var Tt=F.state,jt=Tt.currentTrigger,ce=Tt.data;return!jt||!ce||ce&&!ce.length?null:ce},F._createRegExp=function(){var Tt=F.props.trigger;F.tokenRegExp=new RegExp("(".concat(Object.keys(Tt).sort(function(jt,ce){return jt<ce?1:jt>ce?-1:0}).map(function(jt){return Qe(jt)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),F.tokenRegExpEnding=new RegExp("(".concat(Object.keys(Tt).sort(function(jt,ce){return jt<ce?1:jt>ce?-1:0}).map(function(jt){return Qe(jt)}).join("|"),")$"))},F._closeAutocomplete=function(){var Tt=F.state.currentTrigger;F.escListenerDestroy(),F.setState({data:null,dataLoading:!1,currentTrigger:null},function(){Tt&&F._onItemHighlightedHandler(null)})},F._cleanUpProps=function(){var Tt=h({},F.props),jt=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var ce in Tt)jt.includes(ce)&&delete Tt[ce];return Tt},F._changeHandler=function(Tt){var jt=F.props,ce=jt.trigger,ve=jt.onChange,re=jt.minChar,Yt=jt.onCaretPositionChange,de=jt.movePopupAsYouType,N=F.state,Bt=N.top,U=N.left,C=Tt;C||(C=new Gt.a("change",{bubbles:!0}),F.textareaRef.dispatchEvent(C));var A=C.target||F.textareaRef,q=A.selectionEnd,at=A.value;if(F.lastValueBubbledEvent=at,ve&&C&&(C.persist&&C.persist(),ve(new Proxy(C,{get:function(pi,Jn,ki){return Jn==="target"?A:Reflect.get(pi,Jn,ki)}}))),Yt){var Ot=F.getCaretPosition();Yt(Ot)}F.setState({value:at});var St=function(){var pi=pt()(A,q),Jn=pi.top,ki=pi.left;F.setState({top:Jn-F.textareaRef.scrollTop||0,left:ki})},xe=function(pi){F.lastTrigger=q-pi,F._closeAutocomplete(),St()};if(q<=F.lastTrigger){var Ne=at.slice(0,q),we=F.tokenRegExp.exec(Ne);xe(we?we[0].length:0)}var Ke=at.slice(F.lastTrigger,q),xr=F.tokenRegExp.exec(Ke),Or=xr&&xr[0],Jr=xr&&xr[1]||null,fn=Jr?Jr.length-1:0,En=F.tokenRegExpEnding.exec(Ke);if(En?xe(En[0].length):F._isAutocompleteOpen()||F._closeAutocomplete(),(!Or||Or.length<=re+fn)&&(F.state.currentTrigger&&!ce[F.state.currentTrigger].allowWhitespace||!F.state.currentTrigger)){F._closeAutocomplete();return}if(Jr&&ce[Jr].afterWhitespace&&!/\s/.test(at[q-Or.length-1])&&at[q-Or.length-1]!==void 0){F._closeAutocomplete();return}if(F.state.currentTrigger&&ce[F.state.currentTrigger].allowWhitespace){if(xr=new RegExp("".concat(Qe(F.state.currentTrigger),".*$")).exec(at.slice(0,q)),Or=xr&&xr[0],!Or){F._closeAutocomplete();return}Jr=Object.keys(ce).find(function(zn){return zn.slice(0,fn+1)===Or.slice(0,fn+1)})||null}var ri=Or.slice(1);if(!!Jr){(de||Bt===null&&U===null||F.state.currentTrigger!==Jr)&&St(),F.escListenerInit();var Yr=F._getTextToReplace(Jr);F.setState({selectionEnd:q,currentTrigger:Jr,textToReplace:Yr,actualToken:ri},function(){try{F._getValuesFromProvider()}catch(zn){J(zn.message)}})}},F._selectHandler=function(Tt){var jt=F.props,ce=jt.onCaretPositionChange,ve=jt.onSelect;if(ce){var re=F.getCaretPosition();ce(re)}ve&&(Tt.persist(),ve(Tt))},F._shouldStayOpen=function(Tt){var jt=Tt.relatedTarget;return jt===null&&(jt=document.activeElement),!!(F.dropdownRef&&jt instanceof Node&&F.dropdownRef.contains(jt))},F._onClick=function(Tt){var jt=F.props.onClick;jt&&(Tt.persist(),jt(Tt)),!F._shouldStayOpen(Tt)&&F._closeAutocomplete()},F._onBlur=function(Tt){var jt=F.props.onBlur;jt&&(Tt.persist(),jt(Tt)),!F._shouldStayOpen(Tt)&&F._closeAutocomplete()},F._onScrollHandler=function(){F._closeAutocomplete()},F._onItemHighlightedHandler=function(Tt){var jt=F.props.onItemHighlighted,ce=F.state.currentTrigger;if(jt)if(typeof jt=="function")jt({currentTrigger:ce,item:Tt});else throw new Error("`onItemHighlighted` has to be a function")},F._dropdownScroll=function(Tt){var jt=F.props.scrollToItem;if(!!jt){if(jt===!0){Oe(F.dropdownRef,Tt);return}if(typeof jt!="function"||jt.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");jt(F.dropdownRef,Tt)}},F._isAutocompleteOpen=function(){var Tt=F.state,jt=Tt.dataLoading,ce=Tt.currentTrigger,ve=F._getSuggestions();return!!((jt||ve)&&ce)},F._textareaRef=function(Tt){F.props.innerRef&&F.props.innerRef(Tt),F.textareaRef=Tt},F.lastTrigger=0,F.escListener=null;var K=F.props,ht=K.loadingComponent,dt=K.trigger,Wt=K.value;if(Wt&&(F.state.value=Wt),F._createRegExp(),!ht)throw new Error("RTA: loadingComponent is not defined");if(!dt)throw new Error("RTA: trigger is not defined");return F}return e(it,[{key:"componentDidMount",value:function(){Dt.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(F){var K=F.trigger,ht=F.value,dt=this.props,Wt=dt.trigger,Tt=dt.value;Object.keys(Wt).join("")!==Object.keys(K).join("")&&this._createRegExp(),ht!==Tt&&this.lastValueBubbledEvent!==Tt&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),Dt.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var F=this,K=this.props,ht=K.loadingComponent,dt=K.style,Wt=K.className,Tt=K.listStyle,jt=K.itemStyle,ce=K.boundariesElement,ve=K.movePopupAsYouType,re=K.listClassName,Yt=K.itemClassName,de=K.dropdownClassName,N=K.dropdownStyle,Bt=K.containerStyle,U=K.containerClassName,C=K.loaderStyle,A=K.loaderClassName,q=K.textAreaComponent,at=K.renderToBody,Ot=this.state,St=Ot.left,xe=Ot.top,Ne=Ot.dataLoading,we=Ot.component,Ke=Ot.value,xr=Ot.textToReplace,Or=this._isAutocompleteOpen(),Jr=this._getSuggestions(),fn={},En;return q.component?(En=q.component,fn[q.ref]=this._textareaRef):(En=q,fn.ref=this._textareaRef),b.a.createElement("div",{className:"rta ".concat(Ne===!0?"rta--loading":""," ").concat(U||""),style:Bt},b.a.createElement(En,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(Wt||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:Ke,style:dt},fn)),Or&&b.a.createElement(W,{innerRef:function(Yr){F.dropdownRef=Yr},top:xe,left:St,style:N,className:de,movePopupAsYouType:ve,boundariesElement:ce,textareaRef:this.textareaRef,renderToBody:at},Jr&&we&&xr&&b.a.createElement(fe,{values:Jr,component:we,style:Tt,className:re,itemClassName:Yt,itemStyle:jt,getTextToReplace:xr,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Ne&&b.a.createElement("div",{className:"rta__loader ".concat(Jr!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(A||""),style:C},b.a.createElement(ht,{data:Jr}))))}}],[{key:"getDerivedStateFromProps",value:function(F){var K=F.value;return K==null?null:{value:K}}}]),it}(b.a.Component);At.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},_r.a=At},QDO1:function(un,_r,De){"use strict";De.d(_r,"a",function(){return n}),De.d(_r,"b",function(){return e});var Xe=De("q1tI"),O=De.n(Xe),me=De("epSk"),pt=De.n(me);function ft(){return ft=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}return t},ft.apply(this,arguments)}var Gt="#000000",tt="rgba(255, 255, 255, 0.0)",b={radius:20,left:100,top:100,fill:tt,stroke:Gt},s={left:100,top:100,fill:tt,stroke:Gt,width:40,height:40,angle:0},h={points:[50,100,200,200],options:{left:170,top:150,stroke:Gt}},u={type:"text",left:100,top:100,fontSize:16,fontFamily:"Arial",fill:Gt},o=function(a,l,i,f,p,m){return{canvas:a,addCircle:function(){var M=new me.fabric.Circle(ft({},b,{fill:l,stroke:i}));a.add(M)},addRectangle:function(){var M=new me.fabric.Rect(ft({},s,{fill:l,stroke:i}));a.add(M)},addLine:function(){var M=new me.fabric.Line(h.points,ft({},h.options,{stroke:i}));a.add(M)},addText:function(M){var Y=new me.fabric.Textbox(M,ft({},u,{fill:i}));Y.set({text:M}),a.add(Y)},updateText:function(M){var Y=a.getActiveObjects();if(Y.length&&Y[0].type===u.type){var nt=Y[0];nt.set({text:M}),a.renderAll()}},deleteAll:function(){a.getObjects().forEach(function(M){return a.remove(M)}),a.discardActiveObject(),a.renderAll()},deleteSelected:function(){a.getActiveObjects().forEach(function(M){return a.remove(M)}),a.discardActiveObject(),a.renderAll()},fillColor:l,strokeColor:i,setFillColor:function(M){f(M),a.getActiveObjects().forEach(function(Y){return Y.set({fill:M})}),a.renderAll()},setStrokeColor:function(M){p(M),a.getActiveObjects().forEach(function(Y){if(Y.type===u.type){Y.set({fill:M});return}Y.set({stroke:M})}),a.renderAll()},zoomIn:function(){var M=a.getZoom();a.setZoom(M/m)},zoomOut:function(){var M=a.getZoom();a.setZoom(M*m)}}},e=function(a){a===void 0&&(a={});var l=a.scaleStep||.5,i=a,f=i.defaultFillColor,p=i.defaultStrokeColor,m=Object(Xe.useState)(null),x=m[0],M=m[1],Y=Object(Xe.useState)(f||tt),nt=Y[0],xt=Y[1],Dt=Object(Xe.useState)(p||Gt),Ut=Dt[0],fe=Dt[1],Oe=Object(Xe.useState)([]),_t=Oe[0],Vt=Oe[1];return Object(Xe.useEffect)(function(){var J=function(Qe){Qe.on("selection:cleared",function(){Vt([])}),Qe.on("selection:created",function(W){Vt(W.selected)}),Qe.on("selection:updated",function(W){Vt(W.selected)})};x&&J(x)},[x]),{selectedObjects:_t,onReady:function(be){console.log("Fabric canvas ready"),M(be)},editor:x?o(x,nt,Ut,xt,fe,l):void 0}},n=function(a){var l=a.className,i=a.onReady,f=Object(Xe.useRef)(null),p=Object(Xe.useRef)(null);return Object(Xe.useEffect)(function(){var m=new me.fabric.Canvas(f.current),x=function(){var nt,xt;m.setHeight(((nt=p.current)===null||nt===void 0?void 0:nt.clientHeight)||0),m.setWidth(((xt=p.current)===null||xt===void 0?void 0:xt.clientWidth)||0),m.renderAll()},M=function(){x()};return x(),window.addEventListener("resize",M,!1),i&&i(m),function(){m.dispose(),window.removeEventListener("resize",M)}},[]),O.a.createElement("div",{ref:p,className:l},O.a.createElement("canvas",{ref:f}))}},ZEwP:function(un,_r,De){"use strict";var Xe=De("C4q1"),O=De.n(Xe),me=De("JhKR"),pt=De.n(me),ft=De("i680"),Gt=De("hPry"),tt=De.n(Gt),b=function(B){var P,G,st,Lt,Ht=[];for(P=B.split(","),st=0,Lt=P.length;st<Lt;st+=1)G=P[st],G.length>0&&Ht.push(s(G));return Ht},s=function(B){var P=B,G,st={a:0,b:0,c:0},Lt=[],Ht=/(\[[^\]]+\])/g,Xt=/(#[^\#\s\+>~\.\[:\)]+)/g,ye=/(\.[^\s\+>~\.\[:\)]+)/g,Me=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,ne=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,je=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,jr=/([^\s\+>~\.\[:]+)/g;return G=function(Q,rt){var Et,Jt,pe,Ue,rr,nr;if(Q.test(P))for(Et=P.match(Q),Jt=0,pe=Et.length;Jt<pe;Jt+=1)st[rt]+=1,Ue=Et[Jt],rr=P.indexOf(Ue),nr=Ue.length,Lt.push({selector:B.substr(rr,nr),type:rt,index:rr,length:nr}),P=P.replace(Ue,Array(nr+1).join(" "))},function(){var Rt=function(pe){var Ue,rr,nr,He;if(pe.test(P))for(Ue=P.match(pe),rr=0,nr=Ue.length;rr<nr;rr+=1)He=Ue[rr],P=P.replace(He,Array(He.length+1).join("A"))},Q=/\\[0-9A-Fa-f]{6}\s?/g,rt=/\\[0-9A-Fa-f]{1,5}\s/g,Et=/\\./g;Rt(Q),Rt(rt),Rt(Et)}(),function(){var Rt=/{[^]*/gm,Q,rt,Et,Jt;if(Rt.test(P))for(Q=P.match(Rt),rt=0,Et=Q.length;rt<Et;rt+=1)Jt=Q[rt],P=P.replace(Jt,Array(Jt.length+1).join(" "))}(),G(Ht,"b"),G(Xt,"a"),G(ye,"b"),G(Me,"c"),G(ne,"b"),G(je,"b"),P=P.replace(/[\*\s\+>~]/g," "),P=P.replace(/[#\.]/g," "),P=P.replace(/:not/g,"    "),P=P.replace(/:local/g,"      "),P=P.replace(/:global/g,"       "),P=P.replace(/[\(\)]/g," "),G(jr,"c"),Lt.sort(function(Rt,Q){return Rt.index-Q.index}),{selector:B,specificity:"0,"+st.a.toString()+","+st.b.toString()+","+st.c.toString(),specificityArray:[0,st.a,st.b,st.c],parts:Lt}},h=function(B,P){var G,st,Lt;if(typeof B=="string"){if(B.indexOf(",")!==-1)throw"Invalid CSS selector";G=s(B).specificityArray}else if(Array.isArray(B)){if(B.filter(function(Ht){return typeof Ht=="number"}).length!==4)throw"Invalid specificity array";G=B}else throw"Invalid CSS selector or specificity array";if(typeof P=="string"){if(P.indexOf(",")!==-1)throw"Invalid CSS selector";st=s(P).specificityArray}else if(Array.isArray(P)){if(P.filter(function(Ht){return typeof Ht=="number"}).length!==4)throw"Invalid specificity array";st=P}else throw"Invalid CSS selector or specificity array";for(Lt=0;Lt<4;Lt+=1){if(G[Lt]<st[Lt])return-1;if(G[Lt]>st[Lt])return 1}return 0};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u=function(B,P){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,st){G.__proto__=st}||function(G,st){for(var Lt in st)st.hasOwnProperty(Lt)&&(G[Lt]=st[Lt])})(B,P)};function o(Z,B){function P(){this.constructor=Z}u(Z,B),Z.prototype=B===null?Object.create(B):(P.prototype=B.prototype,new P)}var e=function(){return(e=Object.assign||function(B){for(var P,G=1,st=arguments.length;G<st;G++)for(var Lt in P=arguments[G])Object.prototype.hasOwnProperty.call(P,Lt)&&(B[Lt]=P[Lt]);return B}).apply(this,arguments)};function n(Z,B,P,G){return new(P||(P=Promise))(function(st,Lt){function Ht(Me){try{ye(G.next(Me))}catch(ne){Lt(ne)}}function Xt(Me){try{ye(G.throw(Me))}catch(ne){Lt(ne)}}function ye(Me){var ne;Me.done?st(Me.value):(ne=Me.value,ne instanceof P?ne:new P(function(je){je(ne)})).then(Ht,Xt)}ye((G=G.apply(Z,B||[])).next())})}function t(Z,B){var P,G,st,Lt,Ht={label:0,sent:function(){if(1&st[0])throw st[1];return st[1]},trys:[],ops:[]};return Lt={next:Xt(0),throw:Xt(1),return:Xt(2)},typeof Symbol=="function"&&(Lt[Symbol.iterator]=function(){return this}),Lt;function Xt(ye){return function(Me){return function(ne){if(P)throw new TypeError("Generator is already executing.");for(;Ht;)try{if(P=1,G&&(st=2&ne[0]?G.return:ne[0]?G.throw||((st=G.return)&&st.call(G),0):G.next)&&!(st=st.call(G,ne[1])).done)return st;switch(G=0,st&&(ne=[2&ne[0],st.value]),ne[0]){case 0:case 1:st=ne;break;case 4:return Ht.label++,{value:ne[1],done:!1};case 5:Ht.label++,G=ne[1],ne=[0];continue;case 7:ne=Ht.ops.pop(),Ht.trys.pop();continue;default:if(st=Ht.trys,!((st=st.length>0&&st[st.length-1])||ne[0]!==6&&ne[0]!==2)){Ht=0;continue}if(ne[0]===3&&(!st||ne[1]>st[0]&&ne[1]<st[3])){Ht.label=ne[1];break}if(ne[0]===6&&Ht.label<st[1]){Ht.label=st[1],st=ne;break}if(st&&Ht.label<st[2]){Ht.label=st[2],Ht.ops.push(ne);break}st[2]&&Ht.ops.pop(),Ht.trys.pop();continue}ne=B.call(Z,Ht)}catch(je){ne=[6,je],G=0}finally{P=st=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ye,Me])}}}var a=function(){function Z(B){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,B){for(var P in B.charAt(0)=="#"&&(B=B.substr(1,6)),B=(B=B.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)B==P&&(B=this.simpleColors[P]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Me){return[parseInt(Me[1]),parseInt(Me[2]),parseInt(Me[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Me){return[parseInt(Me[1],16),parseInt(Me[2],16),parseInt(Me[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Me){return[parseInt(Me[1]+Me[1],16),parseInt(Me[2]+Me[2],16),parseInt(Me[3]+Me[3],16)]}}];for(var G=0;G<this.colorDefs.length;G++){var st=this.colorDefs[G].re,Lt=this.colorDefs[G].process,Ht=st.exec(B);if(Ht){var Xt=Lt(Ht);this.r=Xt[0],this.g=Xt[1],this.b=Xt[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return Z.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},Z.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},Z.prototype.toHex=function(){var B=this.r.toString(16),P=this.g.toString(16),G=this.b.toString(16);return B.length==1&&(B="0"+B),P.length==1&&(P="0"+P),G.length==1&&(G="0"+G),"#"+B+P+G},Z.prototype.getHelpXML=function(){for(var B=[],P=0;P<this.colorDefs.length;P++)for(var G=this.colorDefs[P].example,st=0;st<G.length;st++)B[B.length]=G[st];for(var Lt in this.simpleColors)B[B.length]=Lt;var Ht=document.createElement("ul");for(Ht.setAttribute("id","rgbcolor-examples"),P=0;P<B.length;P++)try{var Xt=document.createElement("li"),ye=new Z(B[P]),Me=document.createElement("div");Me.style.cssText="margin: 3px; border: 1px solid black; background:"+ye.toHex()+"; color:"+ye.toHex(),Me.appendChild(document.createTextNode("test"));var ne=document.createTextNode(" "+B[P]+" -> "+ye.toRGB()+" -> "+ye.toHex());Xt.appendChild(Me),Xt.appendChild(ne),Ht.appendChild(Xt)}catch(je){}return Ht},Z}(),l=function(){function Z(B){this.color=B}return Z.prototype.getFillData=function(B,P){return n(this,void 0,void 0,function(){return t(this,function(G){return[2,void 0]})})},Z}(),i=function(){function Z(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return Z.prototype.clone=function(){var B=new Z;return B.xmlSpace=this.xmlSpace,B.fill=this.fill,B.fillOpacity=this.fillOpacity,B.fontFamily=this.fontFamily,B.fontSize=this.fontSize,B.fontStyle=this.fontStyle,B.fontWeight=this.fontWeight,B.opacity=this.opacity,B.stroke=this.stroke,B.strokeDasharray=this.strokeDasharray,B.strokeDashoffset=this.strokeDashoffset,B.strokeLinecap=this.strokeLinecap,B.strokeLinejoin=this.strokeLinejoin,B.strokeMiterlimit=this.strokeMiterlimit,B.strokeOpacity=this.strokeOpacity,B.strokeWidth=this.strokeWidth,B.textAnchor=this.textAnchor,B.alignmentBaseline=this.alignmentBaseline,B.visibility=this.visibility,B.color=this.color,B},Z.default=function(){var B=new Z;return B.xmlSpace="default",B.fill=new l(new a("rgb(0, 0, 0)")),B.fillOpacity=1,B.fontFamily="times",B.fontSize=16,B.fontStyle="normal",B.fontWeight="normal",B.opacity=1,B.stroke=null,B.strokeDasharray=null,B.strokeDashoffset=0,B.strokeLinecap="butt",B.strokeLinejoin="miter",B.strokeMiterlimit=4,B.strokeOpacity=1,B.strokeWidth=1,B.alignmentBaseline="baseline",B.textAnchor="start",B.visibility="visible",B.color=new a("rgb(0, 0, 0)"),B},Z}(),f=/url\(["']?#([^"']+)["']?\)/,p={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},m=function(){function Z(){this.measureMethods={}}return Z.prototype.getTextOffset=function(B,P){var G=P.textAnchor;if(G==="start")return 0;var st=this.measureTextWidth(B,P),Lt=0;switch(G){case"end":Lt=st;break;case"middle":Lt=st/2}return Lt},Z.prototype.measureTextWidth=function(B,P){if(B.length===0)return 0;var G=P.fontFamily;return this.getMeasureFunction(G).call(this,B,P.fontFamily,P.fontSize+"px",P.fontStyle,P.fontWeight)},Z.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.appendChild(this.textMeasuringTextElement),B.style.setProperty("position","absolute"),B.style.setProperty("visibility","hidden"),document.body.appendChild(B)}return this.textMeasuringTextElement},Z.prototype.canvasTextMeasure=function(B,P,G,st,Lt){var Ht=document.createElement("canvas").getContext("2d");return Ht!=null?(Ht.font=[st,Lt,G,P].join(" "),Ht.measureText(B).width):0},Z.prototype.svgTextMeasure=function(B,P,G,st,Lt,Ht){Ht===void 0&&(Ht=this.getMeasurementTextNode());var Xt=Ht;return Xt.setAttribute("font-family",P),Xt.setAttribute("font-size",G),Xt.setAttribute("font-style",st),Xt.setAttribute("font-weight",Lt),Xt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Xt.textContent=B,Xt.getBBox().width},Z.prototype.getMeasureFunction=function(B){var P=this.measureMethods[B];if(!P){var G=this.canvasTextMeasure(Z.testString,B,"16px","normal","normal"),st=this.svgTextMeasure(Z.testString,B,"16px","normal","normal");P=Math.abs(G-st)<Z.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[B]=P}return P},Z.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var B=this.textMeasuringTextElement.parentNode;B&&document.body.removeChild(B),this.textMeasuringTextElement=void 0}},Z.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,Z.epsilon=.1,Z}(),x=function(){function Z(B,P){var G,st,Lt,Ht,Xt,ye;this.pdf=B,this.svg2pdfParameters=P.svg2pdfParameters,this.attributeState=P.attributeState?P.attributeState.clone():i.default(),this.viewport=P.viewport,this.refsHandler=(G=P.refsHandler)!==null&&G!==void 0?G:null,this.styleSheets=(st=P.styleSheets)!==null&&st!==void 0?st:null,this.textMeasure=(Lt=P.textMeasure)!==null&&Lt!==void 0?Lt:new m,this.transform=(Ht=P.transform)!==null&&Ht!==void 0?Ht:this.pdf.unitMatrix,this.withinClipPath=(Xt=P.withinClipPath)!==null&&Xt!==void 0&&Xt,this.withinUse=(ye=P.withinUse)!==null&&ye!==void 0&&ye}return Z.prototype.clone=function(B){var P,G,st,Lt,Ht,Xt,ye,Me;return B===void 0&&(B={}),new Z(this.pdf,{svg2pdfParameters:(P=B.svg2pdfParameters)!==null&&P!==void 0?P:this.svg2pdfParameters,attributeState:B.attributeState?B.attributeState.clone():this.attributeState.clone(),viewport:(G=B.viewport)!==null&&G!==void 0?G:this.viewport,refsHandler:(st=B.refsHandler)!==null&&st!==void 0?st:this.refsHandler,styleSheets:(Lt=B.styleSheets)!==null&&Lt!==void 0?Lt:this.styleSheets,textMeasure:(Ht=B.textMeasure)!==null&&Ht!==void 0?Ht:this.textMeasure,transform:(Xt=B.transform)!==null&&Xt!==void 0?Xt:this.transform,withinClipPath:(ye=B.withinClipPath)!==null&&ye!==void 0?ye:this.withinClipPath,withinUse:(Me=B.withinUse)!==null&&Me!==void 0?Me:this.withinUse})},Z}(),M=function(){function Z(B){this.renderedElements={},this.idMap=B,this.idPrefix=String(Z.instanceCounter++)}return Z.prototype.getRendered=function(B,P,G){return n(this,void 0,void 0,function(){var st,Lt;return t(this,function(Ht){switch(Ht.label){case 0:return st=this.generateKey(B,P),this.renderedElements.hasOwnProperty(st)?[2,this.renderedElements[B]]:(Lt=this.get(B),this.renderedElements[st]=Lt,[4,G(Lt)]);case 1:return Ht.sent(),[2,Lt]}})})},Z.prototype.get=function(B){return this.idMap[O()(B,{isIdentifier:!0})]},Z.prototype.generateKey=function(B,P){return this.idPrefix+"|"+B+"|"+(P||new a("rgb(0,0,0)")).toRGBA()},Z.instanceCounter=0,Z}();function Y(Z,B){return Math.atan2(B[1]-Z[1],B[0]-Z[0])}function nt(Z,B){return[2/3*(B[0]-Z[0])+Z[0],2/3*(B[1]-Z[1])+Z[1]]}function xt(Z){var B=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]);return[Z[0]/B,Z[1]/B]}function Dt(Z,B){return xt([B[0]-Z[0],B[1]-Z[1]])}function Ut(Z,B){return[Z[0]+B[0],Z[1]+B[1]]}function fe(Z,B){var P=Z[0],G=Z[1];return[B.a*P+B.c*G+B.e,B.b*P+B.d*G+B.f]}var Oe=function(){function Z(){this.segments=[]}return Z.prototype.moveTo=function(B,P){return this.segments.push(new _t(B,P)),this},Z.prototype.lineTo=function(B,P){return this.segments.push(new Vt(B,P)),this},Z.prototype.curveTo=function(B,P,G,st,Lt,Ht){return this.segments.push(new J(B,P,G,st,Lt,Ht)),this},Z.prototype.close=function(){return this.segments.push(new be),this},Z.prototype.transform=function(B){this.segments.forEach(function(P){if(P instanceof _t||P instanceof Vt||P instanceof J){var G=fe([P.x,P.y],B);P.x=G[0],P.y=G[1]}if(P instanceof J){var st=fe([P.x1,P.y1],B),Lt=fe([P.x2,P.y2],B);P.x1=st[0],P.y1=st[1],P.x2=Lt[0],P.y2=Lt[1]}})},Z.prototype.draw=function(B){var P=B.pdf;this.segments.forEach(function(G){G instanceof _t?P.moveTo(G.x,G.y):G instanceof Vt?P.lineTo(G.x,G.y):G instanceof J?P.curveTo(G.x1,G.y1,G.x2,G.y2,G.x,G.y):P.close()})},Z}(),_t=function(B,P){this.x=B,this.y=P},Vt=function(B,P){this.x=B,this.y=P},J=function(B,P,G,st,Lt,Ht){this.x1=B,this.y1=P,this.x2=G,this.y2=st,this.x=Lt,this.y=Ht},be=function(){};function Qe(Z,B){return B.split(",").indexOf((Z.nodeName||Z.tagName).toLowerCase())>=0}function W(Z,B,P,G){G===void 0&&(G=P);var st=Z.style.getPropertyValue(G);if(st)return st;var Lt=B.getPropertyValue(Z,G);return Lt||Z.hasAttribute(P)&&Z.getAttribute(P)||void 0}function At(Z,B,P){if(W(Z.element,P.styleSheets,"display")==="none")return!1;var G=B,st=W(Z.element,P.styleSheets,"visibility");return st&&(G=st!=="hidden"),G}function V(Z,B,P){var G=At(Z,B,P);return Z.element.childNodes.length!==0&&(Z.children.forEach(function(st){st.isVisible(G,P)&&(G=!0)}),G)}var it=function(){function Z(){this.markers=[]}return Z.prototype.addMarker=function(B){this.markers.push(B)},Z.prototype.draw=function(B){return n(this,void 0,void 0,function(){var P,G,st,Lt,Ht,Xt,ye;return t(this,function(Me){switch(Me.label){case 0:P=0,Me.label=1;case 1:return P<this.markers.length?(G=this.markers[P],st=void 0,Lt=G.angle,Ht=G.anchor,Xt=Math.cos(Lt),ye=Math.sin(Lt),st=B.pdf.Matrix(Xt,ye,-ye,Xt,Ht[0],Ht[1]),st=B.pdf.matrixMult(B.pdf.Matrix(B.attributeState.strokeWidth,0,0,B.attributeState.strokeWidth,0,0),st),st=B.pdf.matrixMult(st,B.transform),B.pdf.saveGraphicsState(),[4,B.refsHandler.getRendered(G.id,null,function(ne){return ne.apply(B)})]):[3,4];case 2:Me.sent(),B.pdf.doFormObject(G.id,st),B.pdf.restoreGraphicsState(),Me.label=3;case 3:return P++,[3,1];case 4:return[2]}})})},Z}(),et=function(B,P,G){this.id=B,this.anchor=P,this.angle=G};function F(Z,B){var P;return(P=Z&&Z.toString().match(/^([\-0-9.]+)em$/))?parseFloat(P[1])*B:(P=Z&&Z.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(P[1]):0}function K(Z){return p[Z]||"alphabetic"}function ht(Z){for(var B,P=[],G=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;B=G.exec(Z);)P.push(parseFloat(B[0]));return P}function dt(Z,B){if(Z==="transparent"){var P=new a("rgb(0,0,0)");return P.a=0,P}if(Z.toLowerCase()==="currentcolor")return B||new a("rgb(0,0,0)");var G=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(Z);if(G){var st=ht(G[1]),Lt=new a("rgb("+st.slice(0,3).join(",")+")");return Lt.a=st[3],Lt}return new a(Z)}var Wt={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},Tt,jt=(Tt=ft.d.version.split("."),parseFloat(Tt[0])===2&&parseFloat(Tt[1])===3);function ce(Z,B){return jt?B==400?Z=="italic"?"italic":"normal":B==700&&Z!=="italic"?"bold":Z+""+B:B==400||B==="normal"?Z==="italic"?"italic":"normal":B!=700&&B!=="bold"||Z!=="normal"?(B==700?"bold":B)+""+Z:"bold"}function ve(Z,B){if(W(B.element,Z.styleSheets,"display")==="none")return[0,0,0,0];var P=[0,0,0,0];return B.children.forEach(function(G){var st=G.getBoundingBox(Z);P=[Math.min(P[0],st[0]),Math.min(P[1],st[1]),Math.max(P[0]+P[2],st[0]+st[2])-Math.min(P[0],st[0]),Math.max(P[1]+P[3],st[1]+st[3])-Math.min(P[1],st[1])]}),P}function re(Z,B){var P=parseFloat,G=P(Z.getAttribute("x1"))||P(W(Z,B.styleSheets,"x"))||P(W(Z,B.styleSheets,"cx"))-P(W(Z,B.styleSheets,"r"))||0,st=P(Z.getAttribute("x2"))||G+P(W(Z,B.styleSheets,"width"))||P(W(Z,B.styleSheets,"cx"))+P(W(Z,B.styleSheets,"r"))||0,Lt=P(Z.getAttribute("y1"))||P(W(Z,B.styleSheets,"y"))||P(W(Z,B.styleSheets,"cy"))-P(W(Z,B.styleSheets,"r"))||0,Ht=P(Z.getAttribute("y2"))||Lt+P(W(Z,B.styleSheets,"height"))||P(W(Z,B.styleSheets,"cy"))+P(W(Z,B.styleSheets,"r"))||0;return[Math.min(G,st),Math.min(Lt,Ht),Math.max(G,st)-Math.min(G,st),Math.max(Lt,Ht)-Math.min(Lt,Ht)]}function Yt(Z,B,P,G,st,Lt,Ht,Xt){Xt===void 0&&(Xt=!1);var ye,Me,ne=B[0],je=B[1],jr=B[2],Rt=B[3],Q=st/jr,rt=Lt/Rt,Et=Z.getAttribute("preserveAspectRatio");if(Et){var Jt=Et.split(" ");Jt[0]==="defer"&&(Jt=Jt.slice(1)),ye=Jt[0],Me=Jt[1]||"meet"}else ye="xMidYMid",Me="meet";if(ye!=="none"&&(Me==="meet"?Q=rt=Math.min(Q,rt):Me==="slice"&&(Q=rt=Math.max(Q,rt))),Xt)return Ht.pdf.Matrix(Q,0,0,rt,0,0);var pe=P-ne*Q,Ue=G-je*rt;ye.indexOf("xMid")>=0?pe+=(st-jr*Q)/2:ye.indexOf("xMax")>=0&&(pe+=st-jr*Q),ye.indexOf("YMid")>=0?Ue+=(Lt-Rt*rt)/2:ye.indexOf("YMax")>=0&&(Ue+=Lt-Rt*rt);var rr=Ht.pdf.Matrix(1,0,0,1,pe,Ue),nr=Ht.pdf.Matrix(Q,0,0,rt,0,0);return Ht.pdf.matrixMult(nr,rr)}function de(Z,B){if(!Z||Z==="none")return B.pdf.unitMatrix;for(var P,G,st=/^[\s,]*matrix\(([^)]+)\)\s*/,Lt=/^[\s,]*translate\(([^)]+)\)\s*/,Ht=/^[\s,]*rotate\(([^)]+)\)\s*/,Xt=/^[\s,]*scale\(([^)]+)\)\s*/,ye=/^[\s,]*skewX\(([^)]+)\)\s*/,Me=/^[\s,]*skewY\(([^)]+)\)\s*/,ne=B.pdf.unitMatrix;Z.length>0&&Z.length!==G;){G=Z.length;var je=st.exec(Z);if(je&&(P=ht(je[1]),ne=B.pdf.matrixMult(B.pdf.Matrix(P[0],P[1],P[2],P[3],P[4],P[5]),ne),Z=Z.substr(je[0].length)),je=Ht.exec(Z)){P=ht(je[1]);var jr=Math.PI*P[0]/180;if(ne=B.pdf.matrixMult(B.pdf.Matrix(Math.cos(jr),Math.sin(jr),-Math.sin(jr),Math.cos(jr),0,0),ne),P[1]||P[2]){var Rt=B.pdf.Matrix(1,0,0,1,P[1],P[2]),Q=B.pdf.Matrix(1,0,0,1,-P[1],-P[2]);ne=B.pdf.matrixMult(Q,B.pdf.matrixMult(ne,Rt))}Z=Z.substr(je[0].length)}(je=Lt.exec(Z))&&(P=ht(je[1]),ne=B.pdf.matrixMult(B.pdf.Matrix(1,0,0,1,P[0],P[1]||0),ne),Z=Z.substr(je[0].length)),(je=Xt.exec(Z))&&((P=ht(je[1]))[1]||(P[1]=P[0]),ne=B.pdf.matrixMult(B.pdf.Matrix(P[0],0,0,P[1],0,0),ne),Z=Z.substr(je[0].length)),(je=ye.exec(Z))&&(P=parseFloat(je[1]),P*=Math.PI/180,ne=B.pdf.matrixMult(B.pdf.Matrix(1,0,Math.tan(P),1,0,0),ne),Z=Z.substr(je[0].length)),(je=Me.exec(Z))&&(P=parseFloat(je[1]),P*=Math.PI/180,ne=B.pdf.matrixMult(B.pdf.Matrix(1,Math.tan(P),0,1,0,0),ne),Z=Z.substr(je[0].length))}return ne}var N=function(){function Z(B,P){this.element=B,this.children=P,this.parent=null}return Z.prototype.setParent=function(B){this.parent=B},Z.prototype.getParent=function(){return this.parent},Z.prototype.getBoundingBox=function(B){return W(this.element,B.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(B)},Z.prototype.computeNodeTransform=function(B){var P=this.computeNodeTransformCore(B),G=W(this.element,B.styleSheets,"transform");return G?B.pdf.matrixMult(P,de(G,B)):P},Z}(),Bt=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.render=function(P){return Promise.resolve()},B.prototype.getBoundingBoxCore=function(P){return[]},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B}(N),U=function(Z){function B(P,G,st){var Lt=Z.call(this,G,st)||this;return Lt.pdfGradientType=P,Lt.contextColor=void 0,Lt}return o(B,Z),B.prototype.apply=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt,ye;return t(this,function(Me){return(G=this.element.getAttribute("id"))?(st=this.getStops(P.styleSheets),Lt=0,Ht=!1,st.forEach(function(ne){var je=ne.opacity;je&&je!==1&&(Lt+=je,Ht=!0)}),Ht&&(Xt=new ft.a({opacity:Lt/st.length})),ye=new ft.b(this.pdfGradientType,this.getCoordinates(),st,Xt),P.pdf.addShadingPattern(G,ye),[2]):[2]})})},B.prototype.getStops=function(P){var G=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var st=this;st;){var Lt=W(st.element,P,"color");if(Lt){this.contextColor=dt(Lt,null);break}st=st.getParent()}}var Ht=[];return this.children.forEach(function(Xt){if(Xt.element.tagName.toLowerCase()==="stop"){var ye=W(Xt.element,P,"color"),Me=dt(W(Xt.element,P,"stop-color")||"",ye?dt(ye,null):G.contextColor),ne=parseFloat(W(Xt.element,P,"stop-opacity")||"1");Ht.push({offset:B.parseGradientOffset(Xt.element.getAttribute("offset")||"0"),color:[Me.r,Me.g,Me.b],opacity:ne})}}),this.stops=Ht},B.prototype.getBoundingBoxCore=function(P){return re(this.element,P)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return V(this,P,G)},B.parseGradientOffset=function(P){var G=parseFloat(P);return!isNaN(G)&&P.indexOf("%")>=0?G/100:G},B}(Bt),C=function(Z){function B(P,G){return Z.call(this,"axial",P,G)||this}return o(B,Z),B.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},B}(U),A=function(Z){function B(P,G){return Z.call(this,"radial",P,G)||this}return o(B,Z),B.prototype.getCoordinates=function(){var P=this.element.getAttribute("cx"),G=this.element.getAttribute("cy"),st=this.element.getAttribute("fx"),Lt=this.element.getAttribute("fy");return[parseFloat(st||P||"0.5"),parseFloat(Lt||G||"0.5"),0,parseFloat(P||"0.5"),parseFloat(G||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},B}(U),q=function(){function Z(B,P){this.key=B,this.gradient=P}return Z.prototype.getFillData=function(B,P){return n(this,void 0,void 0,function(){var G,st,Lt;return t(this,function(Ht){switch(Ht.label){case 0:return[4,P.refsHandler.getRendered(this.key,null,function(Xt){return Xt.apply(new x(P.pdf,{refsHandler:P.refsHandler,textMeasure:P.textMeasure,styleSheets:P.styleSheets,viewport:P.viewport,svg2pdfParameters:P.svg2pdfParameters}))})];case 1:return Ht.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?G=P.pdf.unitMatrix:(st=B.getBoundingBox(P),G=P.pdf.Matrix(st[2],0,0,st[3],st[0],st[1])),Lt=de(W(this.gradient.element,P.styleSheets,"gradientTransform","transform"),P),[2,{key:this.key,matrix:P.pdf.matrixMult(Lt,G)}]}})})},Z}(),at=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.apply=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt;return t(this,function(ye){switch(ye.label){case 0:if(!(G=this.element.getAttribute("id")))return[2];st=this.getBoundingBox(P),Lt=new ft.c([st[0],st[1],st[0]+st[2],st[1]+st[3]],st[2],st[3]),P.pdf.beginTilingPattern(Lt),Ht=0,Xt=this.children,ye.label=1;case 1:return Ht<Xt.length?[4,Xt[Ht].render(new x(P.pdf,{attributeState:P.attributeState,refsHandler:P.refsHandler,styleSheets:P.styleSheets,viewport:P.viewport,svg2pdfParameters:P.svg2pdfParameters}))]:[3,4];case 2:ye.sent(),ye.label=3;case 3:return Ht++,[3,1];case 4:return P.pdf.endTilingPattern(G,Lt),[2]}})})},B.prototype.getBoundingBoxCore=function(P){return re(this.element,P)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return V(this,P,G)},B}(Bt),Ot=function(){function Z(B,P){this.key=B,this.pattern=P}return Z.prototype.getFillData=function(B,P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt,ye,Me,ne,je,jr,Rt,Q;return t(this,function(rt){switch(rt.label){case 0:return[4,P.refsHandler.getRendered(this.key,null,function(Et){return Et.apply(new x(P.pdf,{refsHandler:P.refsHandler,textMeasure:P.textMeasure,styleSheets:P.styleSheets,viewport:P.viewport,svg2pdfParameters:P.svg2pdfParameters}))})];case 1:return rt.sent(),G={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},Lt=P.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(st=B.getBoundingBox(P),Lt=P.pdf.Matrix(1,0,0,1,st[0],st[1]),Xt=this.pattern.getBoundingBox(P),ye=Xt[0]*st[0]||0,Me=Xt[1]*st[1]||0,ne=Xt[2]*st[2]||0,je=Xt[3]*st[3]||0,G.boundingBox=[ye,Me,ye+ne,Me+je],G.xStep=ne,G.yStep=je),Ht=P.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(st||(st=B.getBoundingBox(P)),Ht=P.pdf.Matrix(st[2],0,0,st[3],0,0),Xt=G.boundingBox||this.pattern.getBoundingBox(P),ye=Xt[0]/st[0]||0,Me=Xt[1]/st[1]||0,ne=Xt[2]/st[2]||0,je=Xt[3]/st[3]||0,G.boundingBox=[ye,Me,ye+ne,Me+je],G.xStep=ne,G.yStep=je),jr=P.pdf.unitMatrix,(Rt=W(this.pattern.element,P.styleSheets,"patternTransform","transform"))&&(jr=de(Rt,P)),Q=Ht,Q=P.pdf.matrixMult(Q,Lt),Q=P.pdf.matrixMult(Q,jr),Q=P.pdf.matrixMult(Q,P.transform),G.matrix=Q,[2,G]}})})},Z}();function St(Z,B){var P=f.exec(Z);if(P){var G=P[1],st=B.refsHandler.get(G);return st&&(st instanceof C||st instanceof A)?function(Ht,Xt,ye){var Me=Xt.getStops(ye.styleSheets);if(Me.length===0)return null;if(Me.length===1){var ne=Me[0].color,je=new a;return je.ok=!0,je.r=ne[0],je.g=ne[1],je.b=ne[2],je.a=Me[0].opacity,new l(je)}return new q(Ht,Xt)}(G,st,B):st&&st instanceof at?new Ot(G,st):new l(new a("rgb(0, 0, 0)"))}var Lt=dt(Z,B.attributeState.color);return Lt.ok?new l(Lt):null}function xe(Z,B,P){var G=P||B.element,st=W(G,Z.styleSheets,"color");if(st){var Lt=dt(st,Z.attributeState.color);Lt.ok?Z.attributeState.color=Lt:Z.attributeState.color=new a("rgb(0,0,0)")}var Ht=W(G,Z.styleSheets,"visibility");Ht&&(Z.attributeState.visibility=Ht);var Xt=W(G,Z.styleSheets,"fill");Xt&&(Z.attributeState.fill=St(Xt,Z));var ye=W(G,Z.styleSheets,"fill-opacity");ye&&(Z.attributeState.fillOpacity=parseFloat(ye));var Me=W(G,Z.styleSheets,"stroke-opacity");Me&&(Z.attributeState.strokeOpacity=parseFloat(Me));var ne=W(G,Z.styleSheets,"opacity");ne&&(Z.attributeState.opacity=parseFloat(ne));var je=W(G,Z.styleSheets,"stroke-width");je!==void 0&&je!==""&&(Z.attributeState.strokeWidth=Math.abs(parseFloat(je)));var jr=W(G,Z.styleSheets,"stroke");if(jr)if(jr==="none")Z.attributeState.stroke=null;else{var Rt=dt(jr,Z.attributeState.color);Rt.ok&&(Z.attributeState.stroke=new l(Rt))}var Q=W(G,Z.styleSheets,"stroke-linecap");Q&&(Z.attributeState.strokeLinecap=Q);var rt=W(G,Z.styleSheets,"stroke-linejoin");rt&&(Z.attributeState.strokeLinejoin=rt);var Et=W(G,Z.styleSheets,"stroke-dasharray");if(Et){var Jt=parseInt(W(G,Z.styleSheets,"stroke-dashoffset")||"0");Z.attributeState.strokeDasharray=ht(Et),Z.attributeState.strokeDashoffset=Jt}var pe=W(G,Z.styleSheets,"stroke-miterlimit");pe!==void 0&&pe!==""&&(Z.attributeState.strokeMiterlimit=parseFloat(pe));var Ue=G.getAttribute("xml:space");Ue&&(Z.attributeState.xmlSpace=Ue);var rr=W(G,Z.styleSheets,"font-weight");rr&&(Z.attributeState.fontWeight=rr);var nr=W(G,Z.styleSheets,"font-style");nr&&(Z.attributeState.fontStyle=nr);var He=W(G,Z.styleSheets,"font-family");if(He){var Sr=pt.a.parse(He);Z.attributeState.fontFamily=function(tn,yn,Yn){var Fn=ce(tn.fontStyle,tn.fontWeight),k=Yn.pdf.getFontList(),g="";return yn.some(function(y){var w=k[y];return w&&w.indexOf(Fn)>=0?(g=y,!0):(y=y.toLowerCase(),!!Wt.hasOwnProperty(y)&&(g=y,!0))})||(g="times"),g}(Z.attributeState,Sr,Z)}var yr=W(G,Z.styleSheets,"font-size");if(yr){var ln=Z.pdf.getFontSize();Z.attributeState.fontSize=F(yr,ln)}var Qr=W(G,Z.styleSheets,"vertical-align")||W(G,Z.styleSheets,"alignment-baseline");if(Qr){var Br=Qr.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);Br&&(Z.attributeState.alignmentBaseline=Br[0])}var xn=W(G,Z.styleSheets,"text-anchor");xn&&(Z.attributeState.textAnchor=xn)}function Ne(Z,B,P){var G=1,st=1;G*=Z.attributeState.fillOpacity,G*=Z.attributeState.opacity,Z.attributeState.fill instanceof l&&Z.attributeState.fill.color.a!==void 0&&(G*=Z.attributeState.fill.color.a),st*=Z.attributeState.strokeOpacity,st*=Z.attributeState.opacity,Z.attributeState.stroke instanceof l&&Z.attributeState.stroke.color.a!==void 0&&(st*=Z.attributeState.stroke.color.a);var Lt,Ht,Xt=G<1,ye=st<1;if(Qe(P,"use")?(Xt=!0,ye=!0,G*=Z.attributeState.fill?1:0,st*=Z.attributeState.stroke?1:0):Z.withinUse&&(Z.attributeState.fill!==B.attributeState.fill?(Xt=!0,G*=Z.attributeState.fill?1:0):Xt&&!Z.attributeState.fill&&(G=0),Z.attributeState.stroke!==B.attributeState.stroke?(ye=!0,st*=Z.attributeState.stroke?1:0):ye&&!Z.attributeState.stroke&&(st=0)),Xt||ye){var Me={};Xt&&(Me.opacity=G),ye&&(Me["stroke-opacity"]=st),Z.pdf.setGState(new ft.a(Me))}if(Z.attributeState.fill&&Z.attributeState.fill!==B.attributeState.fill&&Z.attributeState.fill instanceof l&&Z.attributeState.fill.color.ok&&!Qe(P,"text")&&Z.pdf.setFillColor(Z.attributeState.fill.color.r,Z.attributeState.fill.color.g,Z.attributeState.fill.color.b),Z.attributeState.strokeWidth!==B.attributeState.strokeWidth&&Z.pdf.setLineWidth(Z.attributeState.strokeWidth),Z.attributeState.stroke!==B.attributeState.stroke&&Z.attributeState.stroke instanceof l&&Z.pdf.setDrawColor(Z.attributeState.stroke.color.r,Z.attributeState.stroke.color.g,Z.attributeState.stroke.color.b),Z.attributeState.strokeLinecap!==B.attributeState.strokeLinecap&&Z.pdf.setLineCap(Z.attributeState.strokeLinecap),Z.attributeState.strokeLinejoin!==B.attributeState.strokeLinejoin&&Z.pdf.setLineJoin(Z.attributeState.strokeLinejoin),Z.attributeState.strokeDasharray===B.attributeState.strokeDasharray&&Z.attributeState.strokeDashoffset===B.attributeState.strokeDashoffset||!Z.attributeState.strokeDasharray||Z.pdf.setLineDashPattern(Z.attributeState.strokeDasharray,Z.attributeState.strokeDashoffset),Z.attributeState.strokeMiterlimit!==B.attributeState.strokeMiterlimit&&Z.pdf.setLineMiterLimit(Z.attributeState.strokeMiterlimit),Z.attributeState.fontFamily!==B.attributeState.fontFamily&&(Lt=Wt.hasOwnProperty(Z.attributeState.fontFamily)?Wt[Z.attributeState.fontFamily]:Z.attributeState.fontFamily),Z.attributeState.fill&&Z.attributeState.fill!==B.attributeState.fill&&Z.attributeState.fill instanceof l&&Z.attributeState.fill.color.ok){var ne=Z.attributeState.fill.color;Z.pdf.setTextColor(ne.r,ne.g,ne.b)}Z.attributeState.fontWeight===B.attributeState.fontWeight&&Z.attributeState.fontStyle===B.attributeState.fontStyle||(Ht=ce(Z.attributeState.fontStyle,Z.attributeState.fontWeight)),Lt===void 0&&Ht===void 0||(Lt===void 0&&(Lt=Wt.hasOwnProperty(Z.attributeState.fontFamily)?Wt[Z.attributeState.fontFamily]:Z.attributeState.fontFamily),Z.pdf.setFont(Lt,Ht)),Z.attributeState.fontSize!==B.attributeState.fontSize&&Z.pdf.setFontSize(Z.attributeState.fontSize*Z.pdf.internal.scaleFactor)}function we(Z,B,P){var G=f.exec(Z);if(G){var st=G[1];return P.refsHandler.get(st)||void 0}}function Ke(Z,B,P){return n(this,void 0,void 0,function(){var G,st;return t(this,function(Lt){switch(Lt.label){case 0:return G=P.clone(),B.element.hasAttribute("clipPathUnits")&&B.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(st=Z.getBoundingBox(P),G.transform=P.pdf.matrixMult(P.pdf.Matrix(st[2],0,0,st[3],st[0],st[1]),P.transform)),[4,B.apply(G)];case 1:return Lt.sent(),[2]}})})}var xr=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.render=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht;return t(this,function(Xt){switch(Xt.label){case 0:return this.isVisible(P.attributeState.visibility!=="hidden",P)?((G=P.clone()).transform=G.pdf.matrixMult(this.computeNodeTransform(G),P.transform),xe(G,this),st=W(this.element,G.styleSheets,"clip-path"),(Lt=st&&st!=="none")?(Ht=we(st,0,G))?Ht.isVisible(!0,G)?(G.pdf.saveGraphicsState(),[4,Ke(this,Ht,G)]):[3,2]:[3,4]:[3,5]):[2];case 1:return Xt.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:Lt=!1,Xt.label=5;case 5:return G.withinClipPath||G.pdf.saveGraphicsState(),Ne(G,P,this.element),[4,this.renderCore(G)];case 6:return Xt.sent(),G.withinClipPath||G.pdf.restoreGraphicsState(),Lt&&G.pdf.restoreGraphicsState(),[2]}})})},B}(N),Or=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B}(xr),Jr=function(Z){function B(P,G,st){var Lt=Z.call(this,G,st)||this;return Lt.cachedPath=null,Lt.hasMarkers=P,Lt}return o(B,Z),B.prototype.renderCore=function(P){return n(this,void 0,void 0,function(){var G;return t(this,function(st){switch(st.label){case 0:return(G=this.getCachedPath(P))===null||G.segments.length===0?[2]:(P.withinClipPath?G.transform(P.transform):P.pdf.setCurrentTransformationMatrix(P.transform),G.draw(P),[4,this.fillOrStroke(P)]);case 1:return st.sent(),this.hasMarkers?[4,this.drawMarkers(P,G)]:[3,3];case 2:st.sent(),st.label=3;case 3:return[2]}})})},B.prototype.getCachedPath=function(P){return this.cachedPath||(this.cachedPath=this.getPath(P))},B.prototype.drawMarkers=function(P,G){return n(this,void 0,void 0,function(){return t(this,function(st){switch(st.label){case 0:return[4,this.getMarkers(G,P).draw(P.clone({transform:P.pdf.unitMatrix}))];case 1:return st.sent(),[2]}})})},B.prototype.fillOrStroke=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt;return t(this,function(ye){switch(ye.label){case 0:return P.withinClipPath?[2]:(G=P.attributeState.fill,st=P.attributeState.stroke&&P.attributeState.strokeWidth!==0,G?[4,G.getFillData(this,P)]:[3,2]);case 1:return Ht=ye.sent(),[3,3];case 2:Ht=void 0,ye.label=3;case 3:return Lt=Ht,Xt=W(this.element,P.styleSheets,"fill-rule")==="evenodd",G&&st||P.withinUse?Xt?P.pdf.fillStrokeEvenOdd(Lt):P.pdf.fillStroke(Lt):G?Xt?P.pdf.fillEvenOdd(Lt):P.pdf.fill(Lt):st?P.pdf.stroke():P.pdf.discardPath(),[2]}})})},B.prototype.getBoundingBoxCore=function(P){var G=this.getCachedPath(P);if(!G)return[0,0,0,0];for(var st=Number.POSITIVE_INFINITY,Lt=Number.POSITIVE_INFINITY,Ht=Number.NEGATIVE_INFINITY,Xt=Number.NEGATIVE_INFINITY,ye=0,Me=0,ne=0;ne<G.segments.length;ne++){var je=G.segments[ne];(je instanceof _t||je instanceof Vt||je instanceof J)&&(ye=je.x,Me=je.y),je instanceof J?(st=Math.min(st,ye,je.x1,je.x2,je.x),Ht=Math.max(Ht,ye,je.x1,je.x2,je.x),Lt=Math.min(Lt,Me,je.y1,je.y2,je.y),Xt=Math.max(Xt,Me,je.y1,je.y2,je.y)):(st=Math.min(st,ye),Ht=Math.max(Ht,ye),Lt=Math.min(Lt,Me),Xt=Math.max(Xt,Me))}return[st,Lt,Ht-st,Xt-Lt]},B.prototype.getMarkers=function(P,G){var st=W(this.element,G.styleSheets,"marker-start"),Lt=W(this.element,G.styleSheets,"marker-mid"),Ht=W(this.element,G.styleSheets,"marker-end"),Xt=new it;if(st||Lt||Ht){Ht&&(Ht=fn(Ht)),st&&(st=fn(st)),Lt&&(Lt=fn(Lt));for(var ye=P.segments,Me=[1,0],ne=void 0,je=!1,jr=[1,0],Rt=!1,Q=function(Jt){var pe=ye[Jt],Ue=st&&(Jt===1||!(ye[Jt]instanceof _t)&&ye[Jt-1]instanceof _t);Ue&&ye.forEach(function(ln,Qr){if(!Rt&&ln instanceof be&&Qr>Jt){var Br=ye[Qr-1];Rt=(Br instanceof _t||Br instanceof Vt||Br instanceof J)&&Br}});var rr=Ht&&(Jt===ye.length-1||!(ye[Jt]instanceof _t)&&ye[Jt+1]instanceof _t),nr=Lt&&Jt>0&&!(Jt===1&&ye[Jt-1]instanceof _t),He=ye[Jt-1]||null;if(He instanceof _t||He instanceof Vt||He instanceof J)if(pe instanceof J)Ue&&Xt.addMarker(new et(st,[He.x,He.y],Y(Rt?[Rt.x,Rt.y]:[He.x,He.y],[pe.x1,pe.y1]))),rr&&Xt.addMarker(new et(Ht,[pe.x,pe.y],Y([pe.x2,pe.y2],[pe.x,pe.y]))),nr&&(ne=Dt([He.x,He.y],[pe.x1,pe.y1]),ne=He instanceof _t?ne:xt(Ut(Me,ne)),Xt.addMarker(new et(Lt,[He.x,He.y],Math.atan2(ne[1],ne[0])))),Me=Dt([pe.x2,pe.y2],[pe.x,pe.y]);else if(pe instanceof _t||pe instanceof Vt){if(ne=Dt([He.x,He.y],[pe.x,pe.y]),Ue){var Sr=Rt?Dt([Rt.x,Rt.y],[pe.x,pe.y]):ne;Xt.addMarker(new et(st,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))}rr&&Xt.addMarker(new et(Ht,[pe.x,pe.y],Math.atan2(ne[1],ne[0]))),nr&&(Sr=pe instanceof _t?Me:He instanceof _t?ne:xt(Ut(Me,ne)),Xt.addMarker(new et(Lt,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))),Me=ne}else pe instanceof be&&(ne=Dt([He.x,He.y],[je.x,je.y]),nr&&(Sr=He instanceof _t?ne:xt(Ut(Me,ne)),Xt.addMarker(new et(Lt,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))),rr&&(Sr=xt(Ut(ne,jr)),Xt.addMarker(new et(Ht,[je.x,je.y],Math.atan2(Sr[1],Sr[0])))),Me=ne);else{je=pe instanceof _t&&pe;var yr=ye[Jt+1];(yr instanceof _t||yr instanceof Vt||yr instanceof J)&&(jr=Dt([je.x,je.y],[yr.x,yr.y]))}},rt=0;rt<ye.length;rt++)Q(rt)}return Xt},B}(Or);function fn(Z){var B=f.exec(Z);return B&&B[1]||void 0}var En=function(Z){function B(P,G){return Z.call(this,!0,P,G)||this}return o(B,Z),B.prototype.getPath=function(P){if(P.withinClipPath||P.attributeState.stroke===null)return null;var G=parseFloat(this.element.getAttribute("x1")||"0"),st=parseFloat(this.element.getAttribute("y1")||"0"),Lt=parseFloat(this.element.getAttribute("x2")||"0"),Ht=parseFloat(this.element.getAttribute("y2")||"0");return G||Lt||st||Ht?new Oe().moveTo(G,st).lineTo(Lt,Ht):null},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return At(this,P,G)},B.prototype.fillOrStroke=function(P){return n(this,void 0,void 0,function(){return t(this,function(G){switch(G.label){case 0:return P.attributeState.fill=null,[4,Z.prototype.fillOrStroke.call(this,P)];case 1:return G.sent(),[2]}})})},B}(Jr),ri=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.apply=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt;return t(this,function(ye){switch(ye.label){case 0:return this.isVisible(P.attributeState.visibility!=="hidden",P)?((G=P.clone()).transform=G.pdf.unitMatrix,xe(G,this),st=W(this.element,G.styleSheets,"clip-path"),st&&st!=="none"&&(Lt=we(st,0,G))?Lt.isVisible(!0,G)?[4,Ke(this,Lt,G)]:[3,2]:[3,3]):[2];case 1:return ye.sent(),[3,3];case 2:return[2];case 3:Ne(G,P,this.element),Ht=0,Xt=this.children,ye.label=4;case 4:return Ht<Xt.length?[4,Xt[Ht].render(G)]:[3,7];case 5:ye.sent(),ye.label=6;case 6:return Ht++,[3,4];case 7:return[2]}})})},B.prototype.getBoundingBoxCore=function(P){return ve(P,this)},B.prototype.isVisible=function(P,G){return V(this,P,G)},B.prototype.computeNodeTransformCore=function(P){var G=parseFloat(W(this.element,P.styleSheets,"x")||"0"),st=parseFloat(W(this.element,P.styleSheets,"y")||"0"),Lt=this.element.getAttribute("viewBox");if(Lt){var Ht=ht(Lt),Xt=parseFloat(W(this.element,P.styleSheets,"width")||W(this.element.ownerSVGElement,P.styleSheets,"width")||Lt[2]),ye=parseFloat(W(this.element,P.styleSheets,"height")||W(this.element.ownerSVGElement,P.styleSheets,"height")||Lt[3]);return Yt(this.element,Ht,G,st,Xt,ye,P)}return P.pdf.Matrix(1,0,0,1,G,st)},B}(Bt),Yr=function(B,P){this.width=B,this.height=P},zn=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.renderCore=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt,ye,Me,ne,je,jr,Rt,Q,rt;return t(this,function(Et){switch(Et.label){case 0:return G=parseFloat,(st=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(Lt=st.substring(1),Ht=P.refsHandler.get(Lt),Xt=Qe(Ht.element,"symbol,svg")&&Ht.element.hasAttribute("viewBox"),ye=G(W(this.element,P.styleSheets,"x")||"0"),Me=G(W(this.element,P.styleSheets,"y")||"0"),ne=void 0,je=void 0,Xt?(ne=G(W(this.element,P.styleSheets,"width")||W(Ht.element,P.styleSheets,"width")||"0"),je=G(W(this.element,P.styleSheets,"height")||W(Ht.element,P.styleSheets,"height")||"0"),ye+=G(W(Ht.element,P.styleSheets,"x")||"0"),Me+=G(W(Ht.element,P.styleSheets,"y")||"0"),Rt=ht(Ht.element.getAttribute("viewBox")),jr=Yt(Ht.element,Rt,ye,Me,ne,je,P)):jr=P.pdf.Matrix(1,0,0,1,ye,Me),Q=new x(P.pdf,{refsHandler:P.refsHandler,styleSheets:P.styleSheets,withinUse:!0,viewport:Xt?new Yr(ne,je):P.viewport,svg2pdfParameters:P.svg2pdfParameters}),rt=P.attributeState.color,[4,P.refsHandler.getRendered(Lt,rt,function(Jt){return B.renderReferencedNode(Jt,Lt,rt,Q)})]):[2];case 1:return Et.sent(),P.pdf.saveGraphicsState(),P.pdf.setCurrentTransformationMatrix(P.transform),Xt&&W(Ht.element,P.styleSheets,"overflow")!=="visible"&&(P.pdf.rect(ye,Me,ne,je),P.pdf.clip().discardPath()),P.pdf.doFormObject(P.refsHandler.generateKey(Lt,rt),jr),P.pdf.restoreGraphicsState(),[2]}})})},B.renderReferencedNode=function(P,G,st,Lt){return n(this,void 0,void 0,function(){var Ht;return t(this,function(Xt){switch(Xt.label){case 0:return Ht=[(Ht=P.getBoundingBox(Lt))[0]-.5*Ht[2],Ht[1]-.5*Ht[3],2*Ht[2],2*Ht[3]],Lt.attributeState.color=st,Lt.pdf.beginFormObject(Ht[0],Ht[1],Ht[2],Ht[3],Lt.pdf.unitMatrix),P instanceof ri?[4,P.apply(Lt)]:[3,2];case 1:return Xt.sent(),[3,4];case 2:return[4,P.render(Lt)];case 3:Xt.sent(),Xt.label=4;case 4:return Lt.pdf.endFormObject(Lt.refsHandler.generateKey(G,st)),[2]}})})},B.prototype.getBoundingBoxCore=function(P){return re(this.element,P)},B.prototype.isVisible=function(P,G){return At(this,P,G)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B}(Or),pi=function(Z){function B(P,G){return Z.call(this,!1,P,G)||this}return o(B,Z),B.prototype.getPath=function(P){var G=parseFloat(W(this.element,P.styleSheets,"width")||"0"),st=parseFloat(W(this.element,P.styleSheets,"height")||"0");if(!isFinite(G)||G<=0||!isFinite(st)||st<=0)return null;var Lt=W(this.element,P.styleSheets,"rx"),Ht=W(this.element,P.styleSheets,"ry"),Xt=Math.min(parseFloat(Lt||Ht||"0"),.5*G),ye=Math.min(parseFloat(Ht||Lt||"0"),.5*st),Me=parseFloat(W(this.element,P.styleSheets,"x")||"0"),ne=parseFloat(W(this.element,P.styleSheets,"y")||"0"),je=4/3*(Math.SQRT2-1);return Xt===0&&ye===0?new Oe().moveTo(Me,ne).lineTo(Me+G,ne).lineTo(Me+G,ne+st).lineTo(Me,ne+st).close():new Oe().moveTo(Me+=Xt,ne).lineTo(Me+=G-2*Xt,ne).curveTo(Me+Xt*je,ne,Me+Xt,ne+(ye-ye*je),Me+=Xt,ne+=ye).lineTo(Me,ne+=st-2*ye).curveTo(Me,ne+ye*je,Me-Xt*je,ne+ye,Me-=Xt,ne+=ye).lineTo(Me+=2*Xt-G,ne).curveTo(Me-Xt*je,ne,Me-Xt,ne-ye*je,Me-=Xt,ne-=ye).lineTo(Me,ne+=2*ye-st).curveTo(Me,ne-ye*je,Me+Xt*je,ne-ye,Me+=Xt,ne-=ye).close()},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return At(this,P,G)},B}(Jr),Jn=function(Z){function B(P,G){return Z.call(this,!1,P,G)||this}return o(B,Z),B.prototype.getPath=function(P){var G=this.getRx(P),st=this.getRy(P);if(!isFinite(G)||st<=0||!isFinite(st)||st<=0)return null;var Lt=parseFloat(W(this.element,P.styleSheets,"cx")||"0"),Ht=parseFloat(W(this.element,P.styleSheets,"cy")||"0"),Xt=4/3*(Math.SQRT2-1)*G,ye=4/3*(Math.SQRT2-1)*st;return new Oe().moveTo(Lt+G,Ht).curveTo(Lt+G,Ht-ye,Lt+Xt,Ht-st,Lt,Ht-st).curveTo(Lt-Xt,Ht-st,Lt-G,Ht-ye,Lt-G,Ht).curveTo(Lt-G,Ht+ye,Lt-Xt,Ht+st,Lt,Ht+st).curveTo(Lt+Xt,Ht+st,Lt+G,Ht+ye,Lt+G,Ht)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return At(this,P,G)},B}(Jr),ki=function(Z){function B(P,G){return Z.call(this,P,G)||this}return o(B,Z),B.prototype.getRx=function(P){return parseFloat(W(this.element,P.styleSheets,"rx")||"0")},B.prototype.getRy=function(P){return parseFloat(W(this.element,P.styleSheets,"ry")||"0")},B}(Jn);function ni(Z){var B="invisible";return Z.fill&&Z.stroke?B="fillThenStroke":Z.fill?B="fill":Z.stroke&&(B="stroke"),B}function Ia(Z){return Z.replace(/[\n\r]/g,"")}function Mr(Z){return Z.replace(/[\t]/g," ")}function Ki(Z){return Z.replace(/ +/g," ")}function va(Z,B,P){switch(W(Z,P.styleSheets,"text-transform")){case"uppercase":return B.toUpperCase();case"lowercase":return B.toLowerCase();default:return B}}var ya=function(){function Z(B,P,G,st){this.textNode=B,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=P,this.originX=G,this.originY=st,this.textMeasures=[]}return Z.prototype.setX=function(B){this.originX=B},Z.prototype.setY=function(B){this.originY=B},Z.prototype.add=function(B,P,G){this.texts.push(P),this.textNodes.push(B),this.contexts.push(G)},Z.prototype.rightTrimText=function(){for(var B=this.texts.length-1;B>=0;B--)if(this.contexts[B].attributeState.xmlSpace==="default"&&(this.texts[B]=this.texts[B].replace(/\s+$/,"")),this.texts[B].match(/[^\s]/))return!1;return!0},Z.prototype.measureText=function(B){for(var P=0;P<this.texts.length;P++)this.textMeasures.push({width:B.textMeasure.measureTextWidth(this.texts[P],this.contexts[P].attributeState),length:this.texts[P].length})},Z.prototype.put=function(B,P){var G,st,Lt,Ht,Xt=[],ye=[],Me=[],ne=this.originX,je=this.originY,jr=ne,Rt=ne;for(G=0;G<this.textNodes.length;G++){st=this.textNodes[G],Lt=this.contexts[G],Ht=this.textMeasures[G]||{width:B.textMeasure.measureTextWidth(this.texts[G],this.contexts[G].attributeState),length:this.texts[G].length};var Q=ne,rt=je;if(st.nodeName!=="#text"&&!Xt.includes(st)){Xt.push(st);var Et=st.getAttribute("dx");Et!==null&&(Q+=F(Et,Lt.attributeState.fontSize));var Jt=st.getAttribute("dy");Jt!==null&&(rt+=F(Jt,Lt.attributeState.fontSize))}ye[G]=Q,Me[G]=rt,ne=Q+Ht.width+Ht.length*P,je=rt,jr=Math.min(jr,Q),Rt=Math.max(Rt,ne)}var pe=0;switch(this.textAnchor){case"start":pe=0;break;case"middle":pe=(Rt-jr)/2;break;case"end":pe=Rt-jr}for(G=0;G<this.textNodes.length;G++)if(st=this.textNodes[G],Lt=this.contexts[G],st.nodeName==="#text"||Lt.attributeState.visibility!=="hidden"){B.pdf.saveGraphicsState(),Ne(Lt,B,st);var Ue=Lt.attributeState.alignmentBaseline,rr=ni(Lt.attributeState);B.pdf.text(this.texts[G],ye[G]-pe,Me[G],{baseline:K(Ue),angle:B.transform,renderingMode:rr==="fill"?void 0:rr,charSpace:P===0?void 0:P}),B.pdf.restoreGraphicsState()}return[ne,je]},Z}(),$o=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.processTSpans=function(P,G,st,Lt,Ht,Xt){for(var ye=st.pdf.getFontSize(),Me=st.attributeState.xmlSpace,ne=!0,je=!1,jr=0;jr<G.childNodes.length;jr++){var Rt=G.childNodes[jr];if(Rt.textContent){var Q=Rt.textContent;if(Rt.nodeName==="#text"){var rt=Ia(Q);rt=Mr(rt),Me==="default"&&(rt=Ki(rt),ne&&rt.match(/^\s/)&&(je=!0),rt.match(/[^\s]/)&&(ne=!1),Xt.prevText.match(/\s$/)&&(rt=rt.replace(/^\s+/,"")));var Et=va(G,rt,st);Ht.add(G,Et,st),Xt.prevText=Q,Xt.prevContext=st}else if(!Qe(Rt,"title")){if(Qe(Rt,"tspan")){var Jt=Rt,pe=Jt.getAttribute("x");if(pe!==null){var Ue=F(pe,ye);Ht=new ya(this,W(Jt,st.styleSheets,"text-anchor")||st.attributeState.textAnchor,Ue,0),Lt.push({type:"y",chunk:Ht})}var rr=Jt.getAttribute("y");if(rr!==null){var nr=F(rr,ye);Ht=new ya(this,W(Jt,st.styleSheets,"text-anchor")||st.attributeState.textAnchor,0,nr),Lt.push({type:"x",chunk:Ht})}var He=st.clone();xe(He,P,Jt),this.processTSpans(P,Jt,He,Lt,Ht,Xt)}}}}return je},B.prototype.renderCore=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt,ye,Me,ne,je,jr,Rt,Q,rt,Et,Jt,pe,Ue,rr,nr,He,Sr,yr,ln;return t(this,function(Qr){if(P.pdf.saveGraphicsState(),G=0,st=0,Lt=1,Ht=P.pdf.getFontSize(),Xt=F(this.element.getAttribute("x"),Ht),ye=F(this.element.getAttribute("y"),Ht),Me=F(this.element.getAttribute("dx"),Ht),ne=F(this.element.getAttribute("dy"),Ht),je=parseFloat(this.element.getAttribute("textLength")||"0"),jr=P.attributeState.visibility,this.element.childElementCount===0)Rt=this.element.textContent||"",Q=function(Br,xn){return Br=Mr(Br=Ia(Br)),xn.xmlSpace==="default"&&(Br=Ki(Br=Br.trim())),Br}(Rt,P.attributeState),rt=va(this.element,Q,P),G=P.textMeasure.getTextOffset(rt,P.attributeState),je>0&&(Et=P.textMeasure.measureTextWidth(rt,P.attributeState),P.attributeState.xmlSpace==="default"&&Rt.match(/^\s/)&&(Lt=0),st=(je-Et)/(rt.length-Lt)||0),jr==="visible"&&(Jt=P.attributeState.alignmentBaseline,pe=ni(P.attributeState),P.pdf.text(rt,Xt+Me-G,ye+ne,{baseline:K(Jt),angle:P.transform,renderingMode:pe==="fill"?void 0:pe,charSpace:st===0?void 0:st}));else{for(Ue=[],rr=new ya(this,P.attributeState.textAnchor,Xt+Me,ye+ne),Ue.push({type:"",chunk:rr}),nr=this.processTSpans(this,this.element,P,Ue,rr,{prevText:" ",prevContext:P}),Lt=nr?0:1,He=!0,Sr=Ue.length-1;Sr>=0;Sr--)He&&(He=Ue[Sr].chunk.rightTrimText());je>0&&(yr=0,ln=0,Ue.forEach(function(Br){var xn=Br.chunk;xn.measureText(P),xn.textMeasures.forEach(function(tn){var yn=tn.width,Yn=tn.length;yr+=yn,ln+=Yn})}),st=(je-yr)/(ln-Lt)),Ue.reduce(function(Br,xn){var tn=xn.type,yn=xn.chunk;return tn==="x"?yn.setX(Br[0]):tn==="y"&&yn.setY(Br[1]),yn.put(P,st)},[0,0])}return P.pdf.restoreGraphicsState(),[2]})})},B.prototype.isVisible=function(P,G){return V(this,P,G)},B.prototype.getBoundingBoxCore=function(P){return re(this.element,P)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B}(Or),Qs=function(Z){function B(P,G){return Z.call(this,!0,P,G)||this}return o(B,Z),B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return At(this,P,G)},B.prototype.getPath=function(P){var G,st,Lt=new tt.a(W(this.element,P.styleSheets,"d")||"").unshort().unarc().abs(),Ht=new Oe;return Lt.iterate(function(Xt){var ye=Xt[0];switch(ye){case"M":Ht.moveTo(Xt[1],Xt[2]);break;case"L":Ht.lineTo(Xt[1],Xt[2]);break;case"H":Ht.lineTo(Xt[1],st);break;case"V":Ht.lineTo(G,Xt[1]);break;case"C":Ht.curveTo(Xt[1],Xt[2],Xt[3],Xt[4],Xt[5],Xt[6]);break;case"Q":var Me=nt([G,st],[Xt[1],Xt[2]]),ne=nt([Xt[3],Xt[4]],[Xt[1],Xt[2]]);Ht.curveTo(Me[0],Me[1],ne[0],ne[1],Xt[3],Xt[4]);break;case"Z":Ht.close()}switch(ye){case"M":case"L":G=Xt[1],st=Xt[2];break;case"H":G=Xt[1];break;case"V":st=Xt[1];break;case"C":G=Xt[5],st=Xt[6];break;case"Q":G=Xt[3],st=Xt[4]}}),Ht},B}(Jr),Va=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,Co=function(Z){function B(P,G){var st=Z.call(this,P,G)||this;return st.imageLoadingPromise=null,st.imageUrl=st.element.getAttribute("xlink:href")||st.element.getAttribute("href"),st.imageUrl&&(st.imageLoadingPromise=B.fetchImageData(st.imageUrl)),st}return o(B,Z),B.prototype.renderCore=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt,ye,Me,ne,je,jr,Rt,Q;return t(this,function(rt){switch(rt.label){case 0:return this.imageLoadingPromise?(P.pdf.setCurrentTransformationMatrix(P.transform),G=parseFloat(W(this.element,P.styleSheets,"width")||"0"),st=parseFloat(W(this.element,P.styleSheets,"height")||"0"),Lt=parseFloat(W(this.element,P.styleSheets,"x")||"0"),Ht=parseFloat(W(this.element,P.styleSheets,"y")||"0"),!isFinite(G)||G<=0||!isFinite(st)||st<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return Xt=rt.sent(),ye=Xt.data,(Me=Xt.format).indexOf("svg")!==0?[3,3]:(ne=new DOMParser,je=ne.parseFromString(ye,"image/svg+xml").firstElementChild,(!(jr=this.element.getAttribute("preserveAspectRatio"))||jr.indexOf("defer")<0||!je.getAttribute("preserveAspectRatio"))&&je.setAttribute("preserveAspectRatio",jr||""),je.setAttribute("x",String(Lt)),je.setAttribute("y",String(Ht)),je.setAttribute("width",String(G)),je.setAttribute("height",String(st)),[4,Xa(je,Rt={}).render(new x(P.pdf,{refsHandler:new M(Rt),styleSheets:P.styleSheets,viewport:new Yr(G,st),svg2pdfParameters:P.svg2pdfParameters}))]);case 2:return rt.sent(),[2];case 3:Q="data:image/"+Me+";base64,"+btoa(ye);try{P.pdf.addImage(Q,"",Lt,Ht,G,st)}catch(Et){typeof console=="object"&&console.warn&&console.warn("Could not load image "+this.imageUrl+`.
`+Et)}rt.label=4;case 4:return[2]}})})},B.prototype.getBoundingBoxCore=function(P){return re(this.element,P)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return At(this,P,G)},B.fetchImageData=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt;return t(this,function(ye){switch(ye.label){case 0:if(!(Lt=P.match(Va)))return[3,1];if(Ht=Lt[2],(Xt=Ht.split("/"))[0]!=="image")throw new Error("Unsupported image URL: "+P);return st=Xt[1],G=Lt[5],G=Lt[4]==="base64"?atob(G):decodeURIComponent(G),[3,3];case 1:return[4,B.fetchImage(P)];case 2:G=ye.sent(),st=P.substring(P.lastIndexOf(".")+1),ye.label=3;case 3:return[2,{data:G,format:st}]}})})},B.fetchImage=function(P){return new Promise(function(G,st){var Lt=new XMLHttpRequest;Lt.open("GET",P,!0),Lt.responseType="arraybuffer",Lt.onload=function(){if(Lt.status!==200)throw new Error("Error "+Lt.status+": Failed to load image '"+P+"'");for(var Ht=new Uint8Array(Lt.response),Xt="",ye=0;ye<Ht.length;ye++)Xt+=String.fromCharCode(Ht[ye]);G(Xt)},Lt.onerror=st,Lt.onabort=st,Lt.send(null)})},B.getMimeType=function(P){switch(P=P.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+P}},B}(Or),Ao=function(Z){function B(P,G,st){var Lt=Z.call(this,!0,G,st)||this;return Lt.closed=P,Lt}return o(B,Z),B.prototype.getPath=function(P){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var G=B.parsePointsString(this.element.getAttribute("points")),st=new Oe;if(G.length<1)return st;st.moveTo(G[0][0],G[0][1]);for(var Lt=1;Lt<G.length;Lt++)st.lineTo(G[Lt][0],G[Lt][1]);return this.closed&&st.close(),st},B.prototype.isVisible=function(P,G){return At(this,P,G)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.parsePointsString=function(P){for(var G=ht(P),st=[],Lt=0;Lt<G.length-1;Lt+=2){var Ht=G[Lt],Xt=G[Lt+1];st.push([Ht,Xt])}return st},B}(Jr),hs=function(Z){function B(P,G){return Z.call(this,!0,P,G)||this}return o(B,Z),B}(Ao),cs=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.render=function(P){return Promise.resolve()},B.prototype.getBoundingBoxCore=function(P){return[0,0,0,0]},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B.prototype.isVisible=function(P,G){return At(this,P,G)},B}(N),Ll=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.apply=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt;return t(this,function(ye){switch(ye.label){case 0:G=this.computeNodeTransform(P),st=this.getBoundingBox(P),P.pdf.beginFormObject(st[0],st[1],st[2],st[3],G),function(Me){var ne=Me.attributeState,je=Me.pdf,jr=1,Rt=1;jr*=ne.fillOpacity,jr*=ne.opacity,ne.fill instanceof l&&ne.fill.color.a!==void 0&&(jr*=ne.fill.color.a),Rt*=ne.strokeOpacity,Rt*=ne.opacity,ne.stroke instanceof l&&ne.stroke.color.a!==void 0&&(Rt*=ne.stroke.color.a);var Q,rt={};if(rt.opacity=jr,rt["stroke-opacity"]=Rt,je.setGState(new ft.a(rt)),ne.fill&&ne.fill instanceof l&&ne.fill.color.ok?je.setFillColor(ne.fill.color.r,ne.fill.color.g,ne.fill.color.b):je.setFillColor(0,0,0),je.setLineWidth(ne.strokeWidth),ne.stroke instanceof l?je.setDrawColor(ne.stroke.color.r,ne.stroke.color.g,ne.stroke.color.b):je.setDrawColor(0,0,0),je.setLineCap(ne.strokeLinecap),je.setLineJoin(ne.strokeLinejoin),ne.strokeDasharray?je.setLineDashPattern(ne.strokeDasharray,ne.strokeDashoffset):je.setLineDashPattern([],0),je.setLineMiterLimit(ne.strokeMiterlimit),Q=Wt.hasOwnProperty(ne.fontFamily)?Wt[ne.fontFamily]:ne.fontFamily,ne.fill&&ne.fill instanceof l&&ne.fill.color.ok){var Et=ne.fill.color;je.setTextColor(Et.r,Et.g,Et.b)}else je.setTextColor(0,0,0);var Jt="";ne.fontWeight==="bold"&&(Jt="bold"),ne.fontStyle==="italic"&&(Jt+="italic"),Jt===""&&(Jt="normal"),Q!==void 0||Jt!==void 0?(Q===void 0&&(Q=Wt.hasOwnProperty(ne.fontFamily)?Wt[ne.fontFamily]:ne.fontFamily),je.setFont(Q,Jt)):je.setFont("helvetica",Jt),je.setFontSize(ne.fontSize*je.internal.scaleFactor)}(Lt=new x(P.pdf,{refsHandler:P.refsHandler,styleSheets:P.styleSheets,viewport:P.viewport,svg2pdfParameters:P.svg2pdfParameters})),Ht=0,Xt=this.children,ye.label=1;case 1:return Ht<Xt.length?[4,Xt[Ht].render(Lt)]:[3,4];case 2:ye.sent(),ye.label=3;case 3:return Ht++,[3,1];case 4:return P.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},B.prototype.getBoundingBoxCore=function(P){var G,st=this.element.getAttribute("viewBox");return st&&(G=ht(st)),[G&&G[0]||0,G&&G[1]||0,G&&G[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),G&&G[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},B.prototype.computeNodeTransformCore=function(P){var G,st=parseFloat(this.element.getAttribute("refX")||"0"),Lt=parseFloat(this.element.getAttribute("refY")||"0"),Ht=this.element.getAttribute("viewBox");if(Ht){var Xt=ht(Ht);G=Yt(this.element,Xt,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),P,!0),G=P.pdf.matrixMult(P.pdf.Matrix(1,0,0,1,-st,-Lt),G)}else G=P.pdf.Matrix(1,0,0,1,-st,-Lt);return G},B.prototype.isVisible=function(P,G){return V(this,P,G)},B}(Bt),to=function(Z){function B(P,G){return Z.call(this,P,G)||this}return o(B,Z),B.prototype.getR=function(P){var G;return(G=this.r)!==null&&G!==void 0?G:this.r=parseFloat(W(this.element,P.styleSheets,"r")||"0")},B.prototype.getRx=function(P){return this.getR(P)},B.prototype.getRy=function(P){return this.getR(P)},B}(Jn),ks=function(Z){function B(P,G){return Z.call(this,!1,P,G)||this}return o(B,Z),B}(Ao),Es=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.renderCore=function(P){return n(this,void 0,void 0,function(){var G,st;return t(this,function(Lt){switch(Lt.label){case 0:G=0,st=this.children,Lt.label=1;case 1:return G<st.length?[4,st[G].render(P)]:[3,4];case 2:Lt.sent(),Lt.label=3;case 3:return G++,[3,1];case 4:return[2]}})})},B.prototype.getBoundingBoxCore=function(P){return ve(P,this)},B}(xr),To=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.isVisible=function(P,G){return V(this,P,G)},B.prototype.render=function(P){return n(this,void 0,void 0,function(){var G,st,Lt,Ht,Xt;return t(this,function(ye){switch(ye.label){case 0:return this.isVisible(P.attributeState.visibility!=="hidden",P)?(G=this.getX(P),st=this.getY(P),Lt=this.getWidth(P),Ht=this.getHeight(P),P.pdf.saveGraphicsState(),Xt=P.transform,this.element.hasAttribute("transform")&&(Xt=P.pdf.matrixMult(de(this.element.getAttribute("transform"),P),Xt)),P.pdf.setCurrentTransformationMatrix(Xt),P.withinUse||W(this.element,P.styleSheets,"overflow")==="visible"||P.pdf.rect(G,st,Lt,Ht).clip().discardPath(),[4,Z.prototype.render.call(this,P.clone({transform:P.pdf.unitMatrix,viewport:P.withinUse?P.viewport:new Yr(Lt,Ht)}))]):[2];case 1:return ye.sent(),P.pdf.restoreGraphicsState(),[2]}})})},B.prototype.computeNodeTransform=function(P){return this.computeNodeTransformCore(P)},B.prototype.computeNodeTransformCore=function(P){if(P.withinUse)return P.pdf.unitMatrix;var G,st=this.getX(P),Lt=this.getY(P),Ht=this.getViewBox();if(Ht){var Xt=this.getWidth(P),ye=this.getHeight(P);G=Yt(this.element,Ht,st,Lt,Xt,ye,P)}else G=P.pdf.Matrix(1,0,0,1,st,Lt);return G},B.prototype.getWidth=function(P){if(this.width!==void 0)return this.width;var G,st,Lt=P.svg2pdfParameters;if(this.isOutermostSvg(P))if(Lt.width!=null)G=Lt.width;else if(st=W(this.element,P.styleSheets,"width"))G=parseFloat(st);else{var Ht=this.getViewBox();if(Ht&&(Lt.height!=null||W(this.element,P.styleSheets,"height"))){var Xt=Ht[2]/Ht[3];G=this.getHeight(P)*Xt}else G=Math.min(300,P.viewport.width,2*P.viewport.height)}else G=(st=W(this.element,P.styleSheets,"width"))?parseFloat(st):P.viewport.width;return this.width=G},B.prototype.getHeight=function(P){if(this.height!==void 0)return this.height;var G,st,Lt=P.svg2pdfParameters;if(this.isOutermostSvg(P))if(Lt.height!=null)G=Lt.height;else if(st=W(this.element,P.styleSheets,"height"))G=parseFloat(st);else{var Ht=this.getViewBox();if(Ht){var Xt=Ht[2]/Ht[3];G=this.getWidth(P)/Xt}else G=Math.min(150,P.viewport.width/2,P.viewport.height)}else G=(st=W(this.element,P.styleSheets,"height"))?parseFloat(st):P.viewport.height;return this.height=G},B.prototype.getX=function(P){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(P))return this.x=0;var G=W(this.element,P.styleSheets,"x");return this.x=G?parseFloat(G):0},B.prototype.getY=function(P){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(P))return this.y=0;var G=W(this.element,P.styleSheets,"y");return this.y=G?parseFloat(G):0},B.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var P=this.element.getAttribute("viewBox");return this.viewBox=P?ht(P):void 0},B.prototype.isOutermostSvg=function(P){return P.svg2pdfParameters.element===this.element},B}(Es),Qo=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.isVisible=function(P,G){return V(this,P,G)},B.prototype.computeNodeTransformCore=function(P){return P.pdf.unitMatrix},B}(Es),Fs=function(Z){function B(){return Z!==null&&Z.apply(this,arguments)||this}return o(B,Z),B.prototype.apply=function(P){return n(this,void 0,void 0,function(){var G,st,Lt;return t(this,function(Ht){switch(Ht.label){case 0:if(!this.isVisible(!0,P))return[2];G=P.pdf.matrixMult(this.computeNodeTransform(P),P.transform),P.pdf.setCurrentTransformationMatrix(G),st=0,Lt=this.children,Ht.label=1;case 1:return st<Lt.length?[4,Lt[st].render(new x(P.pdf,{refsHandler:P.refsHandler,styleSheets:P.styleSheets,viewport:P.viewport,withinClipPath:!0,svg2pdfParameters:P.svg2pdfParameters}))]:[3,4];case 2:Ht.sent(),Ht.label=3;case 3:return st++,[3,1];case 4:return P.pdf.clip().discardPath(),P.pdf.setCurrentTransformationMatrix(G.inversed()),[2]}})})},B.prototype.getBoundingBoxCore=function(P){return ve(P,this)},B.prototype.isVisible=function(P,G){return V(this,P,G)},B}(Bt);function Xa(Z,B){var P,G=[];switch(function(Lt,Ht){for(var Xt=[],ye=0;ye<Lt.childNodes.length;ye++){var Me=Lt.childNodes[ye];Me.nodeName.charAt(0)!=="#"&&Xt.push(Me)}for(ye=0;ye<Xt.length;ye++)Ht(ye,Xt[ye])}(Z,function(Lt,Ht){return G.push(Xa(Ht,B))}),Z.tagName.toLowerCase()){case"a":case"g":P=new Qo(Z,G);break;case"circle":P=new to(Z,G);break;case"clippath":P=new Fs(Z,G);break;case"ellipse":P=new ki(Z,G);break;case"lineargradient":P=new C(Z,G);break;case"image":P=new Co(Z,G);break;case"line":P=new En(Z,G);break;case"marker":P=new Ll(Z,G);break;case"path":P=new Qs(Z,G);break;case"pattern":P=new at(Z,G);break;case"polygon":P=new hs(Z,G);break;case"polyline":P=new ks(Z,G);break;case"radialgradient":P=new A(Z,G);break;case"rect":P=new pi(Z,G);break;case"svg":P=new To(Z,G);break;case"symbol":P=new ri(Z,G);break;case"text":P=new $o(Z,G);break;case"use":P=new zn(Z,G);break;default:P=new cs(Z,G)}if(B!=null&&P.element.hasAttribute("id")){var st=O()(P.element.id,{isIdentifier:!0});B[st]=B[st]||P}return P.children.forEach(function(Lt){return Lt.setParent(P)}),P}var tl=function(){function Z(B,P){this.rootSvg=B,this.loadExternalSheets=P,this.styleSheets=[]}return Z.prototype.load=function(){return n(this,void 0,void 0,function(){var B;return t(this,function(P){switch(P.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return B=P.sent(),this.parseCssSheets(B),[2]}})})},Z.prototype.collectStyleSheetTexts=function(){return n(this,void 0,void 0,function(){var B,P,G,st,Lt;return t(this,function(Ht){switch(Ht.label){case 0:if(B=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(st=0;st<this.rootSvg.ownerDocument.childNodes.length;st++)(P=this.rootSvg.ownerDocument.childNodes[st]).nodeName==="xml-stylesheet"&&typeof P.data=="string"&&B.push(Z.loadSheet(P.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(G=this.rootSvg.querySelectorAll("style,link"),st=0;st<G.length;st++)Qe(Lt=G[st],"style")?B.push(Lt.textContent):this.loadExternalSheets&&Qe(Lt,"link")&&Lt.getAttribute("rel")==="stylesheet"&&Lt.hasAttribute("href")&&B.push(Z.loadSheet(Lt.getAttribute("href")));return[4,Promise.all(B)];case 1:return[2,Ht.sent().filter(function(Xt){return Xt!==null})]}})})},Z.prototype.parseCssSheets=function(B){for(var P=document.implementation.createHTMLDocument(""),G=0,st=B;G<st.length;G++){var Lt=st[G],Ht=P.createElement("style");Ht.textContent=Lt,P.body.appendChild(Ht);var Xt=Ht.sheet;if(Xt instanceof CSSStyleSheet){for(var ye=Xt.cssRules.length-1;ye>=0;ye--){var Me=Xt.cssRules[ye];if(Me instanceof CSSStyleRule){var ne=Me;if(ne.selectorText.indexOf(",")>=0){Xt.deleteRule(ye);for(var je=ne.cssText.substring(ne.selectorText.length),jr=Z.splitSelectorAtCommas(ne.selectorText),Rt=0;Rt<jr.length;Rt++)Xt.insertRule(jr[Rt]+je,ye+Rt)}}else Xt.deleteRule(ye)}this.styleSheets.push(Xt)}}},Z.splitSelectorAtCommas=function(B){for(var P,G=/,|["']/g,st=/[^\\]["]/g,Lt=/[^\\][']/g,Ht=[],Xt="initial",ye=-1,Me=st,ne=0;ne<B.length;)switch(Xt){case"initial":G.lastIndex=ne,(P=G.exec(B))?(P[0]===","?(Ht.push(B.substring(ye+1,G.lastIndex-1).trim()),ye=G.lastIndex-1):(Xt="withinQuotes",Me=P[0]==='"'?st:Lt),ne=G.lastIndex):(Ht.push(B.substring(ye+1).trim()),ne=B.length);break;case"withinQuotes":Me.lastIndex=ne,(P=Me.exec(B))&&(ne=Me.lastIndex,Xt="initial")}return Ht},Z.loadSheet=function(B){return new Promise(function(P,G){var st=new XMLHttpRequest;st.open("GET",B,!0),st.responseType="text",st.onload=function(){st.status!==200&&G(new Error("Error "+st.status+": Failed to load '"+B+"'")),P(st.responseText)},st.onerror=G,st.onabort=G,st.send(null)}).catch(function(){return null})},Z.prototype.getPropertyValue=function(B,P){for(var G=[],st=0,Lt=this.styleSheets;st<Lt.length;st++)for(var Ht=Lt[st],Xt=0;Xt<Ht.cssRules.length;Xt++){var ye=Ht.cssRules[Xt];ye.style.getPropertyValue(P)&&B.matches(ye.selectorText)&&G.push(ye)}if(G.length!==0)return G.reduce(function(Me,ne){return jr=ne,((Rt=(je=Me).style.getPropertyPriority(P))!==jr.style.getPropertyPriority(P)?Rt==="important"?1:-1:h(je.selectorText,jr.selectorText))===1?Me:ne;var je,jr,Rt}).style.getPropertyValue(P)||void 0},Z}();function el(Z,B,P){var G,st,Lt;return P===void 0&&(P={}),n(this,void 0,void 0,function(){var Ht,Xt,ye,Me,ne,je,jr,Rt,Q,rt;return t(this,function(Et){switch(Et.label){case 0:return Ht=(G=P.x)!==null&&G!==void 0?G:0,Xt=(st=P.y)!==null&&st!==void 0?st:0,ye=(Lt=P.loadExternalStyleSheets)!==null&&Lt!==void 0&&Lt,ne=new M(Me={}),[4,(je=new tl(Z,ye)).load()];case 1:return Et.sent(),jr=new Yr(B.internal.pageSize.getWidth(),B.internal.pageSize.getHeight()),Rt=e(e({},P),{element:Z}),Q=new x(B,{refsHandler:ne,styleSheets:je,viewport:jr,svg2pdfParameters:Rt}),B.advancedAPI(),B.saveGraphicsState(),B.setCurrentTransformationMatrix(B.Matrix(1,0,0,1,Ht,Xt)),B.setLineWidth(Q.attributeState.strokeWidth),rt=Q.attributeState.fill.color,B.setFillColor(rt.r,rt.g,rt.b),B.setFont(Q.attributeState.fontFamily),B.setFontSize(Q.attributeState.fontSize*B.internal.scaleFactor),[4,Xa(Z,Me).render(Q)];case 2:return Et.sent(),B.restoreGraphicsState(),B.compatAPI(),Q.textMeasure.cleanupTextMeasuring(),[2,B]}})})}ft.e.API.svg=function(Z,B){return B===void 0&&(B={}),el(Z,this,B)}},bBst:function(un,_r,De){(function(Xe){var O=Xe.CustomEvent;function me(){try{var pt=new O("cat",{detail:{foo:"bar"}});return pt.type==="cat"&&pt.detail.foo==="bar"}catch(ft){}return!1}un.exports=me()?O:typeof document!="undefined"&&typeof document.createEvent=="function"?function(ft,Gt){var tt=document.createEvent("CustomEvent");return Gt?tt.initCustomEvent(ft,Gt.bubbles,Gt.cancelable,Gt.detail):tt.initCustomEvent(ft,!1,!1,void 0),tt}:function(ft,Gt){var tt=document.createEventObject();return tt.type=ft,Gt?(tt.bubbles=Boolean(Gt.bubbles),tt.cancelable=Boolean(Gt.cancelable),tt.detail=Gt.detail):(tt.bubbles=!1,tt.cancelable=!1,tt.detail=void 0),tt}}).call(this,De("IyRk"))},cbZj:function(un,_r,De){"use strict";var Xe=De("COF0"),O=De("vHD6"),me=De("4hEd"),pt=De("2D6k"),ft=De("B61z");function Gt(tt){if(!(this instanceof Gt))return new Gt(tt);var b=Xe(tt);this.segments=b.segments,this.err=b.err,this.__stack=[]}Gt.from=function(tt){if(typeof tt=="string")return new Gt(tt);if(tt instanceof Gt){var b=new Gt("");return b.err=tt.err,b.segments=tt.segments.map(function(s){return s.slice()}),b.__stack=tt.__stack.map(function(s){return me().matrix(s.toArray())}),b}throw new Error("SvgPath.from: invalid param type "+tt)},Gt.prototype.__matrix=function(tt){var b=this,s;!tt.queue.length||this.iterate(function(h,u,o,e){var n,t,a,l;switch(h[0]){case"v":n=tt.calc(0,h[1],!0),t=n[0]===0?["v",n[1]]:["l",n[0],n[1]];break;case"V":n=tt.calc(o,h[1],!1),t=n[0]===tt.calc(o,e,!1)[0]?["V",n[1]]:["L",n[0],n[1]];break;case"h":n=tt.calc(h[1],0,!0),t=n[1]===0?["h",n[0]]:["l",n[0],n[1]];break;case"H":n=tt.calc(h[1],e,!1),t=n[1]===tt.calc(o,e,!1)[1]?["H",n[0]]:["L",n[0],n[1]];break;case"a":case"A":var i=tt.toArray(),f=ft(h[1],h[2],h[3]).transform(i);if(i[0]*i[3]-i[1]*i[2]<0&&(h[5]=h[5]?"0":"1"),n=tt.calc(h[6],h[7],h[0]==="a"),h[0]==="A"&&h[6]===o&&h[7]===e||h[0]==="a"&&h[6]===0&&h[7]===0){t=[h[0]==="a"?"l":"L",n[0],n[1]];break}f.isDegenerate()?t=[h[0]==="a"?"l":"L",n[0],n[1]]:t=[h[0],f.rx,f.ry,f.ax,h[4],h[5],n[0],n[1]];break;case"m":l=u>0,n=tt.calc(h[1],h[2],l),t=["m",n[0],n[1]];break;default:for(a=h[0],t=[a],l=a.toLowerCase()===a,s=1;s<h.length;s+=2)n=tt.calc(h[s],h[s+1],l),t.push(n[0],n[1])}b.segments[u]=t},!0)},Gt.prototype.__evaluateStack=function(){var tt,b;if(!!this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(tt=me(),b=this.__stack.length;--b>=0;)tt.matrix(this.__stack[b].toArray());this.__matrix(tt),this.__stack=[]}},Gt.prototype.toString=function(){var tt="",b="",s=!1;this.__evaluateStack();for(var h=0,u=this.segments.length;h<u;h++){var o=this.segments[h],e=o[0];e!==b||e==="m"||e==="M"?(e==="m"&&b==="z"&&(tt+=" "),tt+=e,s=!1):s=!0;for(var n=1;n<o.length;n++){var t=o[n];n===1?s&&t>=0&&(tt+=" "):t>=0&&(tt+=" "),tt+=t}b=e}return tt},Gt.prototype.translate=function(tt,b){return this.__stack.push(me().translate(tt,b||0)),this},Gt.prototype.scale=function(tt,b){return this.__stack.push(me().scale(tt,!b&&b!==0?tt:b)),this},Gt.prototype.rotate=function(tt,b,s){return this.__stack.push(me().rotate(tt,b||0,s||0)),this},Gt.prototype.skewX=function(tt){return this.__stack.push(me().skewX(tt)),this},Gt.prototype.skewY=function(tt){return this.__stack.push(me().skewY(tt)),this},Gt.prototype.matrix=function(tt){return this.__stack.push(me().matrix(tt)),this},Gt.prototype.transform=function(tt){return tt.trim()?(this.__stack.push(O(tt)),this):this},Gt.prototype.round=function(tt){var b=0,s=0,h=0,u=0,o;return tt=tt||0,this.__evaluateStack(),this.segments.forEach(function(e){var n=e[0].toLowerCase()===e[0];switch(e[0]){case"H":case"h":n&&(e[1]+=h),h=e[1]-e[1].toFixed(tt),e[1]=+e[1].toFixed(tt);return;case"V":case"v":n&&(e[1]+=u),u=e[1]-e[1].toFixed(tt),e[1]=+e[1].toFixed(tt);return;case"Z":case"z":h=b,u=s;return;case"M":case"m":n&&(e[1]+=h,e[2]+=u),h=e[1]-e[1].toFixed(tt),u=e[2]-e[2].toFixed(tt),b=h,s=u,e[1]=+e[1].toFixed(tt),e[2]=+e[2].toFixed(tt);return;case"A":case"a":n&&(e[6]+=h,e[7]+=u),h=e[6]-e[6].toFixed(tt),u=e[7]-e[7].toFixed(tt),e[1]=+e[1].toFixed(tt),e[2]=+e[2].toFixed(tt),e[3]=+e[3].toFixed(tt+2),e[6]=+e[6].toFixed(tt),e[7]=+e[7].toFixed(tt);return;default:o=e.length,n&&(e[o-2]+=h,e[o-1]+=u),h=e[o-2]-e[o-2].toFixed(tt),u=e[o-1]-e[o-1].toFixed(tt),e.forEach(function(t,a){!a||(e[a]=+e[a].toFixed(tt))});return}}),this},Gt.prototype.iterate=function(tt,b){var s=this.segments,h={},u=!1,o=0,e=0,n=0,t=0,a,l,i;if(b||this.__evaluateStack(),s.forEach(function(f,p){var m=tt(f,p,o,e);Array.isArray(m)&&(h[p]=m,u=!0);var x=f[0]===f[0].toLowerCase();switch(f[0]){case"m":case"M":o=f[1]+(x?o:0),e=f[2]+(x?e:0),n=o,t=e;return;case"h":case"H":o=f[1]+(x?o:0);return;case"v":case"V":e=f[1]+(x?e:0);return;case"z":case"Z":o=n,e=t;return;default:o=f[f.length-2]+(x?o:0),e=f[f.length-1]+(x?e:0)}}),!u)return this;for(i=[],a=0;a<s.length;a++)if(typeof h[a]!="undefined")for(l=0;l<h[a].length;l++)i.push(h[a][l]);else i.push(s[a]);return this.segments=i,this},Gt.prototype.abs=function(){return this.iterate(function(tt,b,s,h){var u=tt[0],o=u.toUpperCase(),e;if(u!==o)switch(tt[0]=o,u){case"v":tt[1]+=h;return;case"a":tt[6]+=s,tt[7]+=h;return;default:for(e=1;e<tt.length;e++)tt[e]+=e%2?s:h}},!0),this},Gt.prototype.rel=function(){return this.iterate(function(tt,b,s,h){var u=tt[0],o=u.toLowerCase(),e;if(u!==o&&!(b===0&&u==="M"))switch(tt[0]=o,u){case"V":tt[1]-=h;return;case"A":tt[6]-=s,tt[7]-=h;return;default:for(e=1;e<tt.length;e++)tt[e]-=e%2?s:h}},!0),this},Gt.prototype.unarc=function(){return this.iterate(function(tt,b,s,h){var u,o,e,n=[],t=tt[0];return t!=="A"&&t!=="a"?null:(t==="a"?(o=s+tt[6],e=h+tt[7]):(o=tt[6],e=tt[7]),u=pt(s,h,o,e,tt[4],tt[5],tt[1],tt[2],tt[3]),u.length===0?[[tt[0]==="a"?"l":"L",tt[6],tt[7]]]:(u.forEach(function(a){n.push(["C",a[2],a[3],a[4],a[5],a[6],a[7]])}),n))}),this},Gt.prototype.unshort=function(){var tt=this.segments,b,s,h,u,o;return this.iterate(function(e,n,t,a){var l=e[0],i=l.toUpperCase(),f;!n||(i==="T"?(f=l==="t",h=tt[n-1],h[0]==="Q"?(b=h[1]-t,s=h[2]-a):h[0]==="q"?(b=h[1]-h[3],s=h[2]-h[4]):(b=0,s=0),u=-b,o=-s,f||(u+=t,o+=a),tt[n]=[f?"q":"Q",u,o,e[1],e[2]]):i==="S"&&(f=l==="s",h=tt[n-1],h[0]==="C"?(b=h[3]-t,s=h[4]-a):h[0]==="c"?(b=h[3]-h[5],s=h[4]-h[6]):(b=0,s=0),u=-b,o=-s,f||(u+=t,o+=a),tt[n]=[f?"c":"C",u,o,e[1],e[2],e[3],e[4]]))}),this},un.exports=Gt},crp1:function(un,_r,De){"use strict";De.d(_r,"b",function(){return ks}),De.d(_r,"a",function(){return Fs});var Xe={},O=function(Q,rt,Et,Jt,pe){var Ue=Xe[rt]||(Xe[rt]=URL.createObjectURL(new Blob([Q],{type:"text/javascript"}))),rr=new Worker(Ue);return rr.onerror=function(nr){return pe(nr.error,null)},rr.onmessage=function(nr){return pe(null,nr.data)},rr.postMessage(Et,Jt),rr},me=Uint8Array,pt=Uint16Array,ft=Uint32Array,Gt=new me([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tt=new me([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b=new me([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(Q,rt){for(var Et=new pt(31),Jt=0;Jt<31;++Jt)Et[Jt]=rt+=1<<Q[Jt-1];for(var pe=new ft(Et[30]),Jt=1;Jt<30;++Jt)for(var Ue=Et[Jt];Ue<Et[Jt+1];++Ue)pe[Ue]=Ue-Et[Jt]<<5|Jt;return[Et,pe]},h=s(Gt,2),u=h[0],o=h[1];u[28]=258,o[258]=28;for(var e=s(tt,0),n=e[0],t=e[1],a=new pt(32768),l=0;l<32768;++l){var i=(l&43690)>>>1|(l&21845)<<1;i=(i&52428)>>>2|(i&13107)<<2,i=(i&61680)>>>4|(i&3855)<<4,a[l]=((i&65280)>>>8|(i&255)<<8)>>>1}for(var f=function(Q,rt,Et){for(var Jt=Q.length,pe=0,Ue=new pt(rt);pe<Jt;++pe)++Ue[Q[pe]-1];var rr=new pt(rt);for(pe=0;pe<rt;++pe)rr[pe]=rr[pe-1]+Ue[pe-1]<<1;var nr;if(Et){nr=new pt(1<<rt);var He=15-rt;for(pe=0;pe<Jt;++pe)if(Q[pe])for(var Sr=pe<<4|Q[pe],yr=rt-Q[pe],ln=rr[Q[pe]-1]++<<yr,Qr=ln|(1<<yr)-1;ln<=Qr;++ln)nr[a[ln]>>>He]=Sr}else for(nr=new pt(Jt),pe=0;pe<Jt;++pe)nr[pe]=a[rr[Q[pe]-1]++]>>>15-Q[pe];return nr},p=new me(288),l=0;l<144;++l)p[l]=8;for(var l=144;l<256;++l)p[l]=9;for(var l=256;l<280;++l)p[l]=7;for(var l=280;l<288;++l)p[l]=8;for(var m=new me(32),l=0;l<32;++l)m[l]=5;var x=f(p,9,0),M=f(p,9,1),Y=f(m,5,0),nt=f(m,5,1),xt=function(Q){for(var rt=Q[0],Et=1;Et<Q.length;++Et)Q[Et]>rt&&(rt=Q[Et]);return rt},Dt=function(Q,rt,Et){var Jt=rt/8>>0;return(Q[Jt]|Q[Jt+1]<<8)>>>(rt&7)&Et},Ut=function(Q,rt){var Et=rt/8>>0;return(Q[Et]|Q[Et+1]<<8|Q[Et+2]<<16)>>>(rt&7)},fe=function(Q){return(Q/8>>0)+(Q&7&&1)},Oe=function(Q,rt,Et){(rt==null||rt<0)&&(rt=0),(Et==null||Et>Q.length)&&(Et=Q.length);var Jt=new(Q instanceof pt?pt:Q instanceof ft?ft:me)(Et-rt);return Jt.set(Q.subarray(rt,Et)),Jt},_t=function(Q,rt,Et){var Jt=Q.length,pe=!rt||Et,Ue=!Et||Et.i;Et||(Et={}),rt||(rt=new me(Jt*3));var rr=function(gr){var oe=rt.length;if(gr>oe){var Ve=new me(Math.max(oe*2,gr));Ve.set(rt),rt=Ve}},nr=Et.f||0,He=Et.p||0,Sr=Et.b||0,yr=Et.l,ln=Et.d,Qr=Et.m,Br=Et.n,xn=Jt*8;do{if(!yr){Et.f=nr=Dt(Q,He,1);var tn=Dt(Q,He+1,3);if(He+=3,tn)if(tn==1)yr=M,ln=nt,Qr=9,Br=5;else if(tn==2){var k=Dt(Q,He,31)+257,g=Dt(Q,He+10,15)+4,y=k+Dt(Q,He+5,31)+1;He+=14;for(var w=new me(y),T=new me(19),S=0;S<g;++S)T[b[S]]=Dt(Q,He+S*3,7);He+=g*3;var L=xt(T),j=(1<<L)-1;if(!Ue&&He+y*(L+7)>xn)break;for(var I=f(T,L,1),S=0;S<y;){var $=I[Dt(Q,He,j)];He+=$&15;var yn=$>>>4;if(yn<16)w[S++]=yn;else{var bt=0,vt=0;for(yn==16?(vt=3+Dt(Q,He,3),He+=2,bt=w[S-1]):yn==17?(vt=3+Dt(Q,He,7),He+=3):yn==18&&(vt=11+Dt(Q,He,127),He+=7);vt--;)w[S++]=bt}}var kt=w.subarray(0,k),X=w.subarray(k);Qr=xt(kt),Br=xt(X),yr=f(kt,Qr,1),ln=f(X,Br,1)}else throw"invalid block type";else{var yn=fe(He)+4,Yn=Q[yn-4]|Q[yn-3]<<8,Fn=yn+Yn;if(Fn>Jt){if(Ue)throw"unexpected EOF";break}pe&&rr(Sr+Yn),rt.set(Q.subarray(yn,Fn),Sr),Et.b=Sr+=Yn,Et.p=He=Fn*8;continue}if(He>xn)throw"unexpected EOF"}pe&&rr(Sr+131072);for(var Kt=(1<<Qr)-1,It=(1<<Br)-1,$t=Qr+Br+18;Ue||He+$t<xn;){var bt=yr[Ut(Q,He)&Kt],Mt=bt>>>4;if(He+=bt&15,He>xn)throw"unexpected EOF";if(!bt)throw"invalid length/literal";if(Mt<256)rt[Sr++]=Mt;else if(Mt==256){yr=null;break}else{var gt=Mt-254;if(Mt>264){var S=Mt-257,Ae=Gt[S];gt=Dt(Q,He,(1<<Ae)-1)+u[S],He+=Ae}var Be=ln[Ut(Q,He)&It],tr=Be>>>4;if(!Be)throw"invalid distance";He+=Be&15;var X=n[tr];if(tr>3){var Ae=tt[tr];X+=Ut(Q,He)&(1<<Ae)-1,He+=Ae}if(He>xn)throw"unexpected EOF";pe&&rr(Sr+131072);for(var fr=Sr+gt;Sr<fr;Sr+=4)rt[Sr]=rt[Sr-X],rt[Sr+1]=rt[Sr+1-X],rt[Sr+2]=rt[Sr+2-X],rt[Sr+3]=rt[Sr+3-X];Sr=fr}}Et.l=yr,Et.p=He,Et.b=Sr,yr&&(nr=1,Et.m=Qr,Et.d=ln,Et.n=Br)}while(!nr);return Sr==rt.length?rt:Oe(rt,0,Sr)},Vt=function(Q,rt,Et){Et<<=rt&7;var Jt=rt/8>>0;Q[Jt]|=Et,Q[Jt+1]|=Et>>>8},J=function(Q,rt,Et){Et<<=rt&7;var Jt=rt/8>>0;Q[Jt]|=Et,Q[Jt+1]|=Et>>>8,Q[Jt+2]|=Et>>>16},be=function(Q,rt){for(var Et=[],Jt=0;Jt<Q.length;++Jt)Q[Jt]&&Et.push({s:Jt,f:Q[Jt]});var pe=Et.length,Ue=Et.slice();if(!pe)return[new me(0),0];if(pe==1){var rr=new me(Et[0].s+1);return rr[Et[0].s]=1,[rr,1]}Et.sort(function(y,w){return y.f-w.f}),Et.push({s:-1,f:25001});var nr=Et[0],He=Et[1],Sr=0,yr=1,ln=2;for(Et[0]={s:-1,f:nr.f+He.f,l:nr,r:He};yr!=pe-1;)nr=Et[Et[Sr].f<Et[ln].f?Sr++:ln++],He=Et[Sr!=yr&&Et[Sr].f<Et[ln].f?Sr++:ln++],Et[yr++]={s:-1,f:nr.f+He.f,l:nr,r:He};for(var Qr=Ue[0].s,Jt=1;Jt<pe;++Jt)Ue[Jt].s>Qr&&(Qr=Ue[Jt].s);var Br=new pt(Qr+1),xn=Qe(Et[yr-1],Br,0);if(xn>rt){var Jt=0,tn=0,yn=xn-rt,Yn=1<<yn;for(Ue.sort(function(w,T){return Br[T.s]-Br[w.s]||w.f-T.f});Jt<pe;++Jt){var Fn=Ue[Jt].s;if(Br[Fn]>rt)tn+=Yn-(1<<xn-Br[Fn]),Br[Fn]=rt;else break}for(tn>>>=yn;tn>0;){var k=Ue[Jt].s;Br[k]<rt?tn-=1<<rt-Br[k]++-1:++Jt}for(;Jt>=0&&tn;--Jt){var g=Ue[Jt].s;Br[g]==rt&&(--Br[g],++tn)}xn=rt}return[new me(Br),xn]},Qe=function Rt(Q,rt,Et){return Q.s==-1?Math.max(Rt(Q.l,rt,Et+1),Rt(Q.r,rt,Et+1)):rt[Q.s]=Et},W=function(Q){for(var rt=Q.length;rt&&!Q[--rt];);for(var Et=new pt(++rt),Jt=0,pe=Q[0],Ue=1,rr=function(Sr){Et[Jt++]=Sr},nr=1;nr<=rt;++nr)if(Q[nr]==pe&&nr!=rt)++Ue;else{if(!pe&&Ue>2){for(;Ue>138;Ue-=138)rr(32754);Ue>2&&(rr(Ue>10?Ue-11<<5|28690:Ue-3<<5|12305),Ue=0)}else if(Ue>3){for(rr(pe),--Ue;Ue>6;Ue-=6)rr(8304);Ue>2&&(rr(Ue-3<<5|8208),Ue=0)}for(;Ue--;)rr(pe);Ue=1,pe=Q[nr]}return[Et.subarray(0,Jt),rt]},At=function(Q,rt){for(var Et=0,Jt=0;Jt<rt.length;++Jt)Et+=Q[Jt]*rt[Jt];return Et},V=function(Q,rt,Et){var Jt=Et.length,pe=fe(rt+2);Q[pe]=Jt&255,Q[pe+1]=Jt>>>8,Q[pe+2]=Q[pe]^255,Q[pe+3]=Q[pe+1]^255;for(var Ue=0;Ue<Jt;++Ue)Q[pe+Ue+4]=Et[Ue];return(pe+4+Jt)*8},it=function(Q,rt,Et,Jt,pe,Ue,rr,nr,He,Sr,yr){Vt(rt,yr++,Et),++pe[256];for(var ln=be(pe,15),Qr=ln[0],Br=ln[1],xn=be(Ue,15),tn=xn[0],yn=xn[1],Yn=W(Qr),Fn=Yn[0],k=Yn[1],g=W(tn),y=g[0],w=g[1],T=new pt(19),S=0;S<Fn.length;++S)T[Fn[S]&31]++;for(var S=0;S<y.length;++S)T[y[S]&31]++;for(var L=be(T,7),j=L[0],I=L[1],$=19;$>4&&!j[b[$-1]];--$);var bt=Sr+5<<3,vt=At(pe,p)+At(Ue,m)+rr,kt=At(pe,Qr)+At(Ue,tn)+rr+14+3*$+At(T,j)+(2*T[16]+3*T[17]+7*T[18]);if(bt<=vt&&bt<=kt)return V(rt,yr,Q.subarray(He,He+Sr));var X,Kt,It,$t;if(Vt(rt,yr,1+(kt<vt)),yr+=2,kt<vt){X=f(Qr,Br,0),Kt=Qr,It=f(tn,yn,0),$t=tn;var Mt=f(j,I,0);Vt(rt,yr,k-257),Vt(rt,yr+5,w-1),Vt(rt,yr+10,$-4),yr+=14;for(var S=0;S<$;++S)Vt(rt,yr+3*S,j[b[S]]);yr+=3*$;for(var gt=[Fn,y],Ae=0;Ae<2;++Ae)for(var Be=gt[Ae],S=0;S<Be.length;++S){var tr=Be[S]&31;Vt(rt,yr,Mt[tr]),yr+=j[tr],tr>15&&(Vt(rt,yr,Be[S]>>>5&127),yr+=Be[S]>>>12)}}else X=x,Kt=p,It=Y,$t=m;for(var S=0;S<nr;++S)if(Jt[S]>255){var tr=Jt[S]>>>18&31;J(rt,yr,X[tr+257]),yr+=Kt[tr+257],tr>7&&(Vt(rt,yr,Jt[S]>>>23&31),yr+=Gt[tr]);var fr=Jt[S]&31;J(rt,yr,It[fr]),yr+=$t[fr],fr>3&&(J(rt,yr,Jt[S]>>>5&8191),yr+=tt[fr])}else J(rt,yr,X[Jt[S]]),yr+=Kt[Jt[S]];return J(rt,yr,X[256]),yr+Kt[256]},et=new ft([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new me(0),K=function(Q,rt,Et,Jt,pe,Ue){var rr=Q.length,nr=new me(Jt+rr+5*(1+Math.floor(rr/7e3))+pe),He=nr.subarray(Jt,nr.length-pe),Sr=0;if(!rt||rr<8)for(var yr=0;yr<=rr;yr+=65535){var ln=yr+65535;ln<rr?Sr=V(He,Sr,Q.subarray(yr,ln)):(He[yr]=Ue,Sr=V(He,Sr,Q.subarray(yr,rr)))}else{for(var Qr=et[rt-1],Br=Qr>>>13,xn=Qr&8191,tn=(1<<Et)-1,yn=new pt(32768),Yn=new pt(tn+1),Fn=Math.ceil(Et/3),k=2*Fn,g=function(Ze){return(Q[Ze]^Q[Ze+1]<<Fn^Q[Ze+2]<<k)&tn},y=new ft(25e3),w=new pt(288),T=new pt(32),S=0,L=0,yr=0,j=0,I=0,$=0;yr<rr;++yr){var bt=g(yr),vt=yr&32767,kt=Yn[bt];if(yn[vt]=kt,Yn[bt]=vt,I<=yr){var X=rr-yr;if((S>7e3||j>24576)&&X>423){Sr=it(Q,He,0,y,w,T,L,j,$,yr-$,Sr),j=S=L=0,$=yr;for(var Kt=0;Kt<286;++Kt)w[Kt]=0;for(var Kt=0;Kt<30;++Kt)T[Kt]=0}var It=2,$t=0,Mt=xn,gt=vt-kt&32767;if(X>2&&bt==g(yr-gt))for(var Ae=Math.min(Br,X)-1,Be=Math.min(32767,yr),tr=Math.min(258,X);gt<=Be&&--Mt&&vt!=kt;){if(Q[yr+It]==Q[yr+It-gt]){for(var fr=0;fr<tr&&Q[yr+fr]==Q[yr+fr-gt];++fr);if(fr>It){if(It=fr,$t=gt,fr>Ae)break;for(var Ge=Math.min(gt,fr-2),gr=0,Kt=0;Kt<Ge;++Kt){var oe=yr-gt+Kt+32768&32767,Ve=yn[oe],ie=oe-Ve+32768&32767;ie>gr&&(gr=ie,kt=oe)}}}vt=kt,kt=yn[vt],gt+=vt-kt+32768&32767}if($t){y[j++]=268435456|o[It]<<18|t[$t];var zt=o[It]&31,se=t[$t]&31;L+=Gt[zt]+tt[se],++w[257+zt],++T[se],I=yr+It,++S}else y[j++]=Q[yr],++w[Q[yr]]}}Sr=it(Q,He,Ue,y,w,T,L,j,$,yr-$,Sr),Ue||(Sr=V(He,Sr,F))}return Oe(nr,0,Jt+fe(Sr)+pe)},ht=function(){for(var Rt=new ft(256),Q=0;Q<256;++Q){for(var rt=Q,Et=9;--Et;)rt=(rt&1&&3988292384)^rt>>>1;Rt[Q]=rt}return Rt}(),dt=function(){var Q=4294967295;return{p:function(Et){for(var Jt=Q,pe=0;pe<Et.length;++pe)Jt=ht[Jt&255^Et[pe]]^Jt>>>8;Q=Jt},d:function(){return Q^4294967295}}},Wt=function(){var Q=1,rt=0;return{p:function(Jt){for(var pe=Q,Ue=rt,rr=Jt.length,nr=0;nr!=rr;){for(var He=Math.min(nr+5552,rr);nr<He;++nr)pe+=Jt[nr],Ue+=pe;pe%=65521,Ue%=65521}Q=pe,rt=Ue},d:function(){return(Q>>>8<<16|(rt&255)<<8|rt>>>8)+((Q&255)<<23)*2}}},Tt=function(Q,rt,Et,Jt,pe){return K(Q,rt.level==null?6:rt.level,rt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(Q.length)))*1.5):12+rt.mem,Et,Jt,!pe)},jt=function(Q,rt){var Et={};for(var Jt in Q)Et[Jt]=Q[Jt];for(var Jt in rt)Et[Jt]=rt[Jt];return Et},ce=function(Q,rt,Et){for(var Jt=Q(),pe=Q.toString(),Ue=pe.slice(pe.indexOf("[")+1,pe.lastIndexOf("]")).replace(/ /g,"").split(","),rr=0;rr<Jt.length;++rr){var nr=Jt[rr],He=Ue[rr];if(typeof nr=="function"){rt+=";"+He+"=";var Sr=nr.toString();if(nr.prototype)if(Sr.indexOf("[native code]")!=-1){var yr=Sr.indexOf(" ",8)+1;rt+=Sr.slice(yr,Sr.indexOf("(",yr))}else{rt+=Sr;for(var ln in nr.prototype)rt+=";"+He+".prototype."+ln+"="+nr.prototype[ln].toString()}else rt+=Sr}else Et[He]=nr}return[rt,Et]},ve=[],re=function(Q){var rt=[];for(var Et in Q)(Q[Et]instanceof me||Q[Et]instanceof pt||Q[Et]instanceof ft)&&rt.push((Q[Et]=new Q[Et].constructor(Q[Et])).buffer);return rt},Yt=function(Q,rt,Et,Jt){var pe;if(!ve[Et]){for(var Ue="",rr={},nr=Q.length-1,He=0;He<nr;++He)pe=ce(Q[He],Ue,rr),Ue=pe[0],rr=pe[1];ve[Et]=ce(Q[nr],Ue,rr)}var Sr=jt({},ve[Et][1]);return O(ve[Et][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+rt.toString()+"}",Et,Sr,re(Sr),Jt)},de=function(){return[me,pt,ft,Gt,tt,b,u,n,M,nt,a,f,xt,Dt,Ut,fe,Oe,_t,Ki,q,at]},N=function(){return[me,pt,ft,Gt,tt,b,o,t,x,p,Y,m,a,et,F,f,Vt,J,be,Qe,W,At,V,it,fe,Oe,K,Tt,ki,q]},Bt=function(){return[xr,fn,Ke,dt,ht]},U=function(){return[Or,Jr]},C=function(){return[En,Ke,Wt]},A=function(){return[ri]},q=function(Q){return postMessage(Q,[Q.buffer])},at=function(Q){return Q&&Q.size&&new me(Q.size)},Ot=function(Q,rt,Et,Jt,pe,Ue){var rr=Yt(Et,Jt,pe,function(nr,He){rr.terminate(),Ue(nr,He)});return rt.consume||(Q=new me(Q)),rr.postMessage([Q,rt],[Q.buffer]),function(){rr.terminate()}},St=function(Q){return Q.ondata=function(rt,Et){return postMessage([rt,Et],[rt.buffer])},function(rt){return Q.push(rt.data[0],rt.data[1])}},xe=function(Q,rt,Et,Jt,pe){var Ue,rr=Yt(Q,Jt,pe,function(nr,He){nr?(rr.terminate(),rt.ondata.call(rt,nr)):(He[1]&&rr.terminate(),rt.ondata.call(rt,nr,He[0],He[1]))});rr.postMessage(Et),rt.push=function(nr,He){if(Ue)throw"stream finished";if(!rt.ondata)throw"no stream handler";rr.postMessage([nr,Ue=He],[nr.buffer])},rt.terminate=function(){rr.terminate()}},Ne=function(Q,rt){return Q[rt]|Q[rt+1]<<8},we=function(Q,rt){return(Q[rt]|Q[rt+1]<<8|Q[rt+2]<<16)+(Q[rt+3]<<23)*2},Ke=function(Q,rt,Et){for(;Et;++rt)Q[rt]=Et,Et>>>=8},xr=function(Q,rt){var Et=rt.filename;if(Q[0]=31,Q[1]=139,Q[2]=8,Q[8]=rt.level<2?4:rt.level==9?2:0,Q[9]=3,rt.mtime!=0&&Ke(Q,4,Math.floor(new Date(rt.mtime||Date.now())/1e3)),Et){Q[3]=8;for(var Jt=0;Jt<=Et.length;++Jt)Q[Jt+10]=Et.charCodeAt(Jt)}},Or=function(Q){if(Q[0]!=31||Q[1]!=139||Q[2]!=8)throw"invalid gzip data";var rt=Q[3],Et=10;rt&4&&(Et+=Q[10]|(Q[11]<<8)+2);for(var Jt=(rt>>3&1)+(rt>>4&1);Jt>0;Jt-=!Q[Et++]);return Et+(rt&2)},Jr=function(Q){var rt=Q.length;return(Q[rt-4]|Q[rt-3]<<8|Q[rt-2]<<16)+2*(Q[rt-1]<<23)},fn=function(Q){return 10+(Q.filename&&Q.filename.length+1||0)},En=function(Q,rt){var Et=rt.level,Jt=Et==0?0:Et<6?1:Et==9?3:2;Q[0]=120,Q[1]=Jt<<6|(Jt?32-2*Jt:1)},ri=function(Q){if((Q[0]&15)!=8||Q[0]>>>4>7||(Q[0]<<8|Q[1])%31)throw"invalid zlib data";if(Q[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Yr(Rt,Q){return!Q&&typeof Rt=="function"&&(Q=Rt,Rt={}),this.ondata=Q,Rt}var zn=function(){function Rt(Q,rt){!rt&&typeof Q=="function"&&(rt=Q,Q={}),this.ondata=rt,this.o=Q||{}}return Rt.prototype.p=function(Q,rt){this.ondata(Tt(Q,this.o,0,0,!rt),rt)},Rt.prototype.push=function(Q,rt){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=rt,this.p(Q,rt||!1)},Rt}(),pi=function(){function Rt(Q,rt){xe([N,function(){return[St,zn]}],this,Yr.call(this,Q,rt),function(Et){var Jt=new zn(Et.data);onmessage=St(Jt)},6)}return Rt}();function Jn(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Ot(Rt,Q,[N],function(Et){return q(ki(Et.data[0],Et.data[1]))},0,rt)}function ki(Rt,Q){return Q===void 0&&(Q={}),Tt(Rt,Q,0,0)}var ni=function(){function Rt(Q){this.s={},this.p=new me(0),this.ondata=Q}return Rt.prototype.e=function(Q){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var rt=this.p.length,Et=new me(rt+Q.length);Et.set(this.p),Et.set(Q,rt),this.p=Et},Rt.prototype.c=function(Q){this.d=this.s.i=Q||!1;var rt=this.s.b,Et=_t(this.p,this.o,this.s);this.ondata(Oe(Et,rt,this.s.b),this.d),this.o=Oe(Et,this.s.b-32768),this.s.b=this.o.length,this.p=Oe(this.p,this.s.p/8>>0),this.s.p&=7},Rt.prototype.push=function(Q,rt){this.e(Q),this.c(rt)},Rt}(),Ia=function(){function Rt(Q){this.ondata=Q,xe([de,function(){return[St,ni]}],this,0,function(){var rt=new ni;onmessage=St(rt)},7)}return Rt}();function Mr(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Ot(Rt,Q,[de],function(Et){return q(Ki(Et.data[0],at(Et.data[1])))},1,rt)}function Ki(Rt,Q){return _t(Rt,Q)}var va=function(){function Rt(Q,rt){this.c=dt(),this.l=0,this.v=1,zn.call(this,Q,rt)}return Rt.prototype.push=function(Q,rt){zn.prototype.push.call(this,Q,rt)},Rt.prototype.p=function(Q,rt){this.c.p(Q),this.l+=Q.length;var Et=Tt(Q,this.o,this.v&&fn(this.o),rt&&8,!rt);this.v&&(xr(Et,this.o),this.v=0),rt&&(Ke(Et,Et.length-8,this.c.d()),Ke(Et,Et.length-4,this.l)),this.ondata(Et,rt)},Rt}(),ya=function(){function Rt(Q,rt){xe([N,Bt,function(){return[St,zn,va]}],this,Yr.call(this,Q,rt),function(Et){var Jt=new va(Et.data);onmessage=St(Jt)},8)}return Rt}();function $o(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Ot(Rt,Q,[N,Bt,function(){return[Qs]}],function(Et){return q(Qs(Et.data[0],Et.data[1]))},2,rt)}function Qs(Rt,Q){Q===void 0&&(Q={});var rt=dt(),Et=Rt.length;rt.p(Rt);var Jt=Tt(Rt,Q,fn(Q),8),pe=Jt.length;return xr(Jt,Q),Ke(Jt,pe-8,rt.d()),Ke(Jt,pe-4,Et),Jt}var Va=function(){function Rt(Q){this.v=1,ni.call(this,Q)}return Rt.prototype.push=function(Q,rt){if(ni.prototype.e.call(this,Q),this.v){var Et=Or(this.p);if(Et>=this.p.length&&!rt)return;this.p=this.p.subarray(Et),this.v=0}if(rt){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}ni.prototype.c.call(this,rt)},Rt}(),Co=function(){function Rt(Q){this.ondata=Q,xe([de,U,function(){return[St,ni,Va]}],this,0,function(){var rt=new Va;onmessage=St(rt)},9)}return Rt}();function Ao(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Ot(Rt,Q,[de,U,function(){return[hs]}],function(Et){return q(hs(Et.data[0]))},3,rt)}function hs(Rt,Q){return _t(Rt.subarray(Or(Rt),-8),Q||new me(Jr(Rt)))}var cs=function(){function Rt(Q,rt){this.c=Wt(),this.v=1,zn.call(this,Q,rt)}return Rt.prototype.push=function(Q,rt){zn.prototype.push.call(this,Q,rt)},Rt.prototype.p=function(Q,rt){this.c.p(Q);var Et=Tt(Q,this.o,this.v&&2,rt&&4,!rt);this.v&&(En(Et,this.o),this.v=0),rt&&Ke(Et,Et.length-4,this.c.d()),this.ondata(Et,rt)},Rt}(),Ll=function(){function Rt(Q,rt){xe([N,C,function(){return[St,zn,cs]}],this,Yr.call(this,Q,rt),function(Et){var Jt=new cs(Et.data);onmessage=St(Jt)},10)}return Rt}();function to(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Ot(Rt,Q,[N,C,function(){return[ks]}],function(Et){return q(ks(Et.data[0],Et.data[1]))},4,rt)}function ks(Rt,Q){Q===void 0&&(Q={});var rt=Wt();rt.p(Rt);var Et=Tt(Rt,Q,2,4);return En(Et,Q),Ke(Et,Et.length-4,rt.d()),Et}var Es=function(){function Rt(Q){this.v=1,ni.call(this,Q)}return Rt.prototype.push=function(Q,rt){if(ni.prototype.e.call(this,Q),this.v){if(this.p.length<2&&!rt)return;this.p=this.p.subarray(2),this.v=0}if(rt){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}ni.prototype.c.call(this,rt)},Rt}(),To=function(){function Rt(Q){this.ondata=Q,xe([de,A,function(){return[St,ni,Es]}],this,0,function(){var rt=new Es;onmessage=St(rt)},11)}return Rt}();function Qo(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Ot(Rt,Q,[de,A,function(){return[Fs]}],function(Et){return q(Fs(Et.data[0],at(Et.data[1])))},5,rt)}function Fs(Rt,Q){return _t((ri(Rt),Rt.subarray(2,-4)),Q)}var Xa=function(){function Rt(Q){this.G=Va,this.I=ni,this.Z=Es,this.ondata=Q}return Rt.prototype.push=function(Q,rt){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(Q,rt);else{if(this.p&&this.p.length){var Et=new me(this.p.length+Q.length);Et.set(this.p),Et.set(Q,this.p.length)}else this.p=Q;if(this.p.length>2){var Jt=this,pe=function(){Jt.ondata.apply(Jt,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(pe):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(pe):new this.Z(pe),this.s.push(this.p,rt),this.p=null}}},Rt}(),tl=function(){function Rt(Q){this.G=Co,this.I=Ia,this.Z=To,this.ondata=Q}return Rt.prototype.push=function(Q,rt){Xa.prototype.push.call(this,Q,rt)},Rt}();function el(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";return Rt[0]==31&&Rt[1]==139&&Rt[2]==8?Ao(Rt,Q,rt):(Rt[0]&15)!=8||Rt[0]>>4>7||(Rt[0]<<8|Rt[1])%31?Mr(Rt,Q,rt):Qo(Rt,Q,rt)}function Z(Rt,Q){return Rt[0]==31&&Rt[1]==139&&Rt[2]==8?hs(Rt,Q):(Rt[0]&15)!=8||Rt[0]>>4>7||(Rt[0]<<8|Rt[1])%31?Ki(Rt,Q):Fs(Rt,Q)}var B=function Rt(Q,rt,Et,Jt){for(var pe in Q){var Ue=Q[pe],rr=rt+pe;Ue instanceof me?Et[rr]=[Ue,Jt]:Array.isArray(Ue)?Et[rr]=[Ue[0],jt(Jt,Ue[1])]:Rt(Ue,rr+"/",Et,Jt)}};function P(Rt,Q){var rt=Rt.length;if(!Q&&typeof TextEncoder!="undefined")return new TextEncoder().encode(Rt);for(var Et=new me(Rt.length+(Rt.length>>>1)),Jt=0,pe=function(Sr){Et[Jt++]=Sr},Ue=0;Ue<rt;++Ue){if(Jt+5>Et.length){var rr=new me(Jt+8+(rt-Ue<<1));rr.set(Et),Et=rr}var nr=Rt.charCodeAt(Ue);nr<128||Q?pe(nr):nr<2048?(pe(192|nr>>>6),pe(128|nr&63)):nr>55295&&nr<57344?(nr=65536+(nr&1023<<10)|Rt.charCodeAt(++Ue)&1023,pe(240|nr>>>18),pe(128|nr>>>12&63),pe(128|nr>>>6&63),pe(128|nr&63)):(pe(224|nr>>>12),pe(128|nr>>>6&63),pe(128|nr&63))}return Oe(Et,0,Jt)}function G(Rt,Q){var rt="";if(!Q&&typeof TextDecoder!="undefined")return new TextDecoder().decode(Rt);for(var Et=0;Et<Rt.length;){var Jt=Rt[Et++];Jt<128||Q?rt+=String.fromCharCode(Jt):Jt<224?rt+=String.fromCharCode((Jt&31)<<6|Rt[Et++]&63):Jt<240?rt+=String.fromCharCode((Jt&15)<<12|(Rt[Et++]&63)<<6|Rt[Et++]&63):(Jt=((Jt&15)<<18|(Rt[Et++]&63)<<12|(Rt[Et++]&63)<<6|Rt[Et++]&63)-65536,rt+=String.fromCharCode(55296|Jt>>10,56320|Jt&1023))}return rt}var st=function(Q,rt){return rt+30+Ne(Q,rt+26)+Ne(Q,rt+28)},Lt=function(Q,rt,Et){var Jt=Ne(Q,rt+28),pe=G(Q.subarray(rt+46,rt+46+Jt),!(Ne(Q,rt+8)&2048)),Ue=rt+46+Jt,rr=Et?Ht(Q,Ue):[we(Q,rt+20),we(Q,rt+24),we(Q,rt+42)],nr=rr[0],He=rr[1],Sr=rr[2];return[Ne(Q,rt+10),nr,He,pe,Ue+Ne(Q,rt+30)+Ne(Q,rt+32),Sr]},Ht=function(Q,rt){for(;Ne(Q,rt)!=1;rt+=4+Ne(Q,rt+2));return[we(Q,rt+12),we(Q,rt+4),we(Q,rt+20)]},Xt=function(Q,rt,Et,Jt,pe,Ue,rr,nr,He,Sr){var yr=Ue.length,ln=Jt.length;Ke(Q,rt,He!=null?33639248:67324752),rt+=4,He!=null&&(Q[rt]=20,rt+=2),Q[rt]=20,rt+=2,Q[rt++]=Sr==8&&(nr.level==1?6:nr.level<6?4:nr.level==9?2:0),Q[rt++]=rr&&8,Q[rt]=Sr,rt+=2;var Qr=new Date(nr.mtime||Date.now()),Br=Qr.getFullYear()-1980;if(Br<0||Br>119)throw"date not in range 1980-2099";Ke(Q,rt,(Br<<24)*2|Qr.getMonth()+1<<21|Qr.getDate()<<16|Qr.getHours()<<11|Qr.getMinutes()<<5|Qr.getSeconds()>>>1),rt+=4,Ke(Q,rt,Et),Ke(Q,rt+4,ln),Ke(Q,rt+8,pe),Ke(Q,rt+12,yr),rt+=16,He!=null&&(Ke(Q,rt+=10,He),rt+=4),Q.set(Ue,rt),rt+=yr,He==null&&Q.set(Jt,rt)},ye=function(Q,rt,Et,Jt,pe){Ke(Q,rt,101010256),Ke(Q,rt+8,Et),Ke(Q,rt+10,Et),Ke(Q,rt+12,Jt),Ke(Q,rt+16,pe)};function Me(Rt,Q,rt){if(rt||(rt=Q,Q={}),typeof rt!="function")throw"no callback";var Et={};B(Rt,"",Et,Q);var Jt=Object.keys(Et),pe=Jt.length,Ue=0,rr=0,nr=pe,He=new Array(pe),Sr=[],yr=function(){for(var tn=0;tn<Sr.length;++tn)Sr[tn]()},ln=function(){var tn=new me(rr+22),yn=Ue,Yn=rr-Ue;rr=0;for(var Fn=0;Fn<nr;++Fn){var k=He[Fn];try{Xt(tn,rr,k.c,k.d,k.m,k.n,k.u,k.p,null,k.t),Xt(tn,Ue,k.c,k.d,k.m,k.n,k.u,k.p,rr,k.t),Ue+=46+k.n.length,rr+=30+k.n.length+k.d.length}catch(g){return rt(g,null)}}ye(tn,Ue,He.length,Yn,yn),rt(null,tn)};pe||ln();for(var Qr=function(tn){var yn=Jt[tn],Yn=Et[yn],Fn=Yn[0],k=Yn[1],g=dt(),y=Fn.length;g.p(Fn);var w=P(yn),T=w.length,S=k.level==0?0:8,L=function(I,$){if(I)yr(),rt(I,null);else{var bt=$.length;He[tn]={t:S,d:$,m:y,c:g.d(),u:yn.length!=bt,n:w,p:k},Ue+=30+T+bt,rr+=76+2*T+bt,--pe||ln()}};if(w.length>65535&&L("filename too long",null),!S)L(null,Fn);else if(y<16e4)try{L(null,ki(Fn,k))}catch(j){L(j,null)}else Sr.push(Jn(Fn,k,L))},Br=0;Br<nr;++Br)Qr(Br);return yr}function ne(Rt,Q){Q===void 0&&(Q={});var rt={},Et=[];B(Rt,"",rt,Q);var Jt=0,pe=0;for(var Ue in rt){var rr=rt[Ue],nr=rr[0],He=rr[1],Sr=He.level==0?0:8,yr=P(Ue),ln=yr.length;if(yr.length>65535)throw"filename too long";var Qr=Sr?ki(nr,He):nr,Br=Qr.length,xn=dt();xn.p(nr),Et.push({t:Sr,d:Qr,m:nr.length,c:xn.d(),u:Ue.length!=ln,n:yr,o:Jt,p:He}),Jt+=30+ln+Br,pe+=76+2*ln+Br}for(var tn=new me(pe+22),yn=Jt,Yn=pe-Jt,Fn=0;Fn<Et.length;++Fn){var k=Et[Fn];Xt(tn,k.o,k.c,k.d,k.m,k.n,k.u,k.p,null,k.t),Xt(tn,Jt,k.c,k.d,k.m,k.n,k.u,k.p,k.o,k.t),Jt+=46+k.n.length}return ye(tn,Jt,Et.length,Yn,yn),tn}function je(Rt,Q){if(typeof Q!="function")throw"no callback";for(var rt=[],Et=function(){for(var Qr=0;Qr<rt.length;++Qr)rt[Qr]()},Jt={},pe=Rt.length-22;we(Rt,pe)!=101010256;--pe)if(!pe||Rt.length-pe>65558){Q("invalid zip file",null);return}var Ue=Ne(Rt,pe+8);Ue||Q(null,{});var rr=Ue,nr=we(Rt,pe+16),He=nr==4294967295;if(He){if(pe=we(Rt,pe-12),we(Rt,pe)!=101075792)throw"invalid zip file";rr=Ue=we(Rt,pe+32),nr=we(Rt,pe+48)}for(var Sr=function(Qr){var Br=Lt(Rt,nr,He),xn=Br[0],tn=Br[1],yn=Br[2],Yn=Br[3],Fn=Br[4],k=Br[5],g=st(Rt,k);nr=Fn;var y=function(S,L){S?(Et(),Q(S,null)):(Jt[Yn]=L,--Ue||Q(null,Jt))};if(!xn)y(null,Oe(Rt,g,g+tn));else if(xn==8){var w=Rt.subarray(g,g+tn);if(tn<32e4)try{y(null,Ki(w,new me(yn)))}catch(T){y(T,null)}else rt.push(Mr(w,{size:yn},y))}else y("unknown compression type "+xn,null)},yr=0;yr<rr;++yr)Sr(yr);return Et}function jr(Rt){for(var Q={},rt=Rt.length-22;we(Rt,rt)!=101010256;--rt)if(!rt||Rt.length-rt>65558)throw"invalid zip file";var Et=Ne(Rt,rt+8);if(!Et)return{};var Jt=we(Rt,rt+16),pe=Jt==4294967295;if(pe){if(rt=we(Rt,rt-12),we(Rt,rt)!=101075792)throw"invalid zip file";Et=we(Rt,rt+32),Jt=we(Rt,rt+48)}for(var Ue=0;Ue<Et;++Ue){var rr=Lt(Rt,Jt,pe),nr=rr[0],He=rr[1],Sr=rr[2],yr=rr[3],ln=rr[4],Qr=rr[5],Br=st(Rt,Qr);if(Jt=ln,!nr)Q[yr]=Oe(Rt,Br,Br+He);else if(nr==8)Q[yr]=Ki(Rt.subarray(Br,Br+He),new me(Sr));else throw"unknown compression type "+nr}return Q}},epSk:function(un,_r,De){(function(Xe){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var O=O||{version:"5.2.1"};if(_r.fabric=O,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?O.document=document:O.document=document.implementation.createHTMLDocument(""),O.window=window;else{var me=De(2),pt=new me.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;O.document=pt.document,O.jsdomImplForWrapper=De(3).implForWrapper,O.nodeCanvas=De(4).Canvas,O.window=pt,DOMParser=O.window.DOMParser}O.isTouchSupported="ontouchstart"in O.window||"ontouchstart"in O.document||O.window&&O.window.navigator&&O.window.navigator.maxTouchPoints>0,O.isLikelyNode=typeof Xe!="undefined"&&typeof window=="undefined",O.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],O.DPI=96,O.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",O.commaWsp="(?:\\s+,?\\s*|,\\s*)",O.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,O.reNonWord=/[ \n\.,;!\?\-]/,O.fontPaths={},O.iMatrix=[1,0,0,1,0,0],O.svgNS="http://www.w3.org/2000/svg",O.perfLimitSizeTotal=2097152,O.maxCacheSideLimit=4096,O.minCacheSideLimit=256,O.charWidthsCache={},O.textureSize=2048,O.disableStyleCopyPaste=!1,O.enableGLFiltering=!0,O.devicePixelRatio=O.window.devicePixelRatio||O.window.webkitDevicePixelRatio||O.window.mozDevicePixelRatio||1,O.browserShadowBlurConstant=1,O.arcToSegmentsCache={},O.boundsOfCurveCache={},O.cachesBoundsOfCurve=!0,O.forceGLPutImageData=!1,O.initFilterBackend=function(){if(O.enableGLFiltering&&O.isWebglSupported&&O.isWebglSupported(O.textureSize))return console.log("max texture size: "+O.maxTextureSize),new O.WebglFilterBackend({tileSize:O.textureSize});if(O.Canvas2dFilterBackend)return new O.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=O),function(){function b(n,t){if(!!this.__eventListeners[n]){var a=this.__eventListeners[n];t?a[a.indexOf(t)]=!1:O.util.array.fill(a,!1)}}function s(n,t){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var a in n)this.on(a,n[a]);else this.__eventListeners[n]||(this.__eventListeners[n]=[]),this.__eventListeners[n].push(t);return this}function h(n,t){var a=function(){t.apply(this,arguments),this.off(n,a)}.bind(this);this.on(n,a)}function u(n,t){if(arguments.length===1)for(var a in n)h.call(this,a,n[a]);else h.call(this,n,t);return this}function o(n,t){if(!this.__eventListeners)return this;if(arguments.length===0)for(n in this.__eventListeners)b.call(this,n);else if(arguments.length===1&&typeof arguments[0]=="object")for(var a in n)b.call(this,a,n[a]);else b.call(this,n,t);return this}function e(n,t){if(!this.__eventListeners)return this;var a=this.__eventListeners[n];if(!a)return this;for(var l=0,i=a.length;l<i;l++)a[l]&&a[l].call(this,t||{});return this.__eventListeners[n]=a.filter(function(f){return f!==!1}),this}O.Observable={fire:e,on:s,once:u,off:o}}(),O.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var s=0,h=arguments.length;s<h;s++)this._onObjectAdded(arguments[s]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(s,h,u){var o=this._objects;return u?o[h]=s:o.splice(h,0,s),this._onObjectAdded&&this._onObjectAdded(s),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var s=this._objects,h,u=!1,o=0,e=arguments.length;o<e;o++)h=s.indexOf(arguments[o]),h!==-1&&(u=!0,s.splice(h,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[o]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(s,h){for(var u=this.getObjects(),o=0,e=u.length;o<e;o++)s.call(h,u[o],o,u);return this},getObjects:function(s){return typeof s=="undefined"?this._objects.concat():this._objects.filter(function(h){return h.type===s})},item:function(s){return this._objects[s]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(s,h){return this._objects.indexOf(s)>-1?!0:h?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(s,!0)}):!1},complexity:function(){return this._objects.reduce(function(s,h){return s+=h.complexity?h.complexity():0,s},0)}},O.CommonMethods={_setOptions:function(s){for(var h in s)this.set(h,s[h])},_initGradient:function(s,h){s&&s.colorStops&&!(s instanceof O.Gradient)&&this.set(h,new O.Gradient(s))},_initPattern:function(s,h,u){s&&s.source&&!(s instanceof O.Pattern)?this.set(h,new O.Pattern(s,u)):u&&u()},_setObject:function(s){for(var h in s)this._set(h,s[h])},set:function(s,h){return typeof s=="object"?this._setObject(s):this._set(s,h),this},_set:function(s,h){this[s]=h},toggle:function(s){var h=this.get(s);return typeof h=="boolean"&&this.set(s,!h),this},get:function(s){return this[s]}},function(b){var s=Math.sqrt,h=Math.atan2,u=Math.pow,o=Math.PI/180,e=Math.PI/2;O.util={cos:function(t){if(t===0)return 1;t<0&&(t=-t);var a=t/e;switch(a){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(t===0)return 0;var a=t/e,l=1;switch(t<0&&(l=-1),a){case 1:return l;case 2:return 0;case 3:return-l}return Math.sin(t)},removeFromArray:function(t,a){var l=t.indexOf(a);return l!==-1&&t.splice(l,1),t},getRandomInt:function(t,a){return Math.floor(Math.random()*(a-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,a,l){var i=new O.Point(t.x-a.x,t.y-a.y),f=O.util.rotateVector(i,l);return new O.Point(f.x,f.y).addEquals(a)},rotateVector:function(t,a){var l=O.util.sin(a),i=O.util.cos(a),f=t.x*i-t.y*l,p=t.x*l+t.y*i;return{x:f,y:p}},createVector:function(t,a){return new O.Point(a.x-t.x,a.y-t.y)},calcAngleBetweenVectors:function(t,a){return Math.acos((t.x*a.x+t.y*a.y)/(Math.hypot(t.x,t.y)*Math.hypot(a.x,a.y)))},getHatVector:function(t){return new O.Point(t.x,t.y).multiply(1/Math.hypot(t.x,t.y))},getBisector:function(t,a,l){var i=O.util.createVector(t,a),f=O.util.createVector(t,l),p=O.util.calcAngleBetweenVectors(i,f),m=O.util.calcAngleBetweenVectors(O.util.rotateVector(i,p),f),x=p*(m===0?1:-1)/2;return{vector:O.util.getHatVector(O.util.rotateVector(i,x)),angle:p}},projectStrokeOnPoints:function(t,a,l){var i=[],f=a.strokeWidth/2,p=a.strokeUniform?new O.Point(1/a.scaleX,1/a.scaleY):new O.Point(1,1),m=function(M){var Y=f/Math.hypot(M.x,M.y);return new O.Point(M.x*Y*p.x,M.y*Y*p.y)};return t.length<=1||t.forEach(function(x,M){var Y=new O.Point(x.x,x.y),nt,xt;M===0?(xt=t[M+1],nt=l?m(O.util.createVector(xt,Y)).addEquals(Y):t[t.length-1]):M===t.length-1?(nt=t[M-1],xt=l?m(O.util.createVector(nt,Y)).addEquals(Y):t[0]):(nt=t[M-1],xt=t[M+1]);var Dt=O.util.getBisector(Y,nt,xt),Ut=Dt.vector,fe=Dt.angle,Oe,_t;if(a.strokeLineJoin==="miter"&&(Oe=-f/Math.sin(fe/2),_t=new O.Point(Ut.x*Oe*p.x,Ut.y*Oe*p.y),Math.hypot(_t.x,_t.y)/f<=a.strokeMiterLimit)){i.push(Y.add(_t)),i.push(Y.subtract(_t));return}Oe=-f*Math.SQRT2,_t=new O.Point(Ut.x*Oe*p.x,Ut.y*Oe*p.y),i.push(Y.add(_t)),i.push(Y.subtract(_t))}),i},transformPoint:function(t,a,l){return l?new O.Point(a[0]*t.x+a[2]*t.y,a[1]*t.x+a[3]*t.y):new O.Point(a[0]*t.x+a[2]*t.y+a[4],a[1]*t.x+a[3]*t.y+a[5])},makeBoundingBoxFromPoints:function(t,a){if(a)for(var l=0;l<t.length;l++)t[l]=O.util.transformPoint(t[l],a);var i=[t[0].x,t[1].x,t[2].x,t[3].x],f=O.util.array.min(i),p=O.util.array.max(i),m=p-f,x=[t[0].y,t[1].y,t[2].y,t[3].y],M=O.util.array.min(x),Y=O.util.array.max(x),nt=Y-M;return{left:f,top:M,width:m,height:nt}},invertTransform:function(t){var a=1/(t[0]*t[3]-t[1]*t[2]),l=[a*t[3],-a*t[1],-a*t[2],a*t[0]],i=O.util.transformPoint({x:t[4],y:t[5]},l,!0);return l[4]=-i.x,l[5]=-i.y,l},toFixed:function(t,a){return parseFloat(Number(t).toFixed(a))},parseUnit:function(t,a){var l=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(a||(a=O.Text.DEFAULT_SVG_FONT_SIZE),l[0]){case"mm":return i*O.DPI/25.4;case"cm":return i*O.DPI/2.54;case"in":return i*O.DPI;case"pt":return i*O.DPI/72;case"pc":return i*O.DPI/72*12;case"em":return i*a;default:return i}},falseFunction:function(){return!1},getKlass:function(t,a){return t=O.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),O.util.resolveNamespace(a)[t]},getSvgAttributes:function(t){var a=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":a=a.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":a=a.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":a=a.concat(["offset","stop-color","stop-opacity"]);break}return a},resolveNamespace:function(t){if(!t)return O;var a=t.split("."),l=a.length,i,f=b||O.window;for(i=0;i<l;++i)f=f[a[i]];return f},loadImage:function(t,a,l,i){if(!t){a&&a.call(l,t);return}var f=O.util.createImage(),p=function(){a&&a.call(l,f,!1),f=f.onload=f.onerror=null};f.onload=p,f.onerror=function(){O.log("Error loading "+f.src),a&&a.call(l,null,!0),f=f.onload=f.onerror=null},t.indexOf("data")!==0&&i!==void 0&&i!==null&&(f.crossOrigin=i),t.substring(0,14)==="data:image/svg"&&(f.onload=null,O.util.loadImageInDom(f,p)),f.src=t},loadImageInDom:function(t,a){var l=O.document.createElement("div");l.style.width=l.style.height="1px",l.style.left=l.style.top="-100%",l.style.position="absolute",l.appendChild(t),O.document.querySelector("body").appendChild(l),t.onload=function(){a(),l.parentNode.removeChild(l),l=null}},enlivenObjects:function(t,a,l,i){t=t||[];var f=[],p=0,m=t.length;function x(){++p===m&&a&&a(f.filter(function(M){return M}))}if(!m){a&&a(f);return}t.forEach(function(M,Y){if(!M||!M.type){x();return}var nt=O.util.getKlass(M.type,l);nt.fromObject(M,function(xt,Dt){Dt||(f[Y]=xt),i&&i(M,xt,Dt),x()})})},enlivenObjectEnlivables:function(t,a,l){var i=O.Object.ENLIVEN_PROPS.filter(function(f){return!!t[f]});O.util.enlivenObjects(i.map(function(f){return t[f]}),function(f){var p={};i.forEach(function(m,x){p[m]=f[x],a&&(a[m]=f[x])}),l&&l(p)})},enlivenPatterns:function(t,a){t=t||[];function l(){++f===p&&a&&a(i)}var i=[],f=0,p=t.length;if(!p){a&&a(i);return}t.forEach(function(m,x){m&&m.source?new O.Pattern(m,function(M){i[x]=M,l()}):(i[x]=m,l())})},groupSVGElements:function(t,a,l){var i;return t&&t.length===1?t[0]:(a&&(a.width&&a.height?a.centerPoint={x:a.width/2,y:a.height/2}:(delete a.width,delete a.height)),i=new O.Group(t,a),typeof l!="undefined"&&(i.sourcePath=l),i)},populateWithProperties:function(t,a,l){if(l&&Array.isArray(l))for(var i=0,f=l.length;i<f;i++)l[i]in t&&(a[l[i]]=t[l[i]])},createCanvasElement:function(){return O.document.createElement("canvas")},copyCanvasElement:function(t){var a=O.util.createCanvasElement();return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0),a},toDataURL:function(t,a,l){return t.toDataURL("image/"+a,l)},createImage:function(){return O.document.createElement("img")},multiplyTransformMatrices:function(t,a,l){return[t[0]*a[0]+t[2]*a[1],t[1]*a[0]+t[3]*a[1],t[0]*a[2]+t[2]*a[3],t[1]*a[2]+t[3]*a[3],l?0:t[0]*a[4]+t[2]*a[5]+t[4],l?0:t[1]*a[4]+t[3]*a[5]+t[5]]},qrDecompose:function(t){var a=h(t[1],t[0]),l=u(t[0],2)+u(t[1],2),i=s(l),f=(t[0]*t[3]-t[2]*t[1])/i,p=h(t[0]*t[2]+t[1]*t[3],l);return{angle:a/o,scaleX:i,scaleY:f,skewX:p/o,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return O.iMatrix.concat();var a=O.util.degreesToRadians(t.angle),l=O.util.cos(a),i=O.util.sin(a);return[l,i,-i,l,0,0]},calcDimensionsMatrix:function(t){var a=typeof t.scaleX=="undefined"?1:t.scaleX,l=typeof t.scaleY=="undefined"?1:t.scaleY,i=[t.flipX?-a:a,0,0,t.flipY?-l:l,0,0],f=O.util.multiplyTransformMatrices,p=O.util.degreesToRadians;return t.skewX&&(i=f(i,[1,0,Math.tan(p(t.skewX)),1],!0)),t.skewY&&(i=f(i,[1,Math.tan(p(t.skewY)),0,1],!0)),i},composeMatrix:function(t){var a=[1,0,0,1,t.translateX||0,t.translateY||0],l=O.util.multiplyTransformMatrices;return t.angle&&(a=l(a,O.util.calcRotateMatrix(t))),(t.scaleX!==1||t.scaleY!==1||t.skewX||t.skewY||t.flipX||t.flipY)&&(a=l(a,O.util.calcDimensionsMatrix(t))),a},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,a,l,i){i>0&&(a>i?a-=i:a=0,l>i?l-=i:l=0);var f=!0,p,m,x=t.getImageData(a,l,i*2||1,i*2||1),M=x.data.length;for(p=3;p<M&&(m=x.data[p],f=m<=0,f!==!1);p+=4);return x=null,f},parsePreserveAspectRatioAttribute:function(t){var a="meet",l="Mid",i="Mid",f=t.split(" "),p;return f&&f.length&&(a=f.pop(),a!=="meet"&&a!=="slice"?(p=a,a="meet"):f.length&&(p=f.pop())),l=p!=="none"?p.slice(1,4):"none",i=p!=="none"?p.slice(5,8):"none",{meetOrSlice:a,alignX:l,alignY:i}},clearFabricFontCache:function(t){t=(t||"").toLowerCase(),t?O.charWidthsCache[t]&&delete O.charWidthsCache[t]:O.charWidthsCache={}},limitDimsByArea:function(t,a){var l=Math.sqrt(a*t),i=Math.floor(a/l);return{x:Math.floor(l),y:i}},capValue:function(t,a,l){return Math.max(t,Math.min(a,l))},findScaleToFit:function(t,a){return Math.min(a.width/t.width,a.height/t.height)},findScaleToCover:function(t,a){return Math.max(a.width/t.width,a.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map(function(a){return O.util.toFixed(a,O.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(t,a){var l=O.util.invertTransform(a),i=O.util.multiplyTransformMatrices(l,t.calcOwnMatrix());O.util.applyTransformToObject(t,i)},addTransformToObject:function(t,a){O.util.applyTransformToObject(t,O.util.multiplyTransformMatrices(a,t.calcOwnMatrix()))},applyTransformToObject:function(t,a){var l=O.util.qrDecompose(a),i=new O.Point(l.translateX,l.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",l.scaleX),t.set("scaleY",l.scaleY),t.skewX=l.skewX,t.skewY=l.skewY,t.angle=l.angle,t.setPositionByOrigin(i,"center","center")},sizeAfterTransform:function(t,a,l){var i=t/2,f=a/2,p=[{x:-i,y:-f},{x:i,y:-f},{x:-i,y:f},{x:i,y:f}],m=O.util.calcDimensionsMatrix(l),x=O.util.makeBoundingBoxFromPoints(p,m);return{x:x.width,y:x.height}},mergeClipPaths:function(t,a){var l=t,i=a;l.inverted&&!i.inverted&&(l=a,i=t),O.util.applyTransformToObject(i,O.util.multiplyTransformMatrices(O.util.invertTransform(l.calcTransformMatrix()),i.calcTransformMatrix()));var f=l.inverted&&i.inverted;return f&&(l.inverted=i.inverted=!1),new O.Group([l],{clipPath:i,inverted:f})}}}(_r),function(){var b=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function u(W,At,V,it,et,F,K,ht,dt,Wt,Tt){var jt=O.util.cos(W),ce=O.util.sin(W),ve=O.util.cos(At),re=O.util.sin(At),Yt=V*et*ve-it*F*re+K,de=it*et*ve+V*F*re+ht,N=Wt+dt*(-V*et*ce-it*F*jt),Bt=Tt+dt*(-it*et*ce+V*F*jt),U=Yt+dt*(V*et*re+it*F*ve),C=de+dt*(it*et*re-V*F*ve);return["C",N,Bt,U,C,Yt,de]}function o(W,At,V,it,et,F,K){var ht=Math.PI,dt=K*ht/180,Wt=O.util.sin(dt),Tt=O.util.cos(dt),jt=0,ce=0;V=Math.abs(V),it=Math.abs(it);var ve=-Tt*W*.5-Wt*At*.5,re=-Tt*At*.5+Wt*W*.5,Yt=V*V,de=it*it,N=re*re,Bt=ve*ve,U=Yt*de-Yt*N-de*Bt,C=0;if(U<0){var A=Math.sqrt(1-U/(Yt*de));V*=A,it*=A}else C=(et===F?-1:1)*Math.sqrt(U/(Yt*N+de*Bt));var q=C*V*re/it,at=-C*it*ve/V,Ot=Tt*q-Wt*at+W*.5,St=Wt*q+Tt*at+At*.5,xe=e(1,0,(ve-q)/V,(re-at)/it),Ne=e((ve-q)/V,(re-at)/it,(-ve-q)/V,(-re-at)/it);F===0&&Ne>0?Ne-=2*ht:F===1&&Ne<0&&(Ne+=2*ht);for(var we=Math.ceil(Math.abs(Ne/ht*2)),Ke=[],xr=Ne/we,Or=8/3*Math.sin(xr/4)*Math.sin(xr/4)/Math.sin(xr/2),Jr=xe+xr,fn=0;fn<we;fn++)Ke[fn]=u(xe,Jr,Tt,Wt,V,it,Ot,St,Or,jt,ce),jt=Ke[fn][5],ce=Ke[fn][6],xe=Jr,Jr+=xr;return Ke}function e(W,At,V,it){var et=Math.atan2(At,W),F=Math.atan2(it,V);return F>=et?F-et:2*Math.PI-(et-F)}function n(W,At,V,it,et,F,K,ht){var dt;if(O.cachesBoundsOfCurve&&(dt=b.call(arguments),O.boundsOfCurveCache[dt]))return O.boundsOfCurveCache[dt];var Wt=Math.sqrt,Tt=Math.min,jt=Math.max,ce=Math.abs,ve=[],re=[[],[]],Yt,de,N,Bt,U,C,A,q;de=6*W-12*V+6*et,Yt=-3*W+9*V-9*et+3*K,N=3*V-3*W;for(var at=0;at<2;++at){if(at>0&&(de=6*At-12*it+6*F,Yt=-3*At+9*it-9*F+3*ht,N=3*it-3*At),ce(Yt)<1e-12){if(ce(de)<1e-12)continue;Bt=-N/de,0<Bt&&Bt<1&&ve.push(Bt);continue}A=de*de-4*N*Yt,!(A<0)&&(q=Wt(A),U=(-de+q)/(2*Yt),0<U&&U<1&&ve.push(U),C=(-de-q)/(2*Yt),0<C&&C<1&&ve.push(C))}for(var Ot,St,xe=ve.length,Ne=xe,we;xe--;)Bt=ve[xe],we=1-Bt,Ot=we*we*we*W+3*we*we*Bt*V+3*we*Bt*Bt*et+Bt*Bt*Bt*K,re[0][xe]=Ot,St=we*we*we*At+3*we*we*Bt*it+3*we*Bt*Bt*F+Bt*Bt*Bt*ht,re[1][xe]=St;re[0][Ne]=W,re[1][Ne]=At,re[0][Ne+1]=K,re[1][Ne+1]=ht;var Ke=[{x:Tt.apply(null,re[0]),y:Tt.apply(null,re[1])},{x:jt.apply(null,re[0]),y:jt.apply(null,re[1])}];return O.cachesBoundsOfCurve&&(O.boundsOfCurveCache[dt]=Ke),Ke}function t(W,At,V){for(var it=V[1],et=V[2],F=V[3],K=V[4],ht=V[5],dt=V[6],Wt=V[7],Tt=o(dt-W,Wt-At,it,et,K,ht,F),jt=0,ce=Tt.length;jt<ce;jt++)Tt[jt][1]+=W,Tt[jt][2]+=At,Tt[jt][3]+=W,Tt[jt][4]+=At,Tt[jt][5]+=W,Tt[jt][6]+=At;return Tt}function a(W){var At=0,V=0,it=W.length,et=0,F=0,K,ht,dt,Wt=[],Tt,jt,ce;for(ht=0;ht<it;++ht){switch(dt=!1,K=W[ht].slice(0),K[0]){case"l":K[0]="L",K[1]+=At,K[2]+=V;case"L":At=K[1],V=K[2];break;case"h":K[1]+=At;case"H":K[0]="L",K[2]=V,At=K[1];break;case"v":K[1]+=V;case"V":K[0]="L",V=K[1],K[1]=At,K[2]=V;break;case"m":K[0]="M",K[1]+=At,K[2]+=V;case"M":At=K[1],V=K[2],et=K[1],F=K[2];break;case"c":K[0]="C",K[1]+=At,K[2]+=V,K[3]+=At,K[4]+=V,K[5]+=At,K[6]+=V;case"C":jt=K[3],ce=K[4],At=K[5],V=K[6];break;case"s":K[0]="S",K[1]+=At,K[2]+=V,K[3]+=At,K[4]+=V;case"S":Tt==="C"?(jt=2*At-jt,ce=2*V-ce):(jt=At,ce=V),At=K[3],V=K[4],K[0]="C",K[5]=K[3],K[6]=K[4],K[3]=K[1],K[4]=K[2],K[1]=jt,K[2]=ce,jt=K[3],ce=K[4];break;case"q":K[0]="Q",K[1]+=At,K[2]+=V,K[3]+=At,K[4]+=V;case"Q":jt=K[1],ce=K[2],At=K[3],V=K[4];break;case"t":K[0]="T",K[1]+=At,K[2]+=V;case"T":Tt==="Q"?(jt=2*At-jt,ce=2*V-ce):(jt=At,ce=V),K[0]="Q",At=K[1],V=K[2],K[1]=jt,K[2]=ce,K[3]=At,K[4]=V;break;case"a":K[0]="A",K[6]+=At,K[7]+=V;case"A":dt=!0,Wt=Wt.concat(t(At,V,K)),At=K[6],V=K[7];break;case"z":case"Z":At=et,V=F;break;default:}dt||Wt.push(K),Tt=K[0]}return Wt}function l(W,At,V,it){return Math.sqrt((V-W)*(V-W)+(it-At)*(it-At))}function i(W){return W*W*W}function f(W){return 3*W*W*(1-W)}function p(W){return 3*W*(1-W)*(1-W)}function m(W){return(1-W)*(1-W)*(1-W)}function x(W,At,V,it,et,F,K,ht){return function(dt){var Wt=i(dt),Tt=f(dt),jt=p(dt),ce=m(dt);return{x:K*Wt+et*Tt+V*jt+W*ce,y:ht*Wt+F*Tt+it*jt+At*ce}}}function M(W,At,V,it,et,F,K,ht){return function(dt){var Wt=1-dt,Tt=3*Wt*Wt*(V-W)+6*Wt*dt*(et-V)+3*dt*dt*(K-et),jt=3*Wt*Wt*(it-At)+6*Wt*dt*(F-it)+3*dt*dt*(ht-F);return Math.atan2(jt,Tt)}}function Y(W){return W*W}function nt(W){return 2*W*(1-W)}function xt(W){return(1-W)*(1-W)}function Dt(W,At,V,it,et,F){return function(K){var ht=Y(K),dt=nt(K),Wt=xt(K);return{x:et*ht+V*dt+W*Wt,y:F*ht+it*dt+At*Wt}}}function Ut(W,At,V,it,et,F){return function(K){var ht=1-K,dt=2*ht*(V-W)+2*K*(et-V),Wt=2*ht*(it-At)+2*K*(F-it);return Math.atan2(Wt,dt)}}function fe(W,At,V){var it={x:At,y:V},et,F=0,K;for(K=1;K<=100;K+=1)et=W(K/100),F+=l(it.x,it.y,et.x,et.y),it=et;return F}function Oe(W,At){for(var V=0,it=0,et=W.iterator,F={x:W.x,y:W.y},K,ht,dt=.01,Wt=W.angleFinder,Tt;it<At&&dt>1e-4;)K=et(V),Tt=V,ht=l(F.x,F.y,K.x,K.y),ht+it>At?(V-=dt,dt/=2):(F=K,V+=dt,it+=ht);return K.angle=Wt(Tt),K}function _t(W){for(var At=0,V=W.length,it,et=0,F=0,K=0,ht=0,dt=[],Wt,Tt,jt,ce=0;ce<V;ce++){switch(it=W[ce],Tt={x:et,y:F,command:it[0]},it[0]){case"M":Tt.length=0,K=et=it[1],ht=F=it[2];break;case"L":Tt.length=l(et,F,it[1],it[2]),et=it[1],F=it[2];break;case"C":Wt=x(et,F,it[1],it[2],it[3],it[4],it[5],it[6]),jt=M(et,F,it[1],it[2],it[3],it[4],it[5],it[6]),Tt.iterator=Wt,Tt.angleFinder=jt,Tt.length=fe(Wt,et,F),et=it[5],F=it[6];break;case"Q":Wt=Dt(et,F,it[1],it[2],it[3],it[4]),jt=Ut(et,F,it[1],it[2],it[3],it[4]),Tt.iterator=Wt,Tt.angleFinder=jt,Tt.length=fe(Wt,et,F),et=it[3],F=it[4];break;case"Z":case"z":Tt.destX=K,Tt.destY=ht,Tt.length=l(et,F,K,ht),et=K,F=ht;break}At+=Tt.length,dt.push(Tt)}return dt.push({length:At,x:et,y:F}),dt}function Vt(W,At,V){V||(V=_t(W));for(var it=0;At-V[it].length>0&&it<V.length-2;)At-=V[it].length,it++;var et=V[it],F=At/et.length,K=et.command,ht=W[it],dt;switch(K){case"M":return{x:et.x,y:et.y,angle:0};case"Z":case"z":return dt=new O.Point(et.x,et.y).lerp(new O.Point(et.destX,et.destY),F),dt.angle=Math.atan2(et.destY-et.y,et.destX-et.x),dt;case"L":return dt=new O.Point(et.x,et.y).lerp(new O.Point(ht[1],ht[2]),F),dt.angle=Math.atan2(ht[2]-et.y,ht[1]-et.x),dt;case"C":return Oe(et,At);case"Q":return Oe(et,At)}}function J(W){var At=[],V=[],it,et,F=O.rePathCommand,K="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",ht="("+K+")"+O.commaWsp,dt="([01])"+O.commaWsp+"?",Wt=ht+"?"+ht+"?"+ht+dt+dt+ht+"?("+K+")",Tt=new RegExp(Wt,"g"),jt,ce,ve;if(!W||!W.match)return At;ve=W.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var re=0,Yt,de=ve.length;re<de;re++){it=ve[re],ce=it.slice(1).trim(),V.length=0;var N=it.charAt(0);if(Yt=[N],N.toLowerCase()==="a")for(var Bt;Bt=Tt.exec(ce);)for(var U=1;U<Bt.length;U++)V.push(Bt[U]);else for(;jt=F.exec(ce);)V.push(jt[0]);for(var U=0,C=V.length;U<C;U++)et=parseFloat(V[U]),isNaN(et)||Yt.push(et);var A=s[N.toLowerCase()],q=h[N]||N;if(Yt.length-1>A)for(var at=1,Ot=Yt.length;at<Ot;at+=A)At.push([N].concat(Yt.slice(at,at+A))),N=q;else At.push(Yt)}return At}function be(W,At){var V=[],it,et=new O.Point(W[0].x,W[0].y),F=new O.Point(W[1].x,W[1].y),K=W.length,ht=1,dt=0,Wt=K>2;for(At=At||0,Wt&&(ht=W[2].x<F.x?-1:W[2].x===F.x?0:1,dt=W[2].y<F.y?-1:W[2].y===F.y?0:1),V.push(["M",et.x-ht*At,et.y-dt*At]),it=1;it<K;it++){if(!et.eq(F)){var Tt=et.midPointFrom(F);V.push(["Q",et.x,et.y,Tt.x,Tt.y])}et=W[it],it+1<W.length&&(F=W[it+1])}return Wt&&(ht=et.x>W[it-2].x?1:et.x===W[it-2].x?0:-1,dt=et.y>W[it-2].y?1:et.y===W[it-2].y?0:-1),V.push(["L",et.x+ht*At,et.y+dt*At]),V}function Qe(W,At,V){return V&&(At=O.util.multiplyTransformMatrices(At,[1,0,0,1,-V.x,-V.y])),W.map(function(it){for(var et=it.slice(0),F={},K=1;K<it.length-1;K+=2)F.x=it[K],F.y=it[K+1],F=O.util.transformPoint(F,At),et[K]=F.x,et[K+1]=F.y;return et})}O.util.joinPath=function(W){return W.map(function(At){return At.join(" ")}).join(" ")},O.util.parsePath=J,O.util.makePathSimpler=a,O.util.getSmoothPathFromPoints=be,O.util.getPathSegmentsInfo=_t,O.util.getBoundsOfCurve=n,O.util.getPointOnPath=Vt,O.util.transformPath=Qe}(),function(){var b=Array.prototype.slice;function s(n,t){for(var a=b.call(arguments,2),l=[],i=0,f=n.length;i<f;i++)l[i]=a.length?n[i][t].apply(n[i],a):n[i][t].call(n[i]);return l}function h(n,t){return e(n,t,function(a,l){return a>=l})}function u(n,t){return e(n,t,function(a,l){return a<l})}function o(n,t){for(var a=n.length;a--;)n[a]=t;return n}function e(n,t,a){if(!(!n||n.length===0)){var l=n.length-1,i=t?n[l][t]:n[l];if(t)for(;l--;)a(n[l][t],i)&&(i=n[l][t]);else for(;l--;)a(n[l],i)&&(i=n[l]);return i}}O.util.array={fill:o,invoke:s,min:u,max:h}}(),function(){function b(h,u,o){if(o)if(!O.isLikelyNode&&u instanceof Element)h=u;else if(u instanceof Array){h=[];for(var e=0,n=u.length;e<n;e++)h[e]=b({},u[e],o)}else if(u&&typeof u=="object")for(var t in u)t==="canvas"||t==="group"?h[t]=null:u.hasOwnProperty(t)&&(h[t]=b({},u[t],o));else h=u;else for(var t in u)h[t]=u[t];return h}function s(h,u){return b({},h,u)}O.util.object={extend:b,clone:s},O.util.object.extend(O.util,O.Observable)}(),function(){function b(e){return e.replace(/-+(.)?/g,function(n,t){return t?t.toUpperCase():""})}function s(e,n){return e.charAt(0).toUpperCase()+(n?e.slice(1):e.slice(1).toLowerCase())}function h(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e){var n=0,t,a=[];for(n=0,t;n<e.length;n++)(t=o(e,n))!==!1&&a.push(t);return a}function o(e,n){var t=e.charCodeAt(n);if(isNaN(t))return"";if(t<55296||t>57343)return e.charAt(n);if(55296<=t&&t<=56319){if(e.length<=n+1)throw"High surrogate without following low surrogate";var a=e.charCodeAt(n+1);if(56320>a||a>57343)throw"High surrogate without following low surrogate";return e.charAt(n)+e.charAt(n+1)}if(n===0)throw"Low surrogate without preceding high surrogate";var l=e.charCodeAt(n-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}O.util.string={camelize:b,capitalize:s,escapeXml:h,graphemeSplit:u}}(),function(){var b=Array.prototype.slice,s=function(){},h=function(){for(var t in{toString:1})if(t==="toString")return!1;return!0}(),u=function(a,l,i){for(var f in l)f in a.prototype&&typeof a.prototype[f]=="function"&&(l[f]+"").indexOf("callSuper")>-1?a.prototype[f]=function(p){return function(){var m=this.constructor.superclass;this.constructor.superclass=i;var x=l[p].apply(this,arguments);if(this.constructor.superclass=m,p!=="initialize")return x}}(f):a.prototype[f]=l[f],h&&(l.toString!==Object.prototype.toString&&(a.prototype.toString=l.toString),l.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=l.valueOf))};function o(){}function e(t){for(var a=null,l=this;l.constructor.superclass;){var i=l.constructor.superclass.prototype[t];if(l[t]!==i){a=i;break}l=l.constructor.superclass.prototype}return a?arguments.length>1?a.apply(this,b.call(arguments,1)):a.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}function n(){var t=null,a=b.call(arguments,0);typeof a[0]=="function"&&(t=a.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=t,l.subclasses=[],t&&(o.prototype=t.prototype,l.prototype=new o,t.subclasses.push(l));for(var i=0,f=a.length;i<f;i++)u(l,a[i],t);return l.prototype.initialize||(l.prototype.initialize=s),l.prototype.constructor=l,l.prototype.callSuper=e,l}O.util.createClass=n}(),function(){var b=!!O.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];O.util.addListener=function(u,o,e,n){u&&u.addEventListener(o,e,b?!1:n)},O.util.removeListener=function(u,o,e,n){u&&u.removeEventListener(o,e,b?!1:n)};function h(u){var o=u.changedTouches;return o&&o[0]?o[0]:u}O.util.getPointer=function(u){var o=u.target,e=O.util.getScrollLeftTop(o),n=h(u);return{x:n.clientX+e.left,y:n.clientY+e.top}},O.util.isTouchEvent=function(u){return s.indexOf(u.type)>-1||u.pointerType==="touch"}}(),function(){function b(n,t){var a=n.style;if(!a)return n;if(typeof t=="string")return n.style.cssText+=";"+t,t.indexOf("opacity")>-1?e(n,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):n;for(var l in t)if(l==="opacity")e(n,t[l]);else{var i=l==="float"||l==="cssFloat"?typeof a.styleFloat=="undefined"?"cssFloat":"styleFloat":l;a[i]=t[l]}return n}var s=O.document.createElement("div"),h=typeof s.style.opacity=="string",u=typeof s.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,e=function(t){return t};h?e=function(t,a){return t.style.opacity=a,t}:u&&(e=function(t,a){var l=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(l.zoom=1),o.test(l.filter)?(a=a>=.9999?"":"alpha(opacity="+a*100+")",l.filter=l.filter.replace(o,a)):l.filter+=" alpha(opacity="+a*100+")",t}),O.util.setStyle=b}(),function(){var b=Array.prototype.slice;function s(m){return typeof m=="string"?O.document.getElementById(m):m}var h,u=function(x){return b.call(x,0)};try{h=u(O.document.childNodes)instanceof Array}catch(m){}h||(u=function(x){for(var M=new Array(x.length),Y=x.length;Y--;)M[Y]=x[Y];return M});function o(m,x){var M=O.document.createElement(m);for(var Y in x)Y==="class"?M.className=x[Y]:Y==="for"?M.htmlFor=x[Y]:M.setAttribute(Y,x[Y]);return M}function e(m,x){m&&(" "+m.className+" ").indexOf(" "+x+" ")===-1&&(m.className+=(m.className?" ":"")+x)}function n(m,x,M){return typeof x=="string"&&(x=o(x,M)),m.parentNode&&m.parentNode.replaceChild(x,m),x.appendChild(m),x}function t(m){for(var x=0,M=0,Y=O.document.documentElement,nt=O.document.body||{scrollLeft:0,scrollTop:0};m&&(m.parentNode||m.host)&&(m=m.parentNode||m.host,m===O.document?(x=nt.scrollLeft||Y.scrollLeft||0,M=nt.scrollTop||Y.scrollTop||0):(x+=m.scrollLeft||0,M+=m.scrollTop||0),!(m.nodeType===1&&m.style.position==="fixed")););return{left:x,top:M}}function a(m){var x,M=m&&m.ownerDocument,Y={left:0,top:0},nt={left:0,top:0},xt,Dt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!M)return nt;for(var Ut in Dt)nt[Dt[Ut]]+=parseInt(l(m,Ut),10)||0;return x=M.documentElement,typeof m.getBoundingClientRect!="undefined"&&(Y=m.getBoundingClientRect()),xt=t(m),{left:Y.left+xt.left-(x.clientLeft||0)+nt.left,top:Y.top+xt.top-(x.clientTop||0)+nt.top}}var l;O.document.defaultView&&O.document.defaultView.getComputedStyle?l=function(x,M){var Y=O.document.defaultView.getComputedStyle(x,null);return Y?Y[M]:void 0}:l=function(x,M){var Y=x.style[M];return!Y&&x.currentStyle&&(Y=x.currentStyle[M]),Y},function(){var m=O.document.documentElement.style,x="userSelect"in m?"userSelect":"MozUserSelect"in m?"MozUserSelect":"WebkitUserSelect"in m?"WebkitUserSelect":"KhtmlUserSelect"in m?"KhtmlUserSelect":"";function M(nt){return typeof nt.onselectstart!="undefined"&&(nt.onselectstart=O.util.falseFunction),x?nt.style[x]="none":typeof nt.unselectable=="string"&&(nt.unselectable="on"),nt}function Y(nt){return typeof nt.onselectstart!="undefined"&&(nt.onselectstart=null),x?nt.style[x]="":typeof nt.unselectable=="string"&&(nt.unselectable=""),nt}O.util.makeElementUnselectable=M,O.util.makeElementSelectable=Y}();function i(m){var x=O.jsdomImplForWrapper(m);return x._canvas||x._image}function f(m){if(!!O.isLikelyNode){var x=O.jsdomImplForWrapper(m);x&&(x._image=null,x._canvas=null,x._currentSrc=null,x._attributes=null,x._classList=null)}}function p(m,x){m.imageSmoothingEnabled=m.imageSmoothingEnabled||m.webkitImageSmoothingEnabled||m.mozImageSmoothingEnabled||m.msImageSmoothingEnabled||m.oImageSmoothingEnabled,m.imageSmoothingEnabled=x}O.util.setImageSmoothing=p,O.util.getById=s,O.util.toArray=u,O.util.addClass=e,O.util.makeElement=o,O.util.wrapElement=n,O.util.getScrollLeftTop=t,O.util.getElementOffset=a,O.util.getNodeCanvas=i,O.util.cleanUpJsdomNode=f}(),function(){function b(u,o){return u+(/\?/.test(u)?"&":"?")+o}function s(){}function h(u,o){o||(o={});var e=o.method?o.method.toUpperCase():"GET",n=o.onComplete||function(){},t=new O.window.XMLHttpRequest,a=o.body||o.parameters;return t.onreadystatechange=function(){t.readyState===4&&(n(t),t.onreadystatechange=s)},e==="GET"&&(a=null,typeof o.parameters=="string"&&(u=b(u,o.parameters))),t.open(e,u,!0),(e==="POST"||e==="PUT")&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t}O.util.request=h}(),O.log=console.log,O.warn=console.warn,function(){var b=O.util.object.extend,s=O.util.object.clone,h=[];O.util.object.extend(h,{cancelAll:function(){var f=this.splice(0);return f.forEach(function(p){p.cancel()}),f},cancelByCanvas:function(f){if(!f)return[];var p=this.filter(function(m){return typeof m.target=="object"&&m.target.canvas===f});return p.forEach(function(m){m.cancel()}),p},cancelByTarget:function(f){var p=this.findAnimationsByTarget(f);return p.forEach(function(m){m.cancel()}),p},findAnimationIndex:function(f){return this.indexOf(this.findAnimation(f))},findAnimation:function(f){return this.find(function(p){return p.cancel===f})},findAnimationsByTarget:function(f){return f?this.filter(function(p){return p.target===f}):[]}});function u(){return!1}function o(i,f,p,m){return-p*Math.cos(i/m*(Math.PI/2))+p+f}function e(i){i||(i={});var f=!1,p,m=function(){var M=O.runningAnimations.indexOf(p);return M>-1&&O.runningAnimations.splice(M,1)[0]};return p=b(s(i),{cancel:function(){return f=!0,m()},currentValue:"startValue"in i?i.startValue:0,completionRate:0,durationRate:0}),O.runningAnimations.push(p),a(function(x){var M=x||+new Date,Y=i.duration||500,nt=M+Y,xt,Dt=i.onChange||u,Ut=i.abort||u,fe=i.onComplete||u,Oe=i.easing||o,_t="startValue"in i?i.startValue.length>0:!1,Vt="startValue"in i?i.startValue:0,J="endValue"in i?i.endValue:100,be=i.byValue||(_t?Vt.map(function(Qe,W){return J[W]-Vt[W]}):J-Vt);i.onStart&&i.onStart(),function Qe(W){xt=W||+new Date;var At=xt>nt?Y:xt-M,V=At/Y,it=_t?Vt.map(function(F,K){return Oe(At,Vt[K],be[K],Y)}):Oe(At,Vt,be,Y),et=Math.abs(_t?(it[0]-Vt[0])/be[0]:(it-Vt)/be);if(p.currentValue=_t?it.slice():it,p.completionRate=et,p.durationRate=V,!f){if(Ut(it,et,V)){m();return}if(xt>nt){p.currentValue=_t?J.slice():J,p.completionRate=1,p.durationRate=1,Dt(_t?J.slice():J,1,1),fe(J,1,1),m();return}else Dt(it,et,V),a(Qe)}}(M)}),p.cancel}var n=O.window.requestAnimationFrame||O.window.webkitRequestAnimationFrame||O.window.mozRequestAnimationFrame||O.window.oRequestAnimationFrame||O.window.msRequestAnimationFrame||function(i){return O.window.setTimeout(i,1e3/60)},t=O.window.cancelAnimationFrame||O.window.clearTimeout;function a(){return n.apply(O.window,arguments)}function l(){return t.apply(O.window,arguments)}O.util.animate=e,O.util.requestAnimFrame=a,O.util.cancelAnimFrame=l,O.runningAnimations=h}(),function(){function b(h,u,o){var e="rgba("+parseInt(h[0]+o*(u[0]-h[0]),10)+","+parseInt(h[1]+o*(u[1]-h[1]),10)+","+parseInt(h[2]+o*(u[2]-h[2]),10);return e+=","+(h&&u?parseFloat(h[3]+o*(u[3]-h[3])):1),e+=")",e}function s(h,u,o,e){var n=new O.Color(h).getSource(),t=new O.Color(u).getSource(),a=e.onComplete,l=e.onChange;return e=e||{},O.util.animate(O.util.object.extend(e,{duration:o||500,startValue:n,endValue:t,byValue:t,easing:function(f,p,m,x){var M=e.colorEasing?e.colorEasing(f,x):1-Math.cos(f/x*(Math.PI/2));return b(p,m,M)},onComplete:function(f,p,m){if(a)return a(b(t,t,0),p,m)},onChange:function(f,p,m){if(l){if(Array.isArray(f))return l(b(f,f,0),p,m);l(f,p,m)}}}))}O.util.animateColor=s}(),function(){function b(W,At,V,it){return W<Math.abs(At)?(W=At,it=V/4):At===0&&W===0?it=V/(2*Math.PI)*Math.asin(1):it=V/(2*Math.PI)*Math.asin(At/W),{a:W,c:At,p:V,s:it}}function s(W,At,V){return W.a*Math.pow(2,10*(At-=1))*Math.sin((At*V-W.s)*(2*Math.PI)/W.p)}function h(W,At,V,it){return V*((W=W/it-1)*W*W+1)+At}function u(W,At,V,it){return W/=it/2,W<1?V/2*W*W*W+At:V/2*((W-=2)*W*W+2)+At}function o(W,At,V,it){return V*(W/=it)*W*W*W+At}function e(W,At,V,it){return-V*((W=W/it-1)*W*W*W-1)+At}function n(W,At,V,it){return W/=it/2,W<1?V/2*W*W*W*W+At:-V/2*((W-=2)*W*W*W-2)+At}function t(W,At,V,it){return V*(W/=it)*W*W*W*W+At}function a(W,At,V,it){return V*((W=W/it-1)*W*W*W*W+1)+At}function l(W,At,V,it){return W/=it/2,W<1?V/2*W*W*W*W*W+At:V/2*((W-=2)*W*W*W*W+2)+At}function i(W,At,V,it){return-V*Math.cos(W/it*(Math.PI/2))+V+At}function f(W,At,V,it){return V*Math.sin(W/it*(Math.PI/2))+At}function p(W,At,V,it){return-V/2*(Math.cos(Math.PI*W/it)-1)+At}function m(W,At,V,it){return W===0?At:V*Math.pow(2,10*(W/it-1))+At}function x(W,At,V,it){return W===it?At+V:V*(-Math.pow(2,-10*W/it)+1)+At}function M(W,At,V,it){return W===0?At:W===it?At+V:(W/=it/2,W<1?V/2*Math.pow(2,10*(W-1))+At:V/2*(-Math.pow(2,-10*--W)+2)+At)}function Y(W,At,V,it){return-V*(Math.sqrt(1-(W/=it)*W)-1)+At}function nt(W,At,V,it){return V*Math.sqrt(1-(W=W/it-1)*W)+At}function xt(W,At,V,it){return W/=it/2,W<1?-V/2*(Math.sqrt(1-W*W)-1)+At:V/2*(Math.sqrt(1-(W-=2)*W)+1)+At}function Dt(W,At,V,it){var et=1.70158,F=0,K=V;if(W===0)return At;if(W/=it,W===1)return At+V;F||(F=it*.3);var ht=b(K,V,F,et);return-s(ht,W,it)+At}function Ut(W,At,V,it){var et=1.70158,F=0,K=V;if(W===0)return At;if(W/=it,W===1)return At+V;F||(F=it*.3);var ht=b(K,V,F,et);return ht.a*Math.pow(2,-10*W)*Math.sin((W*it-ht.s)*(2*Math.PI)/ht.p)+ht.c+At}function fe(W,At,V,it){var et=1.70158,F=0,K=V;if(W===0)return At;if(W/=it/2,W===2)return At+V;F||(F=it*(.3*1.5));var ht=b(K,V,F,et);return W<1?-.5*s(ht,W,it)+At:ht.a*Math.pow(2,-10*(W-=1))*Math.sin((W*it-ht.s)*(2*Math.PI)/ht.p)*.5+ht.c+At}function Oe(W,At,V,it,et){return et===void 0&&(et=1.70158),V*(W/=it)*W*((et+1)*W-et)+At}function _t(W,At,V,it,et){return et===void 0&&(et=1.70158),V*((W=W/it-1)*W*((et+1)*W+et)+1)+At}function Vt(W,At,V,it,et){return et===void 0&&(et=1.70158),W/=it/2,W<1?V/2*(W*W*(((et*=1.525)+1)*W-et))+At:V/2*((W-=2)*W*(((et*=1.525)+1)*W+et)+2)+At}function J(W,At,V,it){return V-be(it-W,0,V,it)+At}function be(W,At,V,it){return(W/=it)<1/2.75?V*(7.5625*W*W)+At:W<2/2.75?V*(7.5625*(W-=1.5/2.75)*W+.75)+At:W<2.5/2.75?V*(7.5625*(W-=2.25/2.75)*W+.9375)+At:V*(7.5625*(W-=2.625/2.75)*W+.984375)+At}function Qe(W,At,V,it){return W<it/2?J(W*2,0,V,it)*.5+At:be(W*2-it,0,V,it)*.5+V*.5+At}O.util.ease={easeInQuad:function(At,V,it,et){return it*(At/=et)*At+V},easeOutQuad:function(At,V,it,et){return-it*(At/=et)*(At-2)+V},easeInOutQuad:function(At,V,it,et){return At/=et/2,At<1?it/2*At*At+V:-it/2*(--At*(At-2)-1)+V},easeInCubic:function(At,V,it,et){return it*(At/=et)*At*At+V},easeOutCubic:h,easeInOutCubic:u,easeInQuart:o,easeOutQuart:e,easeInOutQuart:n,easeInQuint:t,easeOutQuint:a,easeInOutQuint:l,easeInSine:i,easeOutSine:f,easeInOutSine:p,easeInExpo:m,easeOutExpo:x,easeInOutExpo:M,easeInCirc:Y,easeOutCirc:nt,easeInOutCirc:xt,easeInElastic:Dt,easeOutElastic:Ut,easeInOutElastic:fe,easeInBack:Oe,easeOutBack:_t,easeInOutBack:Vt,easeInBounce:J,easeOutBounce:be,easeInOutBounce:Qe}}(),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.object.clone,o=s.util.toFixed,e=s.util.parseUnit,n=s.util.multiplyTransformMatrices,t=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],a=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],i=["symbol","g","a","svg","clipPath","defs"],f={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},p={stroke:"strokeOpacity",fill:"fillOpacity"},m="font-size",x="clip-path";s.svgValidTagNamesRegEx=nt(t),s.svgViewBoxElementsRegEx=nt(a),s.svgInvalidAncestorsRegEx=nt(l),s.svgValidParentsRegEx=nt(i),s.cssRules={},s.gradientDefs={},s.clipPaths={};function M(F){return F in f?f[F]:F}function Y(F,K,ht,dt){var Wt=Array.isArray(K),Tt;if((F==="fill"||F==="stroke")&&K==="none")K="";else{if(F==="strokeUniform")return K==="non-scaling-stroke";if(F==="strokeDashArray")K==="none"?K=null:K=K.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(F==="transformMatrix")ht&&ht.transformMatrix?K=n(ht.transformMatrix,s.parseTransformAttribute(K)):K=s.parseTransformAttribute(K);else if(F==="visible")K=K!=="none"&&K!=="hidden",ht&&ht.visible===!1&&(K=!1);else if(F==="opacity")K=parseFloat(K),ht&&typeof ht.opacity!="undefined"&&(K*=ht.opacity);else if(F==="textAnchor")K=K==="start"?"left":K==="end"?"right":"center";else if(F==="charSpacing")Tt=e(K,dt)/dt*1e3;else if(F==="paintFirst"){var jt=K.indexOf("fill"),ce=K.indexOf("stroke"),K="fill";(jt>-1&&ce>-1&&ce<jt||jt===-1&&ce>-1)&&(K="stroke")}else{if(F==="href"||F==="xlink:href"||F==="font")return K;if(F==="imageSmoothing")return K==="optimizeQuality";Tt=Wt?K.map(e):e(K,dt)}}return!Wt&&isNaN(Tt)?K:Tt}function nt(F){return new RegExp("^("+F.join("|")+")\\b","i")}function xt(F){for(var K in p)if(!(typeof F[p[K]]=="undefined"||F[K]==="")){if(typeof F[K]=="undefined"){if(!s.Object.prototype[K])continue;F[K]=s.Object.prototype[K]}if(F[K].indexOf("url(")!==0){var ht=new s.Color(F[K]);F[K]=ht.setAlpha(o(ht.getAlpha()*F[p[K]],2)).toRgba()}}return F}function Dt(F,K){var ht,dt=[],Wt,Tt,jt;for(Tt=0,jt=K.length;Tt<jt;Tt++)ht=K[Tt],Wt=F.getElementsByTagName(ht),dt=dt.concat(Array.prototype.slice.call(Wt));return dt}s.parseTransformAttribute=function(){function F(at,Ot){var St=s.util.cos(Ot[0]),xe=s.util.sin(Ot[0]),Ne=0,we=0;Ot.length===3&&(Ne=Ot[1],we=Ot[2]),at[0]=St,at[1]=xe,at[2]=-xe,at[3]=St,at[4]=Ne-(St*Ne-xe*we),at[5]=we-(xe*Ne+St*we)}function K(at,Ot){var St=Ot[0],xe=Ot.length===2?Ot[1]:Ot[0];at[0]=St,at[3]=xe}function ht(at,Ot,St){at[St]=Math.tan(s.util.degreesToRadians(Ot[0]))}function dt(at,Ot){at[4]=Ot[0],Ot.length===2&&(at[5]=Ot[1])}var Wt=s.iMatrix,Tt=s.reNum,jt=s.commaWsp,ce="(?:(skewX)\\s*\\(\\s*("+Tt+")\\s*\\))",ve="(?:(skewY)\\s*\\(\\s*("+Tt+")\\s*\\))",re="(?:(rotate)\\s*\\(\\s*("+Tt+")(?:"+jt+"("+Tt+")"+jt+"("+Tt+"))?\\s*\\))",Yt="(?:(scale)\\s*\\(\\s*("+Tt+")(?:"+jt+"("+Tt+"))?\\s*\\))",de="(?:(translate)\\s*\\(\\s*("+Tt+")(?:"+jt+"("+Tt+"))?\\s*\\))",N="(?:(matrix)\\s*\\(\\s*("+Tt+")"+jt+"("+Tt+")"+jt+"("+Tt+")"+jt+"("+Tt+")"+jt+"("+Tt+")"+jt+"("+Tt+")\\s*\\))",Bt="(?:"+N+"|"+de+"|"+Yt+"|"+re+"|"+ce+"|"+ve+")",U="(?:"+Bt+"(?:"+jt+"*"+Bt+")*)",C="^\\s*(?:"+U+"?)\\s*$",A=new RegExp(C),q=new RegExp(Bt,"g");return function(at){var Ot=Wt.concat(),St=[];if(!at||at&&!A.test(at))return Ot;at.replace(q,function(Ne){var we=new RegExp(Bt).exec(Ne).filter(function(Or){return!!Or}),Ke=we[1],xr=we.slice(2).map(parseFloat);switch(Ke){case"translate":dt(Ot,xr);break;case"rotate":xr[0]=s.util.degreesToRadians(xr[0]),F(Ot,xr);break;case"scale":K(Ot,xr);break;case"skewX":ht(Ot,xr,2);break;case"skewY":ht(Ot,xr,1);break;case"matrix":Ot=xr;break}St.push(Ot.concat()),Ot=Wt.concat()});for(var xe=St[0];St.length>1;)St.shift(),xe=s.util.multiplyTransformMatrices(xe,St[0]);return xe}}();function Ut(F,K){var ht,dt;F.replace(/;\s*$/,"").split(";").forEach(function(Wt){var Tt=Wt.split(":");ht=Tt[0].trim().toLowerCase(),dt=Tt[1].trim(),K[ht]=dt})}function fe(F,K){var ht,dt;for(var Wt in F)typeof F[Wt]!="undefined"&&(ht=Wt.toLowerCase(),dt=F[Wt],K[ht]=dt)}function Oe(F,K){var ht={};for(var dt in s.cssRules[K])if(_t(F,dt.split(" ")))for(var Wt in s.cssRules[K][dt])ht[Wt]=s.cssRules[K][dt][Wt];return ht}function _t(F,K){var ht,dt=!0;return ht=J(F,K.pop()),ht&&K.length&&(dt=Vt(F,K)),ht&&dt&&K.length===0}function Vt(F,K){for(var ht,dt=!0;F.parentNode&&F.parentNode.nodeType===1&&K.length;)dt&&(ht=K.pop()),F=F.parentNode,dt=J(F,ht);return K.length===0}function J(F,K){var ht=F.nodeName,dt=F.getAttribute("class"),Wt=F.getAttribute("id"),Tt,jt;if(Tt=new RegExp("^"+ht,"i"),K=K.replace(Tt,""),Wt&&K.length&&(Tt=new RegExp("#"+Wt+"(?![a-zA-Z\\-]+)","i"),K=K.replace(Tt,"")),dt&&K.length)for(dt=dt.split(" "),jt=dt.length;jt--;)Tt=new RegExp("\\."+dt[jt]+"(?![a-zA-Z\\-]+)","i"),K=K.replace(Tt,"");return K.length===0}function be(F,K){var ht;if(F.getElementById&&(ht=F.getElementById(K)),ht)return ht;var dt,Wt,Tt,jt=F.getElementsByTagName("*");for(Wt=0,Tt=jt.length;Wt<Tt;Wt++)if(dt=jt[Wt],K===dt.getAttribute("id"))return dt}function Qe(F){for(var K=Dt(F,["use","svg:use"]),ht=0;K.length&&ht<K.length;){var dt=K[ht],Wt=dt.getAttribute("xlink:href")||dt.getAttribute("href");if(Wt===null)return;var Tt=Wt.slice(1),jt=dt.getAttribute("x")||0,ce=dt.getAttribute("y")||0,ve=be(F,Tt).cloneNode(!0),re=(ve.getAttribute("transform")||"")+" translate("+jt+", "+ce+")",Yt,de=K.length,N,Bt,U,C,A=s.svgNS;if(At(ve),/^svg$/i.test(ve.nodeName)){var q=ve.ownerDocument.createElementNS(A,"g");for(Bt=0,U=ve.attributes,C=U.length;Bt<C;Bt++)N=U.item(Bt),q.setAttributeNS(A,N.nodeName,N.nodeValue);for(;ve.firstChild;)q.appendChild(ve.firstChild);ve=q}for(Bt=0,U=dt.attributes,C=U.length;Bt<C;Bt++)N=U.item(Bt),!(N.nodeName==="x"||N.nodeName==="y"||N.nodeName==="xlink:href"||N.nodeName==="href")&&(N.nodeName==="transform"?re=N.nodeValue+" "+re:ve.setAttribute(N.nodeName,N.nodeValue));ve.setAttribute("transform",re),ve.setAttribute("instantiated_by_use","1"),ve.removeAttribute("id"),Yt=dt.parentNode,Yt.replaceChild(ve,dt),K.length===de&&ht++}}var W=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function At(F){if(!s.svgViewBoxElementsRegEx.test(F.nodeName))return{};var K=F.getAttribute("viewBox"),ht=1,dt=1,Wt=0,Tt=0,jt,ce,ve,re,Yt=F.getAttribute("width"),de=F.getAttribute("height"),N=F.getAttribute("x")||0,Bt=F.getAttribute("y")||0,U=F.getAttribute("preserveAspectRatio")||"",C=!K||!(K=K.match(W)),A=!Yt||!de||Yt==="100%"||de==="100%",q=C&&A,at={},Ot="",St=0,xe=0;if(at.width=0,at.height=0,at.toBeParsed=q,C&&(N||Bt)&&F.parentNode&&F.parentNode.nodeName!=="#document"&&(Ot=" translate("+e(N)+" "+e(Bt)+") ",ve=(F.getAttribute("transform")||"")+Ot,F.setAttribute("transform",ve),F.removeAttribute("x"),F.removeAttribute("y")),q)return at;if(C)return at.width=e(Yt),at.height=e(de),at;if(Wt=-parseFloat(K[1]),Tt=-parseFloat(K[2]),jt=parseFloat(K[3]),ce=parseFloat(K[4]),at.minX=Wt,at.minY=Tt,at.viewBoxWidth=jt,at.viewBoxHeight=ce,A?(at.width=jt,at.height=ce):(at.width=e(Yt),at.height=e(de),ht=at.width/jt,dt=at.height/ce),U=s.util.parsePreserveAspectRatioAttribute(U),U.alignX!=="none"&&(U.meetOrSlice==="meet"&&(dt=ht=ht>dt?dt:ht),U.meetOrSlice==="slice"&&(dt=ht=ht>dt?ht:dt),St=at.width-jt*ht,xe=at.height-ce*ht,U.alignX==="Mid"&&(St/=2),U.alignY==="Mid"&&(xe/=2),U.alignX==="Min"&&(St=0),U.alignY==="Min"&&(xe=0)),ht===1&&dt===1&&Wt===0&&Tt===0&&N===0&&Bt===0)return at;if((N||Bt)&&F.parentNode.nodeName!=="#document"&&(Ot=" translate("+e(N)+" "+e(Bt)+") "),ve=Ot+" matrix("+ht+" 0 0 "+dt+" "+(Wt*ht+St)+" "+(Tt*dt+xe)+") ",F.nodeName==="svg"){for(re=F.ownerDocument.createElementNS(s.svgNS,"g");F.firstChild;)re.appendChild(F.firstChild);F.appendChild(re)}else re=F,re.removeAttribute("x"),re.removeAttribute("y"),ve=re.getAttribute("transform")+ve;return re.setAttribute("transform",ve),at}function V(F,K){for(;F&&(F=F.parentNode);)if(F.nodeName&&K.test(F.nodeName.replace("svg:",""))&&!F.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(F,K,ht,dt){if(!!F){Qe(F);var Wt=s.Object.__uid++,Tt,jt,ce=At(F),ve=s.util.toArray(F.getElementsByTagName("*"));if(ce.crossOrigin=dt&&dt.crossOrigin,ce.svgUid=Wt,ve.length===0&&s.isLikelyNode){ve=F.selectNodes('//*[name(.)!="svg"]');var re=[];for(Tt=0,jt=ve.length;Tt<jt;Tt++)re[Tt]=ve[Tt];ve=re}var Yt=ve.filter(function(N){return At(N),s.svgValidTagNamesRegEx.test(N.nodeName.replace("svg:",""))&&!V(N,s.svgInvalidAncestorsRegEx)});if(!Yt||Yt&&!Yt.length){K&&K([],{});return}var de={};ve.filter(function(N){return N.nodeName.replace("svg:","")==="clipPath"}).forEach(function(N){var Bt=N.getAttribute("id");de[Bt]=s.util.toArray(N.getElementsByTagName("*")).filter(function(U){return s.svgValidTagNamesRegEx.test(U.nodeName.replace("svg:",""))})}),s.gradientDefs[Wt]=s.getGradientDefs(F),s.cssRules[Wt]=s.getCSSRules(F),s.clipPaths[Wt]=de,s.parseElements(Yt,function(N,Bt){K&&(K(N,ce,Bt,ve),delete s.gradientDefs[Wt],delete s.cssRules[Wt],delete s.clipPaths[Wt])},u(ce),ht,dt)}};function it(F,K){var ht=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],dt="xlink:href",Wt=K.getAttribute(dt).slice(1),Tt=be(F,Wt);if(Tt&&Tt.getAttribute(dt)&&it(F,Tt),ht.forEach(function(ce){Tt&&!K.hasAttribute(ce)&&Tt.hasAttribute(ce)&&K.setAttribute(ce,Tt.getAttribute(ce))}),!K.children.length)for(var jt=Tt.cloneNode(!0);jt.firstChild;)K.appendChild(jt.firstChild);K.removeAttribute(dt)}var et=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");h(s,{parseFontDeclaration:function(K,ht){var dt=K.match(et);if(!!dt){var Wt=dt[1],Tt=dt[3],jt=dt[4],ce=dt[5],ve=dt[6];Wt&&(ht.fontStyle=Wt),Tt&&(ht.fontWeight=isNaN(parseFloat(Tt))?Tt:parseFloat(Tt)),jt&&(ht.fontSize=e(jt)),ve&&(ht.fontFamily=ve),ce&&(ht.lineHeight=ce==="normal"?1:ce)}},getGradientDefs:function(K){var ht=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],dt=Dt(K,ht),Wt,Tt=0,jt={};for(Tt=dt.length;Tt--;)Wt=dt[Tt],Wt.getAttribute("xlink:href")&&it(K,Wt),jt[Wt.getAttribute("id")]=Wt;return jt},parseAttributes:function(K,ht,dt){if(!!K){var Wt,Tt={},jt,ce;typeof dt=="undefined"&&(dt=K.getAttribute("svgUid")),K.parentNode&&s.svgValidParentsRegEx.test(K.parentNode.nodeName)&&(Tt=s.parseAttributes(K.parentNode,ht,dt));var ve=ht.reduce(function(C,A){return Wt=K.getAttribute(A),Wt&&(C[A]=Wt),C},{}),re=h(Oe(K,dt),s.parseStyleAttribute(K));ve=h(ve,re),re[x]&&K.setAttribute(x,re[x]),jt=ce=Tt.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,ve[m]&&(ve[m]=jt=e(ve[m],ce));var Yt,de,N={};for(var Bt in ve)Yt=M(Bt),de=Y(Yt,ve[Bt],Tt,jt),N[Yt]=de;N&&N.font&&s.parseFontDeclaration(N.font,N);var U=h(Tt,N);return s.svgValidParentsRegEx.test(K.nodeName)?U:xt(U)}},parseElements:function(K,ht,dt,Wt,Tt){new s.ElementsParser(K,ht,dt,Wt,Tt).parse()},parseStyleAttribute:function(K){var ht={},dt=K.getAttribute("style");return dt&&(typeof dt=="string"?Ut(dt,ht):fe(dt,ht)),ht},parsePointsAttribute:function(K){if(!K)return null;K=K.replace(/,/g," ").trim(),K=K.split(/\s+/);var ht=[],dt,Wt;for(dt=0,Wt=K.length;dt<Wt;dt+=2)ht.push({x:parseFloat(K[dt]),y:parseFloat(K[dt+1])});return ht},getCSSRules:function(K){var ht=K.getElementsByTagName("style"),dt,Wt,Tt={},jt;for(dt=0,Wt=ht.length;dt<Wt;dt++){var ce=ht[dt].textContent;ce=ce.replace(/\/\*[\s\S]*?\*\//g,""),ce.trim()!==""&&(jt=ce.split("}"),jt=jt.filter(function(ve){return ve.trim()}),jt.forEach(function(ve){var re=ve.split("{"),Yt={},de=re[1].trim(),N=de.split(";").filter(function(A){return A.trim()});for(dt=0,Wt=N.length;dt<Wt;dt++){var Bt=N[dt].split(":"),U=Bt[0].trim(),C=Bt[1].trim();Yt[U]=C}ve=re[0].trim(),ve.split(",").forEach(function(A){A=A.replace(/^svg/i,"").trim(),A!==""&&(Tt[A]?s.util.object.extend(Tt[A],Yt):Tt[A]=s.util.object.clone(Yt))})}))}return Tt},loadSVGFromURL:function(K,ht,dt,Wt){K=K.replace(/^\n\s*/,"").trim(),new s.util.request(K,{method:"get",onComplete:Tt});function Tt(jt){var ce=jt.responseXML;if(!ce||!ce.documentElement)return ht&&ht(null),!1;s.parseSVGDocument(ce.documentElement,function(ve,re,Yt,de){ht&&ht(ve,re,Yt,de)},dt,Wt)}},loadSVGFromString:function(K,ht,dt,Wt){var Tt=new s.window.DOMParser,jt=Tt.parseFromString(K.trim(),"text/xml");s.parseSVGDocument(jt.documentElement,function(ce,ve,re,Yt){ht(ce,ve,re,Yt)},dt,Wt)}})}(_r),O.ElementsParser=function(b,s,h,u,o,e){this.elements=b,this.callback=s,this.options=h,this.reviver=u,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=e},function(b){b.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},b.createObjects=function(){var s=this;this.elements.forEach(function(h,u){h.setAttribute("svgUid",s.svgUid),s.createObject(h,u)})},b.findTag=function(s){return O[O.util.string.capitalize(s.tagName.replace("svg:",""))]},b.createObject=function(s,h){var u=this.findTag(s);if(u&&u.fromElement)try{u.fromElement(s,this.createCallback(h,s),this.options)}catch(o){O.log(o)}else this.checkIfDone()},b.createCallback=function(s,h){var u=this;return function(o){var e;u.resolveGradient(o,h,"fill"),u.resolveGradient(o,h,"stroke"),o instanceof O.Image&&o._originalElement&&(e=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(e),u.resolveClipPath(o,h),u.reviver&&u.reviver(h,o),u.instances[s]=o,u.checkIfDone()}},b.extractPropertyDefinition=function(s,h,u){var o=s[h],e=this.regexUrl;if(!!e.test(o)){e.lastIndex=0;var n=e.exec(o)[1];return e.lastIndex=0,O[u][this.svgUid][n]}},b.resolveGradient=function(s,h,u){var o=this.extractPropertyDefinition(s,u,"gradientDefs");if(o){var e=h.getAttribute(u+"-opacity"),n=O.Gradient.fromElement(o,s,e,this.options);s.set(u,n)}},b.createClipPathCallback=function(s,h){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,h.push(u)}},b.resolveClipPath=function(s,h){var u=this.extractPropertyDefinition(s,"clipPath","clipPaths"),o,e,n,t,a,l;if(u){t=[],n=O.util.invertTransform(s.calcTransformMatrix());for(var i=u[0].parentNode,f=h;f.parentNode&&f.getAttribute("clip-path")!==s.clipPath;)f=f.parentNode;f.parentNode.appendChild(i);for(var p=0;p<u.length;p++)o=u[p],e=this.findTag(o),e.fromElement(o,this.createClipPathCallback(s,t),this.options);t.length===1?u=t[0]:u=new O.Group(t),a=O.util.multiplyTransformMatrices(n,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,f);var l=O.util.qrDecompose(a);u.flipX=!1,u.flipY=!1,u.set("scaleX",l.scaleX),u.set("scaleY",l.scaleY),u.angle=l.angle,u.skewX=l.skewX,u.skewY=0,u.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),s.clipPath=u}else delete s.clipPath},b.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(O.ElementsParser.prototype),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=h;function h(u,o){this.x=u,this.y=o}h.prototype={type:"point",constructor:h,add:function(o){return new h(this.x+o.x,this.y+o.y)},addEquals:function(o){return this.x+=o.x,this.y+=o.y,this},scalarAdd:function(o){return new h(this.x+o,this.y+o)},scalarAddEquals:function(o){return this.x+=o,this.y+=o,this},subtract:function(o){return new h(this.x-o.x,this.y-o.y)},subtractEquals:function(o){return this.x-=o.x,this.y-=o.y,this},scalarSubtract:function(o){return new h(this.x-o,this.y-o)},scalarSubtractEquals:function(o){return this.x-=o,this.y-=o,this},multiply:function(o){return new h(this.x*o,this.y*o)},multiplyEquals:function(o){return this.x*=o,this.y*=o,this},divide:function(o){return new h(this.x/o,this.y/o)},divideEquals:function(o){return this.x/=o,this.y/=o,this},eq:function(o){return this.x===o.x&&this.y===o.y},lt:function(o){return this.x<o.x&&this.y<o.y},lte:function(o){return this.x<=o.x&&this.y<=o.y},gt:function(o){return this.x>o.x&&this.y>o.y},gte:function(o){return this.x>=o.x&&this.y>=o.y},lerp:function(o,e){return typeof e=="undefined"&&(e=.5),e=Math.max(Math.min(1,e),0),new h(this.x+(o.x-this.x)*e,this.y+(o.y-this.y)*e)},distanceFrom:function(o){var e=this.x-o.x,n=this.y-o.y;return Math.sqrt(e*e+n*n)},midPointFrom:function(o){return this.lerp(o)},min:function(o){return new h(Math.min(this.x,o.x),Math.min(this.y,o.y))},max:function(o){return new h(Math.max(this.x,o.x),Math.max(this.y,o.y))},toString:function(){return this.x+","+this.y},setXY:function(o,e){return this.x=o,this.y=e,this},setX:function(o){return this.x=o,this},setY:function(o){return this.y=o,this},setFromPoint:function(o){return this.x=o.x,this.y=o.y,this},swap:function(o){var e=this.x,n=this.y;this.x=o.x,this.y=o.y,o.x=e,o.y=n},clone:function(){return new h(this.x,this.y)}}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function h(u){this.status=u,this.points=[]}s.Intersection=h,s.Intersection.prototype={constructor:h,appendPoint:function(o){return this.points.push(o),this},appendPoints:function(o){return this.points=this.points.concat(o),this}},s.Intersection.intersectLineLine=function(u,o,e,n){var t,a=(n.x-e.x)*(u.y-e.y)-(n.y-e.y)*(u.x-e.x),l=(o.x-u.x)*(u.y-e.y)-(o.y-u.y)*(u.x-e.x),i=(n.y-e.y)*(o.x-u.x)-(n.x-e.x)*(o.y-u.y);if(i!==0){var f=a/i,p=l/i;0<=f&&f<=1&&0<=p&&p<=1?(t=new h("Intersection"),t.appendPoint(new s.Point(u.x+f*(o.x-u.x),u.y+f*(o.y-u.y)))):t=new h}else a===0||l===0?t=new h("Coincident"):t=new h("Parallel");return t},s.Intersection.intersectLinePolygon=function(u,o,e){var n=new h,t=e.length,a,l,i,f;for(f=0;f<t;f++)a=e[f],l=e[(f+1)%t],i=h.intersectLineLine(u,o,a,l),n.appendPoints(i.points);return n.points.length>0&&(n.status="Intersection"),n},s.Intersection.intersectPolygonPolygon=function(u,o){var e=new h,n=u.length,t;for(t=0;t<n;t++){var a=u[t],l=u[(t+1)%n],i=h.intersectLinePolygon(a,l,o);e.appendPoints(i.points)}return e.points.length>0&&(e.status="Intersection"),e},s.Intersection.intersectPolygonRectangle=function(u,o,e){var n=o.min(e),t=o.max(e),a=new s.Point(t.x,n.y),l=new s.Point(n.x,t.y),i=h.intersectLinePolygon(n,a,u),f=h.intersectLinePolygon(a,t,u),p=h.intersectLinePolygon(t,l,u),m=h.intersectLinePolygon(l,n,u),x=new h;return x.appendPoints(i.points),x.appendPoints(f.points),x.appendPoints(p.points),x.appendPoints(m.points),x.points.length>0&&(x.status="Intersection"),x}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}s.Color=h,s.Color.prototype={_tryParsingColor:function(e){var n;e in h.colorNameMap&&(e=h.colorNameMap[e]),e==="transparent"&&(n=[255,255,255,0]),n||(n=h.sourceFromHex(e)),n||(n=h.sourceFromRgb(e)),n||(n=h.sourceFromHsl(e)),n||(n=[0,0,0,1]),n&&this.setSource(n)},_rgbToHsl:function(e,n,t){e/=255,n/=255,t/=255;var a,l,i,f=s.util.array.max([e,n,t]),p=s.util.array.min([e,n,t]);if(i=(f+p)/2,f===p)a=l=0;else{var m=f-p;switch(l=i>.5?m/(2-f-p):m/(f+p),f){case e:a=(n-t)/m+(n<t?6:0);break;case n:a=(t-e)/m+2;break;case t:a=(e-n)/m+4;break}a/=6}return[Math.round(a*360),Math.round(l*100),Math.round(i*100)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),n=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+n[0]+","+n[1]+"%,"+n[2]+"%)"},toHsla:function(){var e=this.getSource(),n=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+e[3]+")"},toHex:function(){var e=this.getSource(),n,t,a;return n=e[0].toString(16),n=n.length===1?"0"+n:n,t=e[1].toString(16),t=t.length===1?"0"+t:t,a=e[2].toString(16),a=a.length===1?"0"+a:a,n.toUpperCase()+t.toUpperCase()+a.toUpperCase()},toHexa:function(){var e=this.getSource(),n;return n=Math.round(e[3]*255),n=n.toString(16),n=n.length===1?"0"+n:n,this.toHex()+n.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var n=this.getSource();return n[3]=e,this.setSource(n),this},toGrayscale:function(){var e=this.getSource(),n=parseInt((e[0]*.3+e[1]*.59+e[2]*.11).toFixed(0),10),t=e[3];return this.setSource([n,n,n,t]),this},toBlackWhite:function(e){var n=this.getSource(),t=(n[0]*.3+n[1]*.59+n[2]*.11).toFixed(0),a=n[3];return e=e||127,t=Number(t)<Number(e)?0:255,this.setSource([t,t,t,a]),this},overlayWith:function(e){e instanceof h||(e=new h(e));var n=[],t=this.getAlpha(),a=.5,l=this.getSource(),i=e.getSource(),f;for(f=0;f<3;f++)n.push(Math.round(l[f]*(1-a)+i[f]*a));return n[3]=t,this.setSource(n),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function u(o,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?o+(e-o)*6*n:n<1/2?e:n<2/3?o+(e-o)*(2/3-n)*6:o}s.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},s.Color.sourceFromRgb=function(o){var e=o.match(h.reRGBa);if(e){var n=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),t=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),a=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(n,10),parseInt(t,10),parseInt(a,10),e[4]?parseFloat(e[4]):1]}},s.Color.fromRgba=h.fromRgb,s.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},s.Color.sourceFromHsl=function(o){var e=o.match(h.reHSLa);if(!!e){var n=(parseFloat(e[1])%360+360)%360/360,t=parseFloat(e[2])/(/%$/.test(e[2])?100:1),a=parseFloat(e[3])/(/%$/.test(e[3])?100:1),l,i,f;if(t===0)l=i=f=a;else{var p=a<=.5?a*(t+1):a+t-a*t,m=a*2-p;l=u(m,p,n+1/3),i=u(m,p,n),f=u(m,p,n-1/3)}return[Math.round(l*255),Math.round(i*255),Math.round(f*255),e[4]?parseFloat(e[4]):1]}},s.Color.fromHsla=h.fromHsl,s.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},s.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var e=o.slice(o.indexOf("#")+1),n=e.length===3||e.length===4,t=e.length===8||e.length===4,a=n?e.charAt(0)+e.charAt(0):e.substring(0,2),l=n?e.charAt(1)+e.charAt(1):e.substring(2,4),i=n?e.charAt(2)+e.charAt(2):e.substring(4,6),f=t?n?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(a,16),parseInt(l,16),parseInt(i,16),parseFloat((parseInt(f,16)/255).toFixed(2))]}},s.Color.fromSource=function(o){var e=new h;return e.setSource(o),e}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],o={},e="left",n="top",t="right",a="bottom",l="center",i={top:a,bottom:n,left:t,right:e,center:l},f=s.util.radiansToDegrees,p=Math.sign||function(re){return(re>0)-(re<0)||+re};function m(re,Yt){var de=re.angle+f(Math.atan2(Yt.y,Yt.x))+360;return Math.round(de%360/45)}function x(re,Yt){var de=Yt.transform.target,N=de.canvas,Bt=s.util.object.clone(Yt);Bt.target=de,N&&N.fire("object:"+re,Bt),de.fire(re,Yt)}function M(re,Yt){var de=Yt.canvas,N=de.uniScaleKey,Bt=re[N];return de.uniformScaling&&!Bt||!de.uniformScaling&&Bt}function Y(re){return re.originX===l&&re.originY===l}function nt(re,Yt,de){var N=re.lockScalingX,Bt=re.lockScalingY;return!!(N&&Bt||!Yt&&(N||Bt)&&de||N&&Yt==="x"||Bt&&Yt==="y")}function xt(re,Yt,de){var N="not-allowed",Bt=M(re,de),U="";if(Yt.x!==0&&Yt.y===0?U="x":Yt.x===0&&Yt.y!==0&&(U="y"),nt(de,U,Bt))return N;var C=m(de,Yt);return h[C]+"-resize"}function Dt(re,Yt,de){var N="not-allowed";if(Yt.x!==0&&de.lockSkewingY||Yt.y!==0&&de.lockSkewingX)return N;var Bt=m(de,Yt)%4;return u[Bt]+"-resize"}function Ut(re,Yt,de){return re[de.canvas.altActionKey]?o.skewCursorStyleHandler(re,Yt,de):o.scaleCursorStyleHandler(re,Yt,de)}function fe(re,Yt,de){var N=re[de.canvas.altActionKey];if(Yt.x===0)return N?"skewX":"scaleY";if(Yt.y===0)return N?"skewY":"scaleX"}function Oe(re,Yt,de){return de.lockRotation?"not-allowed":Yt.cursorStyle}function _t(re,Yt,de,N){return{e:re,transform:Yt,pointer:{x:de,y:N}}}function Vt(re){return function(Yt,de,N,Bt){var U=de.target,C=U.getCenterPoint(),A=U.translateToOriginPoint(C,de.originX,de.originY),q=re(Yt,de,N,Bt);return U.setPositionByOrigin(A,de.originX,de.originY),q}}function J(re,Yt){return function(de,N,Bt,U){var C=Yt(de,N,Bt,U);return C&&x(re,_t(de,N,Bt,U)),C}}function be(re,Yt,de,N,Bt){var U=re.target,C=U.controls[re.corner],A=U.canvas.getZoom(),q=U.padding/A,at=U.toLocalPoint(new s.Point(N,Bt),Yt,de);return at.x>=q&&(at.x-=q),at.x<=-q&&(at.x+=q),at.y>=q&&(at.y-=q),at.y<=q&&(at.y+=q),at.x-=C.offsetX,at.y-=C.offsetY,at}function Qe(re){return re.flipX!==re.flipY}function W(re,Yt,de,N,Bt){if(re[Yt]!==0){var U=re._getTransformedDimensions()[N],C=Bt/U*re[de];re.set(de,C)}}function At(re,Yt,de,N){var Bt=Yt.target,U=Bt._getTransformedDimensions(0,Bt.skewY),C=be(Yt,Yt.originX,Yt.originY,de,N),A=Math.abs(C.x*2)-U.x,q=Bt.skewX,at;A<2?at=0:(at=f(Math.atan2(A/Bt.scaleX,U.y/Bt.scaleY)),Yt.originX===e&&Yt.originY===a&&(at=-at),Yt.originX===t&&Yt.originY===n&&(at=-at),Qe(Bt)&&(at=-at));var Ot=q!==at;if(Ot){var St=Bt._getTransformedDimensions().y;Bt.set("skewX",at),W(Bt,"skewY","scaleY","y",St)}return Ot}function V(re,Yt,de,N){var Bt=Yt.target,U=Bt._getTransformedDimensions(Bt.skewX,0),C=be(Yt,Yt.originX,Yt.originY,de,N),A=Math.abs(C.y*2)-U.y,q=Bt.skewY,at;A<2?at=0:(at=f(Math.atan2(A/Bt.scaleY,U.x/Bt.scaleX)),Yt.originX===e&&Yt.originY===a&&(at=-at),Yt.originX===t&&Yt.originY===n&&(at=-at),Qe(Bt)&&(at=-at));var Ot=q!==at;if(Ot){var St=Bt._getTransformedDimensions().x;Bt.set("skewY",at),W(Bt,"skewX","scaleX","x",St)}return Ot}function it(re,Yt,de,N){var Bt=Yt.target,U=Bt.skewX,C,A=Yt.originY;if(Bt.lockSkewingX)return!1;if(U===0){var q=be(Yt,l,l,de,N);q.x>0?C=e:C=t}else U>0&&(C=A===n?e:t),U<0&&(C=A===n?t:e),Qe(Bt)&&(C=C===e?t:e);Yt.originX=C;var at=J("skewing",Vt(At));return at(re,Yt,de,N)}function et(re,Yt,de,N){var Bt=Yt.target,U=Bt.skewY,C,A=Yt.originX;if(Bt.lockSkewingY)return!1;if(U===0){var q=be(Yt,l,l,de,N);q.y>0?C=n:C=a}else U>0&&(C=A===e?n:a),U<0&&(C=A===e?a:n),Qe(Bt)&&(C=C===n?a:n);Yt.originY=C;var at=J("skewing",Vt(V));return at(re,Yt,de,N)}function F(re,Yt,de,N){var Bt=Yt,U=Bt.target,C=U.translateToOriginPoint(U.getCenterPoint(),Bt.originX,Bt.originY);if(U.lockRotation)return!1;var A=Math.atan2(Bt.ey-C.y,Bt.ex-C.x),q=Math.atan2(N-C.y,de-C.x),at=f(q-A+Bt.theta),Ot=!0;if(U.snapAngle>0){var St=U.snapAngle,xe=U.snapThreshold||St,Ne=Math.ceil(at/St)*St,we=Math.floor(at/St)*St;Math.abs(at-we)<xe?at=we:Math.abs(at-Ne)<xe&&(at=Ne)}return at<0&&(at=360+at),at%=360,Ot=U.angle!==at,U.angle=at,Ot}function K(re,Yt,de,N,Bt){Bt=Bt||{};var U=Yt.target,C=U.lockScalingX,A=U.lockScalingY,q=Bt.by,at,Ot,St,xe,Ne=M(re,U),we=nt(U,q,Ne),Ke,xr,Or=Yt.gestureScale;if(we)return!1;if(Or)Ot=Yt.scaleX*Or,St=Yt.scaleY*Or;else{if(at=be(Yt,Yt.originX,Yt.originY,de,N),Ke=q!=="y"?p(at.x):1,xr=q!=="x"?p(at.y):1,Yt.signX||(Yt.signX=Ke),Yt.signY||(Yt.signY=xr),U.lockScalingFlip&&(Yt.signX!==Ke||Yt.signY!==xr))return!1;if(xe=U._getTransformedDimensions(),Ne&&!q){var Jr=Math.abs(at.x)+Math.abs(at.y),fn=Yt.original,En=Math.abs(xe.x*fn.scaleX/U.scaleX)+Math.abs(xe.y*fn.scaleY/U.scaleY),ri=Jr/En;Ot=fn.scaleX*ri,St=fn.scaleY*ri}else Ot=Math.abs(at.x*U.scaleX/xe.x),St=Math.abs(at.y*U.scaleY/xe.y);Y(Yt)&&(Ot*=2,St*=2),Yt.signX!==Ke&&q!=="y"&&(Yt.originX=i[Yt.originX],Ot*=-1,Yt.signX=Ke),Yt.signY!==xr&&q!=="x"&&(Yt.originY=i[Yt.originY],St*=-1,Yt.signY=xr)}var Yr=U.scaleX,zn=U.scaleY;return q?(q==="x"&&U.set("scaleX",Ot),q==="y"&&U.set("scaleY",St)):(!C&&U.set("scaleX",Ot),!A&&U.set("scaleY",St)),Yr!==U.scaleX||zn!==U.scaleY}function ht(re,Yt,de,N){return K(re,Yt,de,N)}function dt(re,Yt,de,N){return K(re,Yt,de,N,{by:"x"})}function Wt(re,Yt,de,N){return K(re,Yt,de,N,{by:"y"})}function Tt(re,Yt,de,N){return re[Yt.target.canvas.altActionKey]?o.skewHandlerX(re,Yt,de,N):o.scalingY(re,Yt,de,N)}function jt(re,Yt,de,N){return re[Yt.target.canvas.altActionKey]?o.skewHandlerY(re,Yt,de,N):o.scalingX(re,Yt,de,N)}function ce(re,Yt,de,N){var Bt=Yt.target,U=be(Yt,Yt.originX,Yt.originY,de,N),C=Bt.strokeWidth/(Bt.strokeUniform?Bt.scaleX:1),A=Y(Yt)?2:1,q=Bt.width,at=Math.abs(U.x*A/Bt.scaleX)-C;return Bt.set("width",Math.max(at,0)),q!==at}function ve(re,Yt,de,N){var Bt=Yt.target,U=de-Yt.offsetX,C=N-Yt.offsetY,A=!Bt.get("lockMovementX")&&Bt.left!==U,q=!Bt.get("lockMovementY")&&Bt.top!==C;return A&&Bt.set("left",U),q&&Bt.set("top",C),(A||q)&&x("moving",_t(re,Yt,de,N)),A||q}o.scaleCursorStyleHandler=xt,o.skewCursorStyleHandler=Dt,o.scaleSkewCursorStyleHandler=Ut,o.rotationWithSnapping=J("rotating",Vt(F)),o.scalingEqually=J("scaling",Vt(ht)),o.scalingX=J("scaling",Vt(dt)),o.scalingY=J("scaling",Vt(Wt)),o.scalingYOrSkewingX=Tt,o.scalingXOrSkewingY=jt,o.changeWidth=J("resizing",Vt(ce)),o.skewHandlerX=it,o.skewHandlerY=et,o.dragHandler=ve,o.scaleOrSkewActionName=fe,o.rotationStyleHandler=Oe,o.fireEvent=x,o.wrapWithFixedAnchor=Vt,o.wrapWithFireEvent=J,o.getLocalPoint=be,s.controlsUtils=o}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.degreesToRadians,u=s.controlsUtils;function o(n,t,a,l,i){l=l||{};var f=this.sizeX||l.cornerSize||i.cornerSize,p=this.sizeY||l.cornerSize||i.cornerSize,m=typeof l.transparentCorners!="undefined"?l.transparentCorners:i.transparentCorners,x=m?"stroke":"fill",M=!m&&(l.cornerStrokeColor||i.cornerStrokeColor),Y=t,nt=a,xt;n.save(),n.fillStyle=l.cornerColor||i.cornerColor,n.strokeStyle=l.cornerStrokeColor||i.cornerStrokeColor,f>p?(xt=f,n.scale(1,p/f),nt=a*f/p):p>f?(xt=p,n.scale(f/p,1),Y=t*p/f):xt=f,n.lineWidth=1,n.beginPath(),n.arc(Y,nt,xt/2,0,2*Math.PI,!1),n[x](),M&&n.stroke(),n.restore()}function e(n,t,a,l,i){l=l||{};var f=this.sizeX||l.cornerSize||i.cornerSize,p=this.sizeY||l.cornerSize||i.cornerSize,m=typeof l.transparentCorners!="undefined"?l.transparentCorners:i.transparentCorners,x=m?"stroke":"fill",M=!m&&(l.cornerStrokeColor||i.cornerStrokeColor),Y=f/2,nt=p/2;n.save(),n.fillStyle=l.cornerColor||i.cornerColor,n.strokeStyle=l.cornerStrokeColor||i.cornerStrokeColor,n.lineWidth=1,n.translate(t,a),n.rotate(h(i.angle)),n[x+"Rect"](-Y,-nt,f,p),M&&n.strokeRect(-Y,-nt,f,p),n.restore()}u.renderCircleControl=o,u.renderSquareControl=e}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={});function h(u){for(var o in u)this[o]=u[o]}s.Control=h,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(o,e){return e.cursorStyle},getActionName:function(o,e){return e.actionName},getVisibility:function(o,e){var n=o._controlsVisibility;return n&&typeof n[e]!="undefined"?n[e]:this.visible},setVisibility:function(o){this.visible=o},positionHandler:function(o,e){var n=s.util.transformPoint({x:this.x*o.x+this.offsetX,y:this.y*o.y+this.offsetY},e);return n},calcCornerCoords:function(o,e,n,t,a){var l,i,f,p,m=a?this.touchSizeX:this.sizeX,x=a?this.touchSizeY:this.sizeY;if(m&&x&&m!==x){var M=Math.atan2(x,m),Y=Math.sqrt(m*m+x*x)/2,nt=M-s.util.degreesToRadians(o),xt=Math.PI/2-M-s.util.degreesToRadians(o);l=Y*s.util.cos(nt),i=Y*s.util.sin(nt),f=Y*s.util.cos(xt),p=Y*s.util.sin(xt)}else{var Dt=m&&x?m:e;Y=Dt*.7071067812;var nt=s.util.degreesToRadians(45-o);l=f=Y*s.util.cos(nt),i=p=Y*s.util.sin(nt)}return{tl:{x:n-p,y:t-f},tr:{x:n+l,y:t-i},bl:{x:n-l,y:t+i},br:{x:n+p,y:t+f}}},render:function(o,e,n,t,a){switch(t=t||{},t.cornerStyle||a.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,o,e,n,t,a);break;default:s.controlsUtils.renderSquareControl.call(this,o,e,n,t,a)}}}}(_r),function(){function b(e,n){var t=e.getAttribute("style"),a=e.getAttribute("offset")||0,l,i,f,p;if(a=parseFloat(a)/(/%$/.test(a)?100:1),a=a<0?0:a>1?1:a,t){var m=t.split(/\s*;\s*/);for(m[m.length-1]===""&&m.pop(),p=m.length;p--;){var x=m[p].split(/\s*:\s*/),M=x[0].trim(),Y=x[1].trim();M==="stop-color"?l=Y:M==="stop-opacity"&&(f=Y)}}return l||(l=e.getAttribute("stop-color")||"rgb(0,0,0)"),f||(f=e.getAttribute("stop-opacity")),l=new O.Color(l),i=l.getAlpha(),f=isNaN(parseFloat(f))?1:parseFloat(f),f*=i*n,{offset:a,color:l.toRgb(),opacity:f}}function s(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}function h(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}var u=O.util.object.clone;O.Gradient=O.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(n){n||(n={}),n.coords||(n.coords={});var t,a=this;Object.keys(n).forEach(function(l){a[l]=n[l]}),this.id?this.id+="_"+O.Object.__uid++:this.id=O.Object.__uid++,t={x1:n.coords.x1||0,y1:n.coords.y1||0,x2:n.coords.x2||0,y2:n.coords.y2||0},this.type==="radial"&&(t.r1=n.coords.r1||0,t.r2=n.coords.r2||0),this.coords=t,this.colorStops=n.colorStops.slice()},addColorStop:function(n){for(var t in n){var a=new O.Color(n[t]);this.colorStops.push({offset:parseFloat(t),color:a.toRgb(),opacity:a.getAlpha()})}return this},toObject:function(n){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return O.util.populateWithProperties(this,t,n),t},toSVG:function(n,t){var a=u(this.coords,!0),l,i,t=t||{},f,p,m=u(this.colorStops,!0),x=a.r1>a.r2,M=this.gradientTransform?this.gradientTransform.concat():O.iMatrix.concat(),Y=-this.offsetX,nt=-this.offsetY,xt=!!t.additionalTransform,Dt=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(m.sort(function(Vt,J){return Vt.offset-J.offset}),Dt==="objectBoundingBox"?(Y/=n.width,nt/=n.height):(Y+=n.width/2,nt+=n.height/2),n.type==="path"&&this.gradientUnits!=="percentage"&&(Y-=n.pathOffset.x,nt-=n.pathOffset.y),M[4]-=Y,M[5]-=nt,p='id="SVGID_'+this.id+'" gradientUnits="'+Dt+'"',p+=' gradientTransform="'+(xt?t.additionalTransform+" ":"")+O.util.matrixToSVG(M)+'" ',this.type==="linear"?f=["<linearGradient ",p,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`">
`]:this.type==="radial"&&(f=["<radialGradient ",p,' cx="',x?a.x1:a.x2,'" cy="',x?a.y1:a.y2,'" r="',x?a.r1:a.r2,'" fx="',x?a.x2:a.x1,'" fy="',x?a.y2:a.y1,`">
`]),this.type==="radial"){if(x)for(m=m.concat(),m.reverse(),l=0,i=m.length;l<i;l++)m[l].offset=1-m[l].offset;var Ut=Math.min(a.r1,a.r2);if(Ut>0){var fe=Math.max(a.r1,a.r2),Oe=Ut/fe;for(l=0,i=m.length;l<i;l++)m[l].offset+=Oe*(1-m[l].offset)}}for(l=0,i=m.length;l<i;l++){var _t=m[l];f.push("<stop ",'offset="',_t.offset*100+"%",'" style="stop-color:',_t.color,typeof _t.opacity!="undefined"?";stop-opacity: "+_t.opacity:";",`"/>
`)}return f.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),f.join("")},toLive:function(n){var t,a=O.util.object.clone(this.coords),l,i;if(!!this.type){for(this.type==="linear"?t=n.createLinearGradient(a.x1,a.y1,a.x2,a.y2):this.type==="radial"&&(t=n.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2)),l=0,i=this.colorStops.length;l<i;l++){var f=this.colorStops[l].color,p=this.colorStops[l].opacity,m=this.colorStops[l].offset;typeof p!="undefined"&&(f=new O.Color(f).setAlpha(p).toRgba()),t.addColorStop(m,f)}return t}}}),O.util.object.extend(O.Gradient,{fromElement:function(n,t,a,l){var i=parseFloat(a)/(/%$/.test(a)?100:1);i=i<0?0:i>1?1:i,isNaN(i)&&(i=1);var f=n.getElementsByTagName("stop"),p,m=n.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",x=n.getAttribute("gradientTransform")||"",M=[],Y,nt,xt=0,Dt=0,Ut;for(n.nodeName==="linearGradient"||n.nodeName==="LINEARGRADIENT"?(p="linear",Y=s(n)):(p="radial",Y=h(n)),nt=f.length;nt--;)M.push(b(f[nt],i));Ut=O.parseTransformAttribute(x),o(t,Y,l,m),m==="pixels"&&(xt=-t.left,Dt=-t.top);var fe=new O.Gradient({id:n.getAttribute("id"),type:p,coords:Y,colorStops:M,gradientUnits:m,gradientTransform:Ut,offsetX:xt,offsetY:Dt});return fe}});function o(e,n,t,a){var l,i;Object.keys(n).forEach(function(f){l=n[f],l==="Infinity"?i=1:l==="-Infinity"?i=0:(i=parseFloat(n[f],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(i*=.01,a==="pixels"&&((f==="x1"||f==="x2"||f==="r2")&&(i*=t.viewBoxWidth||t.width),(f==="y1"||f==="y2")&&(i*=t.viewBoxHeight||t.height)))),n[f]=i})}}(),function(){"use strict";var b=O.util.toFixed;O.Pattern=O.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(h,u){if(h||(h={}),this.id=O.Object.__uid++,this.setOptions(h),!h.source||h.source&&typeof h.source!="string"){u&&u(this);return}else{var o=this;this.source=O.util.createImage(),O.util.loadImage(h.source,function(e,n){o.source=e,u&&u(o,n)},null,this.crossOrigin)}},toObject:function(h){var u=O.Object.NUM_FRACTION_DIGITS,o,e;return typeof this.source.src=="string"?o=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(o=this.source.toDataURL()),e={type:"pattern",source:o,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:b(this.offsetX,u),offsetY:b(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},O.util.populateWithProperties(this,e,h),e},toSVG:function(h){var u=typeof this.source=="function"?this.source():this.source,o=u.width/h.width,e=u.height/h.height,n=this.offsetX/h.width,t=this.offsetY/h.height,a="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(e=1,t&&(e+=Math.abs(t))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(o=1,n&&(o+=Math.abs(n))),u.src?a=u.src:u.toDataURL&&(a=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+n+'" y="'+t+'" width="'+o+'" height="'+e+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+a+`"></image>
</pattern>
`},setOptions:function(h){for(var u in h)this[u]=h[u]},toLive:function(h){var u=this.source;return!u||typeof u.src!="undefined"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":h.createPattern(u,this.repeat)}})}(),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(o){typeof o=="string"&&(o=this._parseShadow(o));for(var e in o)this[e]=o[e];this.id=s.Object.__uid++},_parseShadow:function(o){var e=o.trim(),n=s.Shadow.reOffsetsAndBlur.exec(e)||[],t=e.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:t.trim(),offsetX:parseFloat(n[1],10)||0,offsetY:parseFloat(n[2],10)||0,blur:parseFloat(n[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(o){var e=40,n=40,t=s.Object.NUM_FRACTION_DIGITS,a=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-o.angle)),l=20,i=new s.Color(this.color);return o.width&&o.height&&(e=h((Math.abs(a.x)+this.blur)/o.width,t)*100+l,n=h((Math.abs(a.y)+this.blur)/o.height,t)*100+l),o.flipX&&(a.x*=-1),o.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+n+'%" height="'+(100+2*n)+'%" x="-'+e+'%" width="'+(100+2*e)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,t)+`"></feGaussianBlur>
	<feOffset dx="`+h(a.x,t)+'" dy="'+h(a.y,t)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+i.toRgb()+'" flood-opacity="'+i.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var o={},e=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(n){this[n]!==e[n]&&(o[n]=this[n])},this),o}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(_r),function(){"use strict";if(O.StaticCanvas){O.warn("fabric.StaticCanvas is already defined.");return}var b=O.util.object.extend,s=O.util.getElementOffset,h=O.util.removeFromArray,u=O.util.toFixed,o=O.util.transformPoint,e=O.util.invertTransform,n=O.util.getNodeCanvas,t=O.util.createCanvasElement,a=new Error("Could not initialize `canvas` element");O.StaticCanvas=O.util.createClass(O.CommonMethods,{initialize:function(i,f){f||(f={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,f)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:O.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(i,f){var p=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(i),this._initOptions(f),this.interactive||this._initRetinaScaling(),f.overlayImage&&this.setOverlayImage(f.overlayImage,p),f.backgroundImage&&this.setBackgroundImage(f.backgroundImage,p),f.backgroundColor&&this.setBackgroundColor(f.backgroundColor,p),f.overlayColor&&this.setOverlayColor(f.overlayColor,p),this.calcOffset()},_isRetinaScaling:function(){return O.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,O.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var i=O.devicePixelRatio;this.__initRetinaScaling(i,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(i,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(i,f,p){f.setAttribute("width",this.width*i),f.setAttribute("height",this.height*i),p.scale(i,i)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(i,f,p){return this.__setBgOverlayImage("overlayImage",i,f,p)},setBackgroundImage:function(i,f,p){return this.__setBgOverlayImage("backgroundImage",i,f,p)},setOverlayColor:function(i,f){return this.__setBgOverlayColor("overlayColor",i,f)},setBackgroundColor:function(i,f){return this.__setBgOverlayColor("backgroundColor",i,f)},__setBgOverlayImage:function(i,f,p,m){return typeof f=="string"?O.util.loadImage(f,function(x,M){if(x){var Y=new O.Image(x,m);this[i]=Y,Y.canvas=this}p&&p(x,M)},this,m&&m.crossOrigin):(m&&f.setOptions(m),this[i]=f,f&&(f.canvas=this),p&&p(f,!1)),this},__setBgOverlayColor:function(i,f,p){return this[i]=f,this._initGradient(f,i),this._initPattern(f,i,p),this},_createCanvasElement:function(){var i=t();if(!i||(i.style||(i.style={}),typeof i.getContext=="undefined"))throw a;return i},_initOptions:function(i){var f=this.lowerCanvasEl;this._setOptions(i),this.width=this.width||parseInt(f.width,10)||0,this.height=this.height||parseInt(f.height,10)||0,!!this.lowerCanvasEl.style&&(f.width=this.width,f.height=this.height,f.style.width=this.width+"px",f.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(i){i&&i.getContext?this.lowerCanvasEl=i:this.lowerCanvasEl=O.util.getById(i)||this._createCanvasElement(),O.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(i,f){return this.setDimensions({width:i},f)},setHeight:function(i,f){return this.setDimensions({height:i},f)},setDimensions:function(i,f){var p;f=f||{};for(var m in i)p=i[m],f.cssOnly||(this._setBackstoreDimension(m,i[m]),p+="px",this.hasLostContext=!0),f.backstoreOnly||this._setCssDimension(m,p);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),f.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(i,f){return this.lowerCanvasEl[i]=f,this.upperCanvasEl&&(this.upperCanvasEl[i]=f),this.cacheCanvasEl&&(this.cacheCanvasEl[i]=f),this[i]=f,this},_setCssDimension:function(i,f){return this.lowerCanvasEl.style[i]=f,this.upperCanvasEl&&(this.upperCanvasEl.style[i]=f),this.wrapperEl&&(this.wrapperEl.style[i]=f),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(i){var f=this._activeObject,p=this.backgroundImage,m=this.overlayImage,x,M,Y;for(this.viewportTransform=i,M=0,Y=this._objects.length;M<Y;M++)x=this._objects[M],x.group||x.setCoords(!0);return f&&f.setCoords(),p&&p.setCoords(!0),m&&m.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(i,f){var p=i,m=this.viewportTransform.slice(0);i=o(i,e(this.viewportTransform)),m[0]=f,m[3]=f;var x=o(i,m);return m[4]+=p.x-x.x,m[5]+=p.y-x.y,this.setViewportTransform(m)},setZoom:function(i){return this.zoomToPoint(new O.Point(0,0),i),this},absolutePan:function(i){var f=this.viewportTransform.slice(0);return f[4]=-i.x,f[5]=-i.y,this.setViewportTransform(f)},relativePan:function(i){return this.absolutePan(new O.Point(-i.x-this.viewportTransform[4],-i.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(i){this.stateful&&i.setupState(),i._set("canvas",this),i.setCoords(),this.fire("object:added",{target:i}),i.fire("added")},_onObjectRemoved:function(i){this.fire("object:removed",{target:i}),i.fire("removed"),delete i.canvas},clearContext:function(i){return i.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var i=this.contextContainer;return this.renderCanvas(i,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=O.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var i={},f=this.width,p=this.height,m=e(this.viewportTransform);return i.tl=o({x:0,y:0},m),i.br=o({x:f,y:p},m),i.tr=new O.Point(i.br.x,i.tl.y),i.bl=new O.Point(i.tl.x,i.br.y),this.vptCoords=i,i},cancelRequestedRender:function(){this.isRendering&&(O.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(i,f){var p=this.viewportTransform,m=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(i),O.util.setImageSmoothing(i,this.imageSmoothingEnabled),this.fire("before:render",{ctx:i}),this._renderBackground(i),i.save(),i.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._renderObjects(i,f),i.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(i),m&&(m.canvas=this,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(i)),this._renderOverlay(i),this.controlsAboveOverlay&&this.interactive&&this.drawControls(i),this.fire("after:render",{ctx:i})},drawClipPathOnCanvas:function(i){var f=this.viewportTransform,p=this.clipPath;i.save(),i.transform(f[0],f[1],f[2],f[3],f[4],f[5]),i.globalCompositeOperation="destination-in",p.transform(i),i.scale(1/p.zoomX,1/p.zoomY),i.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),i.restore()},_renderObjects:function(i,f){var p,m;for(p=0,m=f.length;p<m;++p)f[p]&&f[p].render(i)},_renderBackgroundOrOverlay:function(i,f){var p=this[f+"Color"],m=this[f+"Image"],x=this.viewportTransform,M=this[f+"Vpt"];if(!(!p&&!m)){if(p){i.save(),i.beginPath(),i.moveTo(0,0),i.lineTo(this.width,0),i.lineTo(this.width,this.height),i.lineTo(0,this.height),i.closePath(),i.fillStyle=p.toLive?p.toLive(i,this):p,M&&i.transform(x[0],x[1],x[2],x[3],x[4],x[5]),i.transform(1,0,0,1,p.offsetX||0,p.offsetY||0);var Y=p.gradientTransform||p.patternTransform;Y&&i.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),i.fill(),i.restore()}m&&(i.save(),M&&i.transform(x[0],x[1],x[2],x[3],x[4],x[5]),m.render(i),i.restore())}},_renderBackground:function(i){this._renderBackgroundOrOverlay(i,"background")},_renderOverlay:function(i){this._renderBackgroundOrOverlay(i,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new O.Point(this.width/2,this.height/2)},centerObjectH:function(i){return this._centerObject(i,new O.Point(this.getCenterPoint().x,i.getCenterPoint().y))},centerObjectV:function(i){return this._centerObject(i,new O.Point(i.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(i){var f=this.getCenterPoint();return this._centerObject(i,f)},viewportCenterObject:function(i){var f=this.getVpCenter();return this._centerObject(i,f)},viewportCenterObjectH:function(i){var f=this.getVpCenter();return this._centerObject(i,new O.Point(f.x,i.getCenterPoint().y)),this},viewportCenterObjectV:function(i){var f=this.getVpCenter();return this._centerObject(i,new O.Point(i.getCenterPoint().x,f.y))},getVpCenter:function(){var i=this.getCenterPoint(),f=e(this.viewportTransform);return o(i,f)},_centerObject:function(i,f){return i.setPositionByOrigin(f,"center","center"),i.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(i){return this.toDatalessObject(i)},toObject:function(i){return this._toObjectMethod("toObject",i)},toDatalessObject:function(i){return this._toObjectMethod("toDatalessObject",i)},_toObjectMethod:function(i,f){var p=this.clipPath,m={version:O.version,objects:this._toObjects(i,f)};return p&&!p.excludeFromExport&&(m.clipPath=this._toObject(this.clipPath,i,f)),b(m,this.__serializeBgOverlay(i,f)),O.util.populateWithProperties(this,m,f),m},_toObjects:function(i,f){return this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){return this._toObject(p,i,f)},this)},_toObject:function(i,f,p){var m;this.includeDefaultValues||(m=i.includeDefaultValues,i.includeDefaultValues=!1);var x=i[f](p);return this.includeDefaultValues||(i.includeDefaultValues=m),x},__serializeBgOverlay:function(i,f){var p={},m=this.backgroundImage,x=this.overlayImage,M=this.backgroundColor,Y=this.overlayColor;return M&&M.toObject?M.excludeFromExport||(p.background=M.toObject(f)):M&&(p.background=M),Y&&Y.toObject?Y.excludeFromExport||(p.overlay=Y.toObject(f)):Y&&(p.overlay=Y),m&&!m.excludeFromExport&&(p.backgroundImage=this._toObject(m,i,f)),x&&!x.excludeFromExport&&(p.overlayImage=this._toObject(x,i,f)),p},svgViewportTransformation:!0,toSVG:function(i,f){i||(i={}),i.reviver=f;var p=[];return this._setSVGPreamble(p,i),this._setSVGHeader(p,i),this.clipPath&&p.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(p,"background"),this._setSVGBgOverlayImage(p,"backgroundImage",f),this._setSVGObjects(p,f),this.clipPath&&p.push(`</g>
`),this._setSVGBgOverlayColor(p,"overlay"),this._setSVGBgOverlayImage(p,"overlayImage",f),p.push("</svg>"),p.join("")},_setSVGPreamble:function(i,f){f.suppressPreamble||i.push('<?xml version="1.0" encoding="',f.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(i,f){var p=f.width||this.width,m=f.height||this.height,x,M='viewBox="0 0 '+this.width+" "+this.height+'" ',Y=O.Object.NUM_FRACTION_DIGITS;f.viewBox?M='viewBox="'+f.viewBox.x+" "+f.viewBox.y+" "+f.viewBox.width+" "+f.viewBox.height+'" ':this.svgViewportTransformation&&(x=this.viewportTransform,M='viewBox="'+u(-x[4]/x[0],Y)+" "+u(-x[5]/x[3],Y)+" "+u(this.width/x[0],Y)+" "+u(this.height/x[3],Y)+'" '),i.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',p,'" ','height="',m,'" ',M,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",O.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(f),`</defs>
`)},createSVGClipPathMarkup:function(i){var f=this.clipPath;return f?(f.clipPathId="CLIPPATH_"+O.Object.__uid++,'<clipPath id="'+f.clipPathId+`" >
`+this.clipPath.toClipPathSVG(i.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var i=this,f=["background","overlay"].map(function(p){var m=i[p+"Color"];if(m&&m.toLive){var x=i[p+"Vpt"],M=i.viewportTransform,Y={width:i.width/(x?M[0]:1),height:i.height/(x?M[3]:1)};return m.toSVG(Y,{additionalTransform:x?O.util.matrixToSVG(M):""})}});return f.join("")},createSVGFontFacesMarkup:function(){var i="",f={},p,m,x,M,Y,nt,xt,Dt,Ut,fe=O.fontPaths,Oe=[];for(this._objects.forEach(function Vt(J){Oe.push(J),J._objects&&J._objects.forEach(Vt)}),Dt=0,Ut=Oe.length;Dt<Ut;Dt++)if(p=Oe[Dt],m=p.fontFamily,!(p.type.indexOf("text")===-1||f[m]||!fe[m])&&(f[m]=!0,!!p.styles)){x=p.styles;for(Y in x){M=x[Y];for(xt in M)nt=M[xt],m=nt.fontFamily,!f[m]&&fe[m]&&(f[m]=!0)}}for(var _t in f)i+=[`		@font-face {
`,"			font-family: '",_t,`';
`,"			src: url('",fe[_t],`');
`,`		}
`].join("");return i&&(i=['	<style type="text/css">',`<![CDATA[
`,i,"]]>",`</style>
`].join("")),i},_setSVGObjects:function(i,f){var p,m,x,M=this._objects;for(m=0,x=M.length;m<x;m++)p=M[m],!p.excludeFromExport&&this._setSVGObject(i,p,f)},_setSVGObject:function(i,f,p){i.push(f.toSVG(p))},_setSVGBgOverlayImage:function(i,f,p){this[f]&&!this[f].excludeFromExport&&this[f].toSVG&&i.push(this[f].toSVG(p))},_setSVGBgOverlayColor:function(i,f){var p=this[f+"Color"],m=this.viewportTransform,x=this.width,M=this.height;if(!!p)if(p.toLive){var Y=p.repeat,nt=O.util.invertTransform(m),xt=this[f+"Vpt"],Dt=xt?O.util.matrixToSVG(nt):"";i.push('<rect transform="'+Dt+" translate(",x/2,",",M/2,')"',' x="',p.offsetX-x/2,'" y="',p.offsetY-M/2,'" ','width="',Y==="repeat-y"||Y==="no-repeat"?p.source.width:x,'" height="',Y==="repeat-x"||Y==="no-repeat"?p.source.height:M,'" fill="url(#SVGID_'+p.id+')"',`></rect>
`)}else i.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',p,'"',`></rect>
`)},sendToBack:function(i){if(!i)return this;var f=this._activeObject,p,m,x;if(i===f&&i.type==="activeSelection")for(x=f._objects,p=x.length;p--;)m=x[p],h(this._objects,m),this._objects.unshift(m);else h(this._objects,i),this._objects.unshift(i);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(i){if(!i)return this;var f=this._activeObject,p,m,x;if(i===f&&i.type==="activeSelection")for(x=f._objects,p=0;p<x.length;p++)m=x[p],h(this._objects,m),this._objects.push(m);else h(this._objects,i),this._objects.push(i);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(i,f){if(!i)return this;var p=this._activeObject,m,x,M,Y,nt,xt=0;if(i===p&&i.type==="activeSelection")for(nt=p._objects,m=0;m<nt.length;m++)x=nt[m],M=this._objects.indexOf(x),M>0+xt&&(Y=M-1,h(this._objects,x),this._objects.splice(Y,0,x)),xt++;else M=this._objects.indexOf(i),M!==0&&(Y=this._findNewLowerIndex(i,M,f),h(this._objects,i),this._objects.splice(Y,0,i));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(i,f,p){var m,x;if(p)for(m=f,x=f-1;x>=0;--x){var M=i.intersectsWithObject(this._objects[x])||i.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(i);if(M){m=x;break}}else m=f-1;return m},bringForward:function(i,f){if(!i)return this;var p=this._activeObject,m,x,M,Y,nt,xt=0;if(i===p&&i.type==="activeSelection")for(nt=p._objects,m=nt.length;m--;)x=nt[m],M=this._objects.indexOf(x),M<this._objects.length-1-xt&&(Y=M+1,h(this._objects,x),this._objects.splice(Y,0,x)),xt++;else M=this._objects.indexOf(i),M!==this._objects.length-1&&(Y=this._findNewUpperIndex(i,M,f),h(this._objects,i),this._objects.splice(Y,0,i));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(i,f,p){var m,x,M;if(p)for(m=f,x=f+1,M=this._objects.length;x<M;++x){var Y=i.intersectsWithObject(this._objects[x])||i.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(i);if(Y){m=x;break}}else m=f+1;return m},moveTo:function(i,f){return h(this._objects,i),this._objects.splice(f,0,i),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(O.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),O.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),O.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),b(O.StaticCanvas.prototype,O.Observable),b(O.StaticCanvas.prototype,O.Collection),b(O.StaticCanvas.prototype,O.DataURLExporter),b(O.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(i){var f=t();if(!f||!f.getContext)return null;var p=f.getContext("2d");if(!p)return null;switch(i){case"setLineDash":return typeof p.setLineDash!="undefined";default:return null}}}),O.StaticCanvas.prototype.toJSON=O.StaticCanvas.prototype.toObject,O.isLikelyNode&&(O.StaticCanvas.prototype.createPNGStream=function(){var l=n(this.lowerCanvasEl);return l&&l.createPNGStream()},O.StaticCanvas.prototype.createJPEGStream=function(l){var i=n(this.lowerCanvasEl);return i&&i.createJPEGStream(l)})}(),O.BaseBrush=O.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(s){s.strokeStyle=this.color,s.lineWidth=this.width,s.lineCap=this.strokeLineCap,s.miterLimit=this.strokeMiterLimit,s.lineJoin=this.strokeLineJoin,s.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(s){var h=this.canvas.viewportTransform;s.save(),s.transform(h[0],h[1],h[2],h[3],h[4],h[5])},_setShadow:function(){if(!!this.shadow){var s=this.canvas,h=this.shadow,u=s.contextTop,o=s.getZoom();s&&s._isRetinaScaling()&&(o*=O.devicePixelRatio),u.shadowColor=h.color,u.shadowBlur=h.blur*o,u.shadowOffsetX=h.offsetX*o,u.shadowOffsetY=h.offsetY*o}},needsFullRender:function(){var s=new O.Color(this.color);return s.getAlpha()<1||!!this.shadow},_resetShadow:function(){var s=this.canvas.contextTop;s.shadowColor="",s.shadowBlur=s.shadowOffsetX=s.shadowOffsetY=0},_isOutSideCanvas:function(s){return s.x<0||s.x>this.canvas.getWidth()||s.y<0||s.y>this.canvas.getHeight()}}),function(){O.PencilBrush=O.util.createClass(O.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(s){this.canvas=s,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(s,h,u){var o=h.midPointFrom(u);return s.quadraticCurveTo(h.x,h.y,o.x,o.y),o},onMouseDown:function(s,h){!this.canvas._isMainEvent(h.e)||(this.drawStraightLine=h.e[this.straightLineKey],this._prepareForDrawing(s),this._captureDrawingPath(s),this._render())},onMouseMove:function(s,h){if(!!this.canvas._isMainEvent(h.e)&&(this.drawStraightLine=h.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s))&&this._captureDrawingPath(s)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,o=u.length,e=this.canvas.contextTop;this._saveAndTransform(e),this.oldEnd&&(e.beginPath(),e.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(e,u[o-2],u[o-1],!0),e.stroke(),e.restore()}},onMouseUp:function(s){return this.canvas._isMainEvent(s.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(s){var h=new O.Point(s.x,s.y);this._reset(),this._addPoint(h),this.canvas.contextTop.moveTo(h.x,h.y)},_addPoint:function(s){return this._points.length>1&&s.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(s),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(s){var h=new O.Point(s.x,s.y);return this._addPoint(h)},_render:function(s){var h,u,o=this._points[0],e=this._points[1];if(s=s||this.canvas.contextTop,this._saveAndTransform(s),s.beginPath(),this._points.length===2&&o.x===e.x&&o.y===e.y){var n=this.width/1e3;o=new O.Point(o.x,o.y),e=new O.Point(e.x,e.y),o.x-=n,e.x+=n}for(s.moveTo(o.x,o.y),h=1,u=this._points.length;h<u;h++)this._drawSegment(s,o,e),o=this._points[h],e=this._points[h+1];s.lineTo(o.x,o.y),s.stroke(),s.restore()},convertPointsToSVGPath:function(s){var h=this.width/1e3;return O.util.getSmoothPathFromPoints(s,h)},_isEmptySVGPath:function(s){var h=O.util.joinPath(s);return h==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(s){var h=new O.Path(s,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,h.shadow=new O.Shadow(this.shadow)),h},decimatePoints:function(s,h){if(s.length<=2)return s;var u=this.canvas.getZoom(),o=Math.pow(h/u,2),e,n=s.length-1,t=s[0],a=[t],l;for(e=1;e<n-1;e++)l=Math.pow(t.x-s[e].x,2)+Math.pow(t.y-s[e].y,2),l>=o&&(t=s[e],a.push(t));return a.push(s[n]),a},_finalizeAndAddPath:function(){var s=this.canvas.contextTop;s.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var h=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(h)){this.canvas.requestRenderAll();return}var u=this.createPath(h);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),O.CircleBrush=O.util.createClass(O.BaseBrush,{width:10,initialize:function(s){this.canvas=s,this.points=[]},drawDot:function(s){var h=this.addPoint(s),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,h),u.restore()},dot:function(s,h){s.fillStyle=h.fill,s.beginPath(),s.arc(h.x,h.y,h.radius,0,Math.PI*2,!1),s.closePath(),s.fill()},onMouseDown:function(s){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(s)},_render:function(){var s=this.canvas.contextTop,h,u,o=this.points;for(this._saveAndTransform(s),h=0,u=o.length;h<u;h++)this.dot(s,o[h]);s.restore()},onMouseMove:function(s){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(s),this._render()):this.drawDot(s))},onMouseUp:function(){var s=this.canvas.renderOnAddRemove,h,u;this.canvas.renderOnAddRemove=!1;var o=[];for(h=0,u=this.points.length;h<u;h++){var e=this.points[h],n=new O.Circle({radius:e.radius,left:e.x,top:e.y,originX:"center",originY:"center",fill:e.fill});this.shadow&&(n.shadow=new O.Shadow(this.shadow)),o.push(n)}var t=new O.Group(o);t.canvas=this.canvas,this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.fire("path:created",{path:t}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=s,this.canvas.requestRenderAll()},addPoint:function(s){var h=new O.Point(s.x,s.y),u=O.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,o=new O.Color(this.color).setAlpha(O.util.getRandomInt(0,100)/100).toRgba();return h.radius=u,h.fill=o,this.points.push(h),h}}),O.SprayBrush=O.util.createClass(O.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(s){this.canvas=s,this.sprayChunks=[]},onMouseDown:function(s){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(s),this.render(this.sprayChunkPoints)},onMouseMove:function(s){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s)||(this.addSprayChunk(s),this.render(this.sprayChunkPoints))},onMouseUp:function(){var s=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var h=[],u=0,o=this.sprayChunks.length;u<o;u++)for(var e=this.sprayChunks[u],n=0,t=e.length;n<t;n++){var a=new O.Rect({width:e[n].width,height:e[n].width,left:e[n].x+1,top:e[n].y+1,originX:"center",originY:"center",fill:this.color});h.push(a)}this.optimizeOverlapping&&(h=this._getOptimizedRects(h));var l=new O.Group(h);this.shadow&&l.set("shadow",new O.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=s,this.canvas.requestRenderAll()},_getOptimizedRects:function(s){var h={},u,o,e;for(o=0,e=s.length;o<e;o++)u=s[o].left+""+s[o].top,h[u]||(h[u]=s[o]);var n=[];for(u in h)n.push(h[u]);return n},render:function(s){var h=this.canvas.contextTop,u,o;for(h.fillStyle=this.color,this._saveAndTransform(h),u=0,o=s.length;u<o;u++){var e=s[u];typeof e.opacity!="undefined"&&(h.globalAlpha=e.opacity),h.fillRect(e.x,e.y,e.width,e.width)}h.restore()},_render:function(){var s=this.canvas.contextTop,h,u;for(s.fillStyle=this.color,this._saveAndTransform(s),h=0,u=this.sprayChunks.length;h<u;h++)this.render(this.sprayChunks[h]);s.restore()},addSprayChunk:function(s){this.sprayChunkPoints=[];var h,u,o,e=this.width/2,n;for(n=0;n<this.density;n++){h=O.util.getRandomInt(s.x-e,s.x+e),u=O.util.getRandomInt(s.y-e,s.y+e),this.dotWidthVariance?o=O.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):o=this.dotWidth;var t=new O.Point(h,u);t.width=o,this.randomOpacity&&(t.opacity=O.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(t)}this.sprayChunks.push(this.sprayChunkPoints)}}),O.PatternBrush=O.util.createClass(O.PencilBrush,{getPatternSrc:function(){var s=20,h=5,u=O.util.createCanvasElement(),o=u.getContext("2d");return u.width=u.height=s+h,o.fillStyle=this.color,o.beginPath(),o.arc(s/2,s/2,s/2,0,Math.PI*2,!1),o.closePath(),o.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(s){return s.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(s){this.callSuper("_setBrushStyles",s),s.strokeStyle=this.getPattern(s)},createPath:function(s){var h=this.callSuper("createPath",s),u=h._getLeftTopCoords().scalarAdd(h.strokeWidth/2);return h.stroke=new O.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),h}}),function(){var b=O.util.getPointer,s=O.util.degreesToRadians,h=O.util.isTouchEvent;O.Canvas=O.util.createClass(O.StaticCanvas,{initialize:function(e,n){n||(n={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,n),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=O.PencilBrush&&new O.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e=this.getActiveObjects(),n,t,a;if(e.length>0&&!this.preserveObjectStacking){t=[],a=[];for(var l=0,i=this._objects.length;l<i;l++)n=this._objects[l],e.indexOf(n)===-1?t.push(n):a.push(n);e.length>1&&(this._activeObject._objects=a),t.push.apply(t,a)}else t=this._objects;return t},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,n){var t=e.calcTransformMatrix(),a=O.util.invertTransform(t),l=this.restorePointerVpt(n);return O.util.transformPoint(l,a)},isTargetTransparent:function(e,n,t){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var a=this._normalizePointer(e,{x:n,y:t}),l=Math.max(e.cacheTranslationX+a.x*e.zoomX,0),i=Math.max(e.cacheTranslationY+a.y*e.zoomY,0),x=O.util.isTransparent(e._cacheContext,Math.round(l),Math.round(i),this.targetFindTolerance);return x}var f=this.contextCache,p=e.selectionBackgroundColor,m=this.viewportTransform;e.selectionBackgroundColor="",this.clearContext(f),f.save(),f.transform(m[0],m[1],m[2],m[3],m[4],m[5]),e.render(f),f.restore(),e.selectionBackgroundColor=p;var x=O.util.isTransparent(f,n,t,this.targetFindTolerance);return x},_isSelectionKeyPressed:function(e){var n=!1;return Array.isArray(this.selectionKey)?n=!!this.selectionKey.find(function(t){return e[t]===!0}):n=e[this.selectionKey],n},_shouldClearSelection:function(e,n){var t=this.getActiveObjects(),a=this._activeObject;return!n||n&&a&&t.length>1&&t.indexOf(n)===-1&&a!==n&&!this._isSelectionKeyPressed(e)||n&&!n.evented||n&&!n.selectable&&a&&a!==n},_shouldCenterTransform:function(e,n,t){if(!!e){var a;return n==="scale"||n==="scaleX"||n==="scaleY"||n==="resizing"?a=this.centeredScaling||e.centeredScaling:n==="rotate"&&(a=this.centeredRotation||e.centeredRotation),a?!t:t}},_getOriginFromCorner:function(e,n){var t={x:e.originX,y:e.originY};return n==="ml"||n==="tl"||n==="bl"?t.x="right":(n==="mr"||n==="tr"||n==="br")&&(t.x="left"),n==="tl"||n==="mt"||n==="tr"?t.y="bottom":(n==="bl"||n==="mb"||n==="br")&&(t.y="top"),t},_getActionFromCorner:function(e,n,t,a){if(!n||!e)return"drag";var l=a.controls[n];return l.getActionName(t,l,a)},_setupCurrentTransform:function(e,n,t){if(!!n){var a=this.getPointer(e),l=n.__corner,i=n.controls[l],f=t&&l?i.getActionHandler(e,n,i):O.controlsUtils.dragHandler,p=this._getActionFromCorner(t,l,e,n),m=this._getOriginFromCorner(n,l),x=e[this.centeredKey],M={target:n,action:p,actionHandler:f,corner:l,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:a.x-n.left,offsetY:a.y-n.top,originX:m.x,originY:m.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:s(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:x,original:O.util.saveObjectTransform(n)};this._shouldCenterTransform(n,p,x)&&(M.originX="center",M.originY="center"),M.original.originX=m.x,M.original.originY=m.y,this._currentTransform=M,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var n=this._groupSelector,t=new O.Point(n.ex,n.ey),a=O.util.transformPoint(t,this.viewportTransform),l=new O.Point(n.ex+n.left,n.ey+n.top),i=O.util.transformPoint(l,this.viewportTransform),f=Math.min(a.x,i.x),p=Math.min(a.y,i.y),m=Math.max(a.x,i.x),x=Math.max(a.y,i.y),M=this.selectionLineWidth/2;this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(f,p,m-f,x-p)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,f+=M,p+=M,m-=M,x-=M,O.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(f,p,m-f,x-p))},findTarget:function(e,n){if(!this.skipTargetFind){var t=!0,a=this.getPointer(e,t),l=this._activeObject,i=this.getActiveObjects(),f,p,m=h(e),x=i.length>1&&!n||i.length===1;if(this.targets=[],x&&l._findTargetCorner(a,m)||i.length>1&&!n&&l===this._searchPossibleTargets([l],a))return l;if(i.length===1&&l===this._searchPossibleTargets([l],a))if(this.preserveObjectStacking)f=l,p=this.targets,this.targets=[];else return l;var M=this._searchPossibleTargets(this._objects,a);return e[this.altSelectionKey]&&M&&f&&M!==f&&(M=f,this.targets=p),M}},_checkTarget:function(e,n,t){if(n&&n.visible&&n.evented&&n.containsPoint(e))if((this.perPixelTargetFind||n.perPixelTargetFind)&&!n.isEditing){var a=this.isTargetTransparent(n,t.x,t.y);if(!a)return!0}else return!0},_searchPossibleTargets:function(e,n){for(var t,a=e.length,l;a--;){var i=e[a],f=i.group?this._normalizePointer(i.group,n):n;if(this._checkTarget(f,i,n)){t=e[a],t.subTargetCheck&&t instanceof O.Group&&(l=this._searchPossibleTargets(t._objects,n),l&&this.targets.push(l));break}}return t},restorePointerVpt:function(e){return O.util.transformPoint(e,O.util.invertTransform(this.viewportTransform))},getPointer:function(e,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var t=b(e),a=this.upperCanvasEl,l=a.getBoundingClientRect(),i=l.width||0,f=l.height||0,p;(!i||!f)&&("top"in l&&"bottom"in l&&(f=Math.abs(l.top-l.bottom)),"right"in l&&"left"in l&&(i=Math.abs(l.right-l.left))),this.calcOffset(),t.x=t.x-this._offset.left,t.y=t.y-this._offset.top,n||(t=this.restorePointerVpt(t));var m=this.getRetinaScaling();return m!==1&&(t.x/=m,t.y/=m),i===0||f===0?p={width:1,height:1}:p={width:a.width/i,height:a.height/f},{x:t.x*p.width,y:t.y*p.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),n=this.lowerCanvasEl,t=this.upperCanvasEl;t?t.className="":(t=this._createCanvasElement(),this.upperCanvasEl=t),O.util.addClass(t,"upper-canvas "+e),this.wrapperEl.appendChild(t),this._copyCanvasStyle(n,t),this._applyCanvasStyle(t),this.contextTop=t.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=O.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),O.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),O.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var n=this.width||e.width,t=this.height||e.height;O.util.setStyle(e,{position:"absolute",width:n+"px",height:t+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=n,e.height=t,O.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,n){n.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?e.type==="activeSelection"&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,n){var t=!1,a=this.getActiveObjects(),l=[],i=[];e.forEach(function(f){a.indexOf(f)===-1&&(t=!0,f.fire("deselected",{e:n,target:f}),i.push(f))}),a.forEach(function(f){e.indexOf(f)===-1&&(t=!0,f.fire("selected",{e:n,target:f}),l.push(f))}),e.length>0&&a.length>0?t&&this.fire("selection:updated",{e:n,selected:l,deselected:i}):a.length>0?this.fire("selection:created",{e:n,selected:l}):e.length>0&&this.fire("selection:cleared",{e:n,deselected:i})},setActiveObject:function(e,n){var t=this.getActiveObjects();return this._setActiveObject(e,n),this._fireSelectionEvents(t,n),this},_setActiveObject:function(e,n){return this._activeObject===e||!this._discardActiveObject(n,e)||e.onSelect({e:n})?!1:(this._activeObject=e,!0)},_discardActiveObject:function(e,n){var t=this._activeObject;if(t){if(t.onDeselect({e,object:n}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var n=this.getActiveObjects(),t=this.getActiveObject();return n.length&&this.fire("before:selection:cleared",{target:t,e}),this._discardActiveObject(e),this._fireSelectionEvents(n,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(n){O.util.cleanUpJsdomNode(this[n]),this[n]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,O.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var n=this._activeObject;n&&n._renderControls(e)},_toObject:function(e,n,t){var a=this._realizeGroupTransformOnObject(e),l=this.callSuper("_toObject",e,n,t);return this._unwindGroupTransformOnObject(e,a),l},_realizeGroupTransformOnObject:function(e){if(e.group&&e.group.type==="activeSelection"&&this._activeObject===e.group){var n=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],t={};return n.forEach(function(a){t[a]=e[a]}),O.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}else return null},_unwindGroupTransformOnObject:function(e,n){n&&e.set(n)},_setSVGObject:function(e,n,t){var a=this._realizeGroupTransformOnObject(n);this.callSuper("_setSVGObject",e,n,t),this._unwindGroupTransformOnObject(n,a)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),O.StaticCanvas.prototype.setViewportTransform.call(this,e)}});for(var u in O.StaticCanvas)u!=="prototype"&&(O.Canvas[u]=O.StaticCanvas[u])}(),function(){var b=O.util.addListener,s=O.util.removeListener,h=3,u=2,o=1,e={passive:!1};function n(t,a){return t.button&&t.button===a-1}O.util.object.extend(O.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(b,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(a,l){var i=this.upperCanvasEl,f=this._getEventPrefix();a(O.window,"resize",this._onResize),a(i,f+"down",this._onMouseDown),a(i,f+"move",this._onMouseMove,e),a(i,f+"out",this._onMouseOut),a(i,f+"enter",this._onMouseEnter),a(i,"wheel",this._onMouseWheel),a(i,"contextmenu",this._onContextMenu),a(i,"dblclick",this._onDoubleClick),a(i,"dragover",this._onDragOver),a(i,"dragenter",this._onDragEnter),a(i,"dragleave",this._onDragLeave),a(i,"drop",this._onDrop),this.enablePointerEvents||a(i,"touchstart",this._onTouchStart,e),typeof eventjs!="undefined"&&l in eventjs&&(eventjs[l](i,"gesture",this._onGesture),eventjs[l](i,"drag",this._onDrag),eventjs[l](i,"orientation",this._onOrientationChange),eventjs[l](i,"shake",this._onShake),eventjs[l](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var a=this._getEventPrefix();s(O.document,a+"up",this._onMouseUp),s(O.document,"touchend",this._onTouchEnd,e),s(O.document,a+"move",this._onMouseMove,e),s(O.document,"touchmove",this._onMouseMove,e)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(a,l){this.__onTransformGesture&&this.__onTransformGesture(a,l)},_onDrag:function(a,l){this.__onDrag&&this.__onDrag(a,l)},_onMouseWheel:function(a){this.__onMouseWheel(a)},_onMouseOut:function(a){var l=this._hoveredTarget;this.fire("mouse:out",{target:l,e:a}),this._hoveredTarget=null,l&&l.fire("mouseout",{e:a});var i=this;this._hoveredTargets.forEach(function(f){i.fire("mouse:out",{target:l,e:a}),f&&l.fire("mouseout",{e:a})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(f){f.isEditing&&f.hiddenTextarea.focus()})},_onMouseEnter:function(a){!this._currentTransform&&!this.findTarget(a)&&(this.fire("mouse:over",{target:null,e:a}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(a,l){this.__onOrientationChange&&this.__onOrientationChange(a,l)},_onShake:function(a,l){this.__onShake&&this.__onShake(a,l)},_onLongPress:function(a,l){this.__onLongPress&&this.__onLongPress(a,l)},_onDragOver:function(a){a.preventDefault();var l=this._simpleEventHandler("dragover",a);this._fireEnterLeaveEvents(l,a)},_onDrop:function(a){return this._simpleEventHandler("drop:before",a),this._simpleEventHandler("drop",a)},_onContextMenu:function(a){return this.stopContextMenu&&(a.stopPropagation(),a.preventDefault()),!1},_onDoubleClick:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"dblclick"),this._resetTransformEventData(a)},getPointerId:function(a){var l=a.changedTouches;return l?l[0]&&l[0].identifier:this.enablePointerEvents?a.pointerId:-1},_isMainEvent:function(a){return a.isPrimary===!0?!0:a.isPrimary===!1?!1:a.type==="touchend"&&a.touches.length===0?!0:a.changedTouches?a.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(a){a.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(a)),this.__onMouseDown(a),this._resetTransformEventData();var l=this.upperCanvasEl,i=this._getEventPrefix();b(O.document,"touchend",this._onTouchEnd,e),b(O.document,"touchmove",this._onMouseMove,e),s(l,i+"down",this._onMouseDown)},_onMouseDown:function(a){this.__onMouseDown(a),this._resetTransformEventData();var l=this.upperCanvasEl,i=this._getEventPrefix();s(l,i+"move",this._onMouseMove,e),b(O.document,i+"up",this._onMouseUp),b(O.document,i+"move",this._onMouseMove,e)},_onTouchEnd:function(a){if(!(a.touches.length>0)){this.__onMouseUp(a),this._resetTransformEventData(),this.mainTouchId=null;var l=this._getEventPrefix();s(O.document,"touchend",this._onTouchEnd,e),s(O.document,"touchmove",this._onMouseMove,e);var i=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){b(i.upperCanvasEl,l+"down",i._onMouseDown),i._willAddMouseDown=0},400)}},_onMouseUp:function(a){this.__onMouseUp(a),this._resetTransformEventData();var l=this.upperCanvasEl,i=this._getEventPrefix();this._isMainEvent(a)&&(s(O.document,i+"up",this._onMouseUp),s(O.document,i+"move",this._onMouseMove,e),b(l,i+"move",this._onMouseMove,e))},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault(),this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},_shouldRender:function(a){var l=this._activeObject;return!!l!=!!a||l&&a&&l!==a?!0:(l&&l.isEditing,!1)},__onMouseUp:function(a){var l,i=this._currentTransform,f=this._groupSelector,p=!1,m=!f||f.left===0&&f.top===0;if(this._cacheTransformEventData(a),l=this._target,this._handleEvent(a,"up:before"),n(a,h)){this.fireRightClick&&this._handleEvent(a,"up",h,m);return}if(n(a,u)){this.fireMiddleClick&&this._handleEvent(a,"up",u,m),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(a);return}if(!!this._isMainEvent(a)){if(i&&(this._finalizeCurrentTransform(a),p=i.actionPerformed),!m){var x=l===this._activeObject;this._maybeGroupObjects(a),p||(p=this._shouldRender(l)||!x&&l===this._activeObject)}var M,Y;if(l){if(M=l._findTargetCorner(this.getPointer(a,!0),O.util.isTouchEvent(a)),l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,a),p=!0;else{var nt=l.controls[M],xt=nt&&nt.getMouseUpHandler(a,l,nt);xt&&(Y=this.getPointer(a),xt(a,i,Y.x,Y.y))}l.isMoving=!1}if(i&&(i.target!==l||i.corner!==M)){var Dt=i.target&&i.target.controls[i.corner],Ut=Dt&&Dt.getMouseUpHandler(a,l,nt);Y=Y||this.getPointer(a),Ut&&Ut(a,i,Y.x,Y.y)}this._setCursorFromEvent(a,l),this._handleEvent(a,"up",o,m),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=0),p?this.requestRenderAll():m||this.renderTop()}},_simpleEventHandler:function(a,l){var i=this.findTarget(l),f=this.targets,p={e:l,target:i,subTargets:f};if(this.fire(a,p),i&&i.fire(a,p),!f)return i;for(var m=0;m<f.length;m++)f[m].fire(a,p);return i},_handleEvent:function(a,l,i,f){var p=this._target,m=this.targets||[],x={e:a,target:p,subTargets:m,button:i||o,isClick:f||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};l==="up"&&(x.currentTarget=this.findTarget(a),x.currentSubTargets=this.targets),this.fire("mouse:"+l,x),p&&p.fire("mouse"+l,x);for(var M=0;M<m.length;M++)m[M].fire("mouse"+l,x)},_finalizeCurrentTransform:function(a){var l=this._currentTransform,i=l.target,f={e:a,target:i,transform:l,action:l.action};i._scaling&&(i._scaling=!1),i.setCoords(),(l.actionPerformed||this.stateful&&i.hasStateChanged())&&this._fire("modified",f)},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(a).requestRenderAll();var l=this.getPointer(a);this.freeDrawingBrush.onMouseDown(l,{e:a,pointer:l}),this._handleEvent(a,"down")},_onMouseMoveInDrawingMode:function(a){if(this._isCurrentlyDrawing){var l=this.getPointer(a);this.freeDrawingBrush.onMouseMove(l,{e:a,pointer:l})}this.setCursor(this.freeDrawingCursor),this._handleEvent(a,"move")},_onMouseUpInDrawingMode:function(a){var l=this.getPointer(a);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:a,pointer:l}),this._handleEvent(a,"up")},__onMouseDown:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"down:before");var l=this._target;if(n(a,h)){this.fireRightClick&&this._handleEvent(a,"down",h);return}if(n(a,u)){this.fireMiddleClick&&this._handleEvent(a,"down",u);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(a);return}if(!!this._isMainEvent(a)&&!this._currentTransform){var i=this._pointer;this._previousPointer=i;var f=this._shouldRender(l),p=this._shouldGroup(a,l);if(this._shouldClearSelection(a,l)?this.discardActiveObject(a):p&&(this._handleGrouping(a,l),l=this._activeObject),this.selection&&(!l||!l.selectable&&!l.isEditing&&l!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),l){var m=l===this._activeObject;l.selectable&&l.activeOn==="down"&&this.setActiveObject(l,a);var x=l._findTargetCorner(this.getPointer(a,!0),O.util.isTouchEvent(a));if(l.__corner=x,l===this._activeObject&&(x||!p)){this._setupCurrentTransform(a,l,m);var M=l.controls[x],i=this.getPointer(a),Y=M&&M.getMouseDownHandler(a,l,M);Y&&Y(a,this._currentTransform,i.x,i.y)}}this._handleEvent(a,"down"),(f||p)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(a){this._resetTransformEventData(),this._pointer=this.getPointer(a,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(a)||null},_beforeTransform:function(a){var l=this._currentTransform;this.stateful&&l.target.saveState(),this.fire("before:transform",{e:a,transform:l})},__onMouseMove:function(a){this._handleEvent(a,"move:before"),this._cacheTransformEventData(a);var l,i;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(a);return}if(!!this._isMainEvent(a)){var f=this._groupSelector;f?(i=this._absolutePointer,f.left=i.x-f.ex,f.top=i.y-f.ey,this.renderTop()):this._currentTransform?this._transformObject(a):(l=this.findTarget(a)||null,this._setCursorFromEvent(a,l),this._fireOverOutEvents(l,a)),this._handleEvent(a,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(a,l){var i=this._hoveredTarget,f=this._hoveredTargets,p=this.targets,m=Math.max(f.length,p.length);this.fireSyntheticInOutEvents(a,l,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<m;x++)this.fireSyntheticInOutEvents(p[x],l,{oldTarget:f[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(a,l){var i=this._draggedoverTarget,f=this._hoveredTargets,p=this.targets,m=Math.max(f.length,p.length);this.fireSyntheticInOutEvents(a,l,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<m;x++)this.fireSyntheticInOutEvents(p[x],l,{oldTarget:f[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=a},fireSyntheticInOutEvents:function(a,l,i){var f,p,m=i.oldTarget,x,M,Y=m!==a,nt=i.canvasEvtIn,xt=i.canvasEvtOut;Y&&(f={e:l,target:a,previousTarget:m},p={e:l,target:m,nextTarget:a}),M=a&&Y,x=m&&Y,x&&(xt&&this.fire(xt,p),m.fire(i.evtOut,p)),M&&(nt&&this.fire(nt,f),a.fire(i.evtIn,f))},__onMouseWheel:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"wheel"),this._resetTransformEventData()},_transformObject:function(a){var l=this.getPointer(a),i=this._currentTransform;i.reset=!1,i.shiftKey=a.shiftKey,i.altKey=a[this.centeredKey],this._performTransformAction(a,i,l),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(a,l,i){var f=i.x,p=i.y,m=l.action,x=!1,M=l.actionHandler;M&&(x=M(a,l,f,p)),m==="drag"&&x&&(l.target.isMoving=!0,this.setCursor(l.target.moveCursor||this.moveCursor)),l.actionPerformed=l.actionPerformed||x},_fire:O.controlsUtils.fireEvent,_setCursorFromEvent:function(a,l){if(!l)return this.setCursor(this.defaultCursor),!1;var i=l.hoverCursor||this.hoverCursor,f=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,p=(!f||!f.contains(l))&&l._findTargetCorner(this.getPointer(a,!0));p?this.setCursor(this.getCornerCursor(p,l,a)):(l.subTargetCheck&&this.targets.concat().reverse().map(function(m){i=m.hoverCursor||i}),this.setCursor(i))},getCornerCursor:function(a,l,i){var f=l.controls[a];return f.cursorStyleHandler(i,f,l)}})}(),function(){var b=Math.min,s=Math.max;O.util.object.extend(O.Canvas.prototype,{_shouldGroup:function(u,o){var e=this._activeObject;return e&&this._isSelectionKeyPressed(u)&&o&&o.selectable&&this.selection&&(e!==o||e.type==="activeSelection")&&!o.onSelect({e:u})},_handleGrouping:function(u,o){var e=this._activeObject;e.__corner||o===e&&(o=this.findTarget(u,!0),!o||!o.selectable)||(e&&e.type==="activeSelection"?this._updateActiveSelection(o,u):this._createActiveSelection(o,u))},_updateActiveSelection:function(u,o){var e=this._activeObject,n=e._objects.slice(0);e.contains(u)?(e.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),e.size()===1&&this._setActiveObject(e.item(0),o)):(e.addWithUpdate(u),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(n,o)},_createActiveSelection:function(u,o){var e=this.getActiveObjects(),n=this._createGroup(u);this._hoveredTarget=n,this._setActiveObject(n,o),this._fireSelectionEvents(e,o)},_createGroup:function(u){var o=this._objects,e=o.indexOf(this._activeObject)<o.indexOf(u),n=e?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new O.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(u){var o=this._collectObjects(u),e;o.length===1?this.setActiveObject(o[0],u):o.length>1&&(e=new O.ActiveSelection(o.reverse(),{canvas:this}),this.setActiveObject(e,u))},_collectObjects:function(u){for(var o=[],e,n=this._groupSelector.ex,t=this._groupSelector.ey,a=n+this._groupSelector.left,l=t+this._groupSelector.top,i=new O.Point(b(n,a),b(t,l)),f=new O.Point(s(n,a),s(t,l)),p=!this.selectionFullyContained,m=n===a&&t===l,x=this._objects.length;x--&&(e=this._objects[x],!(!(!e||!e.selectable||!e.visible)&&(p&&e.intersectsWithRect(i,f,!0)||e.isContainedWithinRect(i,f,!0)||p&&e.containsPoint(i,null,!0)||p&&e.containsPoint(f,null,!0))&&(o.push(e),m))););return o.length>1&&(o=o.filter(function(M){return!M.onSelect({e:u})})),o},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){O.util.object.extend(O.StaticCanvas.prototype,{toDataURL:function(s){s||(s={});var h=s.format||"png",u=s.quality||1,o=(s.multiplier||1)*(s.enableRetinaScaling?this.getRetinaScaling():1),e=this.toCanvasElement(o,s);return O.util.toDataURL(e,h,u)},toCanvasElement:function(s,h){s=s||1,h=h||{};var u=(h.width||this.width)*s,o=(h.height||this.height)*s,e=this.getZoom(),n=this.width,t=this.height,a=e*s,l=this.viewportTransform,i=(l[4]-(h.left||0))*s,f=(l[5]-(h.top||0))*s,p=this.interactive,m=[a,0,0,a,i,f],x=this.enableRetinaScaling,M=O.util.createCanvasElement(),Y=this.contextTop;return M.width=u,M.height=o,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=m,this.width=u,this.height=o,this.calcViewportBoundaries(),this.renderCanvas(M.getContext("2d"),this._objects),this.viewportTransform=l,this.width=n,this.height=t,this.calcViewportBoundaries(),this.interactive=p,this.enableRetinaScaling=x,this.contextTop=Y,M}})}(),O.util.object.extend(O.StaticCanvas.prototype,{loadFromJSON:function(s,h,u){if(!!s){var o=typeof s=="string"?JSON.parse(s):O.util.object.clone(s),e=this,n=o.clipPath,t=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete o.clipPath,this._enlivenObjects(o.objects,function(a){e.clear(),e._setBgOverlay(o,function(){n?e._enlivenObjects([n],function(l){e.clipPath=l[0],e.__setupCanvas.call(e,o,a,t,h)}):e.__setupCanvas.call(e,o,a,t,h)})},u),this}},__setupCanvas:function(s,h,u,o){var e=this;h.forEach(function(n,t){e.insertAt(n,t)}),this.renderOnAddRemove=u,delete s.objects,delete s.backgroundImage,delete s.overlayImage,delete s.background,delete s.overlay,this._setOptions(s),this.renderAll(),o&&o()},_setBgOverlay:function(s,h){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!s.backgroundImage&&!s.overlayImage&&!s.background&&!s.overlay){h&&h();return}var o=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&h&&h()};this.__setBgOverlay("backgroundImage",s.backgroundImage,u,o),this.__setBgOverlay("overlayImage",s.overlayImage,u,o),this.__setBgOverlay("backgroundColor",s.background,u,o),this.__setBgOverlay("overlayColor",s.overlay,u,o)},__setBgOverlay:function(s,h,u,o){var e=this;if(!h){u[s]=!0,o&&o();return}s==="backgroundImage"||s==="overlayImage"?O.util.enlivenObjects([h],function(n){e[s]=n[0],u[s]=!0,o&&o()}):this["set"+O.util.string.capitalize(s,!0)](h,function(){u[s]=!0,o&&o()})},_enlivenObjects:function(s,h,u){if(!s||s.length===0){h&&h([]);return}O.util.enlivenObjects(s,function(o){h&&h(o)},null,u)},_toDataURL:function(s,h){this.clone(function(u){h(u.toDataURL(s))})},_toDataURLWithMultiplier:function(s,h,u){this.clone(function(o){u(o.toDataURLWithMultiplier(s,h))})},clone:function(s,h){var u=JSON.stringify(this.toJSON(h));this.cloneWithoutData(function(o){o.loadFromJSON(u,function(){s&&s(o)})})},cloneWithoutData:function(s){var h=O.util.createCanvasElement();h.width=this.width,h.height=this.height;var u=new O.Canvas(h);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),s&&s(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):s&&s(u)}}),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.object.clone,o=s.util.toFixed,e=s.util.string.capitalize,n=s.util.degreesToRadians,t=!s.isLikelyNode,a=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:t,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(i){i&&this.setOptions(i)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(i){var f=s.perfLimitSizeTotal,p=i.width,m=i.height,x=s.maxCacheSideLimit,M=s.minCacheSideLimit;if(p<=x&&m<=x&&p*m<=f)return p<M&&(i.width=M),m<M&&(i.height=M),i;var Y=p/m,nt=s.util.limitDimsByArea(Y,f),xt=s.util.capValue,Dt=xt(M,nt.x,x),Ut=xt(M,nt.y,x);return p>Dt&&(i.zoomX/=p/Dt,i.width=Dt,i.capped=!0),m>Ut&&(i.zoomY/=m/Ut,i.height=Ut,i.capped=!0),i},_getCacheCanvasDimensions:function(){var i=this.getTotalObjectScaling(),f=this._getTransformedDimensions(0,0),p=f.x*i.scaleX/this.scaleX,m=f.y*i.scaleY/this.scaleY;return{width:p+a,height:m+a,zoomX:i.scaleX,zoomY:i.scaleY,x:p,y:m}},_updateCacheCanvas:function(){var i=this.canvas;if(this.noScaleCache&&i&&i._currentTransform){var f=i._currentTransform.target,p=i._currentTransform.action;if(this===f&&p.slice&&p.slice(0,5)==="scale")return!1}var m=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),M=s.minCacheSideLimit,Y=x.width,nt=x.height,xt,Dt,Ut=x.zoomX,fe=x.zoomY,Oe=Y!==this.cacheWidth||nt!==this.cacheHeight,_t=this.zoomX!==Ut||this.zoomY!==fe,Vt=Oe||_t,J=0,be=0,Qe=!1;if(Oe){var W=this._cacheCanvas.width,At=this._cacheCanvas.height,V=Y>W||nt>At,it=(Y<W*.9||nt<At*.9)&&W>M&&At>M;Qe=V||it,V&&!x.capped&&(Y>M||nt>M)&&(J=Y*.1,be=nt*.1)}return this instanceof s.Text&&this.path&&(Vt=!0,Qe=!0,J+=this.getHeightOfLine(0)*this.zoomX,be+=this.getHeightOfLine(0)*this.zoomY),Vt?(Qe?(m.width=Math.ceil(Y+J),m.height=Math.ceil(nt+be)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,m.width,m.height)),xt=x.x/2,Dt=x.y/2,this.cacheTranslationX=Math.round(m.width/2-xt)+xt,this.cacheTranslationY=Math.round(m.height/2-Dt)+Dt,this.cacheWidth=Y,this.cacheHeight=nt,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Ut,fe),this.zoomX=Ut,this.zoomY=fe,!0):!1},setOptions:function(i){this._setOptions(i),this._initGradient(i.fill,"fill"),this._initGradient(i.stroke,"stroke"),this._initPattern(i.fill,"fill"),this._initPattern(i.stroke,"stroke")},transform:function(i){var f=this.group&&!this.group._transformDone||this.group&&this.canvas&&i===this.canvas.contextTop,p=this.calcTransformMatrix(!f);i.transform(p[0],p[1],p[2],p[3],p[4],p[5])},toObject:function(i){var f=s.Object.NUM_FRACTION_DIGITS,p={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:o(this.left,f),top:o(this.top,f),width:o(this.width,f),height:o(this.height,f),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,f),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,f),scaleX:o(this.scaleX,f),scaleY:o(this.scaleY,f),angle:o(this.angle,f),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,f),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,f),skewY:o(this.skewY,f)};return this.clipPath&&!this.clipPath.excludeFromExport&&(p.clipPath=this.clipPath.toObject(i),p.clipPath.inverted=this.clipPath.inverted,p.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,p,i),this.includeDefaultValues||(p=this._removeDefaultValues(p)),p},toDatalessObject:function(i){return this.toObject(i)},_removeDefaultValues:function(i){var f=s.util.getKlass(i.type).prototype,p=f.stateProperties;return p.forEach(function(m){m==="left"||m==="top"||(i[m]===f[m]&&delete i[m],Array.isArray(i[m])&&Array.isArray(f[m])&&i[m].length===0&&f[m].length===0&&delete i[m])}),i},toString:function(){return"#<fabric."+e(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var i=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(i.scaleX),scaleY:Math.abs(i.scaleY)}},getTotalObjectScaling:function(){var i=this.getObjectScaling(),f=i.scaleX,p=i.scaleY;if(this.canvas){var m=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();f*=m*x,p*=m*x}return{scaleX:f,scaleY:p}},getObjectOpacity:function(){var i=this.opacity;return this.group&&(i*=this.group.getObjectOpacity()),i},_set:function(i,f){var p=i==="scaleX"||i==="scaleY",m=this[i]!==f,x=!1;return p&&(f=this._constrainScale(f)),i==="scaleX"&&f<0?(this.flipX=!this.flipX,f*=-1):i==="scaleY"&&f<0?(this.flipY=!this.flipY,f*=-1):i==="shadow"&&f&&!(f instanceof s.Shadow)?f=new s.Shadow(f):i==="dirty"&&this.group&&this.group.set("dirty",f),this[i]=f,m&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(i)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(i)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(i){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(i.save(),this._setupCompositeOperation(i),this.drawSelectionBackground(i),this.transform(i),this._setOpacity(i),this._setShadow(i,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(i)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(i),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),i.restore())},renderCache:function(i){i=i||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,i.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(i,f){if(i.save(),f.inverted?i.globalCompositeOperation="destination-out":i.globalCompositeOperation="destination-in",f.absolutePositioned){var p=s.util.invertTransform(this.calcTransformMatrix());i.transform(p[0],p[1],p[2],p[3],p[4],p[5])}f.transform(i),i.scale(1/f.zoomX,1/f.zoomY),i.drawImage(f._cacheCanvas,-f.cacheTranslationX,-f.cacheTranslationY),i.restore()},drawObject:function(i,f){var p=this.fill,m=this.stroke;f?(this.fill="black",this.stroke="",this._setClippingProperties(i)):this._renderBackground(i),this._render(i),this._drawClipPath(i,this.clipPath),this.fill=p,this.stroke=m},_drawClipPath:function(i,f){!f||(f.canvas=this.canvas,f.shouldCache(),f._transformDone=!0,f.renderCache({forClipping:!0}),this.drawClipPathOnCache(i,f))},drawCacheOnCanvas:function(i){i.scale(1/this.zoomX,1/this.zoomY),i.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(i){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!i&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!i){var f=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-p/2,f,p)}return!0}return!1},_renderBackground:function(i){if(!!this.backgroundColor){var f=this._getNonTransformedDimensions();i.fillStyle=this.backgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),this._removeShadow(i)}},_setOpacity:function(i){this.group&&!this.group._transformDone?i.globalAlpha=this.getObjectOpacity():i.globalAlpha*=this.opacity},_setStrokeStyles:function(i,f){var p=f.stroke;p&&(i.lineWidth=f.strokeWidth,i.lineCap=f.strokeLineCap,i.lineDashOffset=f.strokeDashOffset,i.lineJoin=f.strokeLineJoin,i.miterLimit=f.strokeMiterLimit,p.toLive?p.gradientUnits==="percentage"||p.gradientTransform||p.patternTransform?this._applyPatternForTransformedGradient(i,p):(i.strokeStyle=p.toLive(i,this),this._applyPatternGradientTransform(i,p)):i.strokeStyle=f.stroke)},_setFillStyles:function(i,f){var p=f.fill;p&&(p.toLive?(i.fillStyle=p.toLive(i,this),this._applyPatternGradientTransform(i,f.fill)):i.fillStyle=p)},_setClippingProperties:function(i){i.globalAlpha=1,i.strokeStyle="transparent",i.fillStyle="#000000"},_setLineDash:function(i,f){!f||f.length===0||(1&f.length&&f.push.apply(f,f),i.setLineDash(f))},_renderControls:function(i,f){var p=this.getViewportTransform(),m=this.calcTransformMatrix(),x,M,Y;f=f||{},M=typeof f.hasBorders!="undefined"?f.hasBorders:this.hasBorders,Y=typeof f.hasControls!="undefined"?f.hasControls:this.hasControls,m=s.util.multiplyTransformMatrices(p,m),x=s.util.qrDecompose(m),i.save(),i.translate(x.translateX,x.translateY),i.lineWidth=1*this.borderScaleFactor,this.group||(i.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),i.rotate(n(this.group?x.angle:this.angle)),f.forActiveSelection||this.group?M&&this.drawBordersInGroup(i,x,f):M&&this.drawBorders(i,f),Y&&this.drawControls(i,f),i.restore()},_setShadow:function(i){if(!!this.shadow){var f=this.shadow,p=this.canvas,m,x=p&&p.viewportTransform[0]||1,M=p&&p.viewportTransform[3]||1;f.nonScaling?m={scaleX:1,scaleY:1}:m=this.getObjectScaling(),p&&p._isRetinaScaling()&&(x*=s.devicePixelRatio,M*=s.devicePixelRatio),i.shadowColor=f.color,i.shadowBlur=f.blur*s.browserShadowBlurConstant*(x+M)*(m.scaleX+m.scaleY)/4,i.shadowOffsetX=f.offsetX*x*m.scaleX,i.shadowOffsetY=f.offsetY*M*m.scaleY}},_removeShadow:function(i){!this.shadow||(i.shadowColor="",i.shadowBlur=i.shadowOffsetX=i.shadowOffsetY=0)},_applyPatternGradientTransform:function(i,f){if(!f||!f.toLive)return{offsetX:0,offsetY:0};var p=f.gradientTransform||f.patternTransform,m=-this.width/2+f.offsetX||0,x=-this.height/2+f.offsetY||0;return f.gradientUnits==="percentage"?i.transform(this.width,0,0,this.height,m,x):i.transform(1,0,0,1,m,x),p&&i.transform(p[0],p[1],p[2],p[3],p[4],p[5]),{offsetX:m,offsetY:x}},_renderPaintInOrder:function(i){this.paintFirst==="stroke"?(this._renderStroke(i),this._renderFill(i)):(this._renderFill(i),this._renderStroke(i))},_render:function(){},_renderFill:function(i){!this.fill||(i.save(),this._setFillStyles(i,this),this.fillRule==="evenodd"?i.fill("evenodd"):i.fill(),i.restore())},_renderStroke:function(i){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this.strokeUniform&&this.group){var f=this.getObjectScaling();i.scale(1/f.scaleX,1/f.scaleY)}else this.strokeUniform&&i.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(i,this.strokeDashArray),this._setStrokeStyles(i,this),i.stroke(),i.restore()}},_applyPatternForTransformedGradient:function(i,f){var p=this._limitCacheSize(this._getCacheCanvasDimensions()),m=s.util.createCanvasElement(),x,M=this.canvas.getRetinaScaling(),Y=p.x/this.scaleX/M,nt=p.y/this.scaleY/M;m.width=Y,m.height=nt,x=m.getContext("2d"),x.beginPath(),x.moveTo(0,0),x.lineTo(Y,0),x.lineTo(Y,nt),x.lineTo(0,nt),x.closePath(),x.translate(Y/2,nt/2),x.scale(p.zoomX/this.scaleX/M,p.zoomY/this.scaleY/M),this._applyPatternGradientTransform(x,f),x.fillStyle=f.toLive(i),x.fill(),i.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),i.scale(M*this.scaleX/p.zoomX,M*this.scaleY/p.zoomY),i.strokeStyle=x.createPattern(m,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var i=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",i.scaleX),this.set("scaleY",i.scaleY),this.angle=i.angle,this.skewX=i.skewX,this.skewY=0}},_removeTransformMatrix:function(i){var f=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),f=s.util.transformPoint(f,this.transformMatrix)),this.transformMatrix=null,i&&(this.scaleX*=i.scaleX,this.scaleY*=i.scaleY,this.cropX=i.cropX,this.cropY=i.cropY,f.x+=i.offsetLeft,f.y+=i.offsetTop,this.width=i.width,this.height=i.height),this.setPositionByOrigin(f,"center","center")},clone:function(i,f){var p=this.toObject(f);this.constructor.fromObject?this.constructor.fromObject(p,i):s.Object._fromObject("Object",p,i)},cloneAsImage:function(i,f){var p=this.toCanvasElement(f);return i&&i(new s.Image(p)),this},toCanvasElement:function(i){i||(i={});var f=s.util,p=f.saveObjectTransform(this),m=this.group,x=this.shadow,M=Math.abs,Y=(i.multiplier||1)*(i.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,i.withoutTransform&&f.resetObjectTransform(this),i.withoutShadow&&(this.shadow=null);var nt=s.util.createCanvasElement(),xt=this.getBoundingRect(!0,!0),Dt=this.shadow,Ut,fe={x:0,y:0},Oe,_t,Vt;Dt&&(Oe=Dt.blur,Dt.nonScaling?Ut={scaleX:1,scaleY:1}:Ut=this.getObjectScaling(),fe.x=2*Math.round(M(Dt.offsetX)+Oe)*M(Ut.scaleX),fe.y=2*Math.round(M(Dt.offsetY)+Oe)*M(Ut.scaleY)),_t=xt.width+fe.x,Vt=xt.height+fe.y,nt.width=Math.ceil(_t),nt.height=Math.ceil(Vt);var J=new s.StaticCanvas(nt,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});i.format==="jpeg"&&(J.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(J.width/2,J.height/2),"center","center");var be=this.canvas;J.add(this);var Qe=J.toCanvasElement(Y||1,i);return this.shadow=x,this.set("canvas",be),m&&(this.group=m),this.set(p).setCoords(),J._objects=[],J.dispose(),J=null,Qe},toDataURL:function(i){return i||(i={}),s.util.toDataURL(this.toCanvasElement(i),i.format||"png",i.quality||1)},isType:function(i){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===i},complexity:function(){return 1},toJSON:function(i){return this.toObject(i)},rotate:function(i){var f=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return f&&this._setOriginToCenter(),this.set("angle",i),f&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(i,f){f=f||this.canvas.getPointer(i);var p=new s.Point(f.x,f.y),m=this._getLeftTopCoords();return this.angle&&(p=s.util.rotatePoint(p,m,n(-this.angle))),{x:p.x-m.x,y:p.y-m.y}},_setupCompositeOperation:function(i){this.globalCompositeOperation&&(i.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),h(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(l,i,f,p){var m=s[l];i=u(i,!0),s.util.enlivenPatterns([i.fill,i.stroke],function(x){typeof x[0]!="undefined"&&(i.fill=x[0]),typeof x[1]!="undefined"&&(i.stroke=x[1]),s.util.enlivenObjectEnlivables(i,i,function(){var M=p?new m(i[p],i):new m(i);f&&f(M)})})},s.Object.__uid=0)}(_r),function(){var b=O.util.degreesToRadians,s={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};O.util.object.extend(O.Object.prototype,{translateToGivenOrigin:function(o,e,n,t,a){var l=o.x,i=o.y,f,p,m;return typeof e=="string"?e=s[e]:e-=.5,typeof t=="string"?t=s[t]:t-=.5,f=t-e,typeof n=="string"?n=h[n]:n-=.5,typeof a=="string"?a=h[a]:a-=.5,p=a-n,(f||p)&&(m=this._getTransformedDimensions(),l=o.x+f*m.x,i=o.y+p*m.y),new O.Point(l,i)},translateToCenterPoint:function(o,e,n){var t=this.translateToGivenOrigin(o,e,n,"center","center");return this.angle?O.util.rotatePoint(t,o,b(this.angle)):t},translateToOriginPoint:function(o,e,n){var t=this.translateToGivenOrigin(o,"center","center",e,n);return this.angle?O.util.rotatePoint(t,o,b(this.angle)):t},getCenterPoint:function(){var o=new O.Point(this.left,this.top);return this.translateToCenterPoint(o,this.originX,this.originY)},getPointByOrigin:function(o,e){var n=this.getCenterPoint();return this.translateToOriginPoint(n,o,e)},toLocalPoint:function(o,e,n){var t=this.getCenterPoint(),a,l;return typeof e!="undefined"&&typeof n!="undefined"?a=this.translateToGivenOrigin(t,"center","center",e,n):a=new O.Point(this.left,this.top),l=new O.Point(o.x,o.y),this.angle&&(l=O.util.rotatePoint(l,t,-b(this.angle))),l.subtractEquals(a)},setPositionByOrigin:function(o,e,n){var t=this.translateToCenterPoint(o,e,n),a=this.translateToOriginPoint(t,this.originX,this.originY);this.set("left",a.x),this.set("top",a.y)},adjustPosition:function(o){var e=b(this.angle),n=this.getScaledWidth(),t=O.util.cos(e)*n,a=O.util.sin(e)*n,l,i;typeof this.originX=="string"?l=s[this.originX]:l=this.originX-.5,typeof o=="string"?i=s[o]:i=o-.5,this.left+=t*(i-l),this.top+=a*(i-l),this.setCoords(),this.originX=o},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var o=this.getCenterPoint();this.originX="center",this.originY="center",this.left=o.x,this.top=o.y},_resetOrigin:function(){var o=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=o.x,this.top=o.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function b(e){return[new O.Point(e.tl.x,e.tl.y),new O.Point(e.tr.x,e.tr.y),new O.Point(e.br.x,e.br.y),new O.Point(e.bl.x,e.bl.y)]}var s=O.util,h=s.degreesToRadians,u=s.multiplyTransformMatrices,o=s.transformPoint;s.object.extend(O.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(n,t){return t?n?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),n?this.aCoords:this.lineCoords)},getCoords:function(n,t){return b(this._getCoords(n,t))},intersectsWithRect:function(n,t,a,l){var i=this.getCoords(a,l),f=O.Intersection.intersectPolygonRectangle(i,n,t);return f.status==="Intersection"},intersectsWithObject:function(n,t,a){var l=O.Intersection.intersectPolygonPolygon(this.getCoords(t,a),n.getCoords(t,a));return l.status==="Intersection"||n.isContainedWithinObject(this,t,a)||this.isContainedWithinObject(n,t,a)},isContainedWithinObject:function(n,t,a){for(var l=this.getCoords(t,a),i=t?n.aCoords:n.lineCoords,f=0,p=n._getImageLines(i);f<4;f++)if(!n.containsPoint(l[f],p))return!1;return!0},isContainedWithinRect:function(n,t,a,l){var i=this.getBoundingRect(a,l);return i.left>=n.x&&i.left+i.width<=t.x&&i.top>=n.y&&i.top+i.height<=t.y},containsPoint:function(n,t,a,l){var i=this._getCoords(a,l),t=t||this._getImageLines(i),f=this._findCrossPoints(n,t);return f!==0&&f%2==1},isOnScreen:function(n){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br,l=this.getCoords(!0,n);return l.some(function(i){return i.x<=a.x&&i.x>=t.x&&i.y<=a.y&&i.y>=t.y})||this.intersectsWithRect(t,a,!0,n)?!0:this._containsCenterOfCanvas(t,a,n)},_containsCenterOfCanvas:function(n,t,a){var l={x:(n.x+t.x)/2,y:(n.y+t.y)/2};return!!this.containsPoint(l,null,!0,a)},isPartiallyOnScreen:function(n){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;if(this.intersectsWithRect(t,a,!0,n))return!0;var l=this.getCoords(!0,n).every(function(i){return(i.x>=a.x||i.x<=t.x)&&(i.y>=a.y||i.y<=t.y)});return l&&this._containsCenterOfCanvas(t,a,n)},_getImageLines:function(n){var t={topline:{o:n.tl,d:n.tr},rightline:{o:n.tr,d:n.br},bottomline:{o:n.br,d:n.bl},leftline:{o:n.bl,d:n.tl}};return t},_findCrossPoints:function(n,t){var a,l,i,f,p,m=0,x;for(var M in t)if(x=t[M],!(x.o.y<n.y&&x.d.y<n.y)&&!(x.o.y>=n.y&&x.d.y>=n.y)&&(x.o.x===x.d.x&&x.o.x>=n.x?p=x.o.x:(a=0,l=(x.d.y-x.o.y)/(x.d.x-x.o.x),i=n.y-a*n.x,f=x.o.y-l*x.o.x,p=-(i-f)/(a-l)),p>=n.x&&(m+=1),m===2))break;return m},getBoundingRect:function(n,t){var a=this.getCoords(n,t);return s.makeBoundingBoxFromPoints(a)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(n){return Math.abs(n)<this.minScaleLimit?n<0?-this.minScaleLimit:this.minScaleLimit:n===0?1e-4:n},scale:function(n){return this._set("scaleX",n),this._set("scaleY",n),this.setCoords()},scaleToWidth:function(n,t){var a=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(n/this.width/a)},scaleToHeight:function(n,t){var a=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(n/this.height/a)},calcLineCoords:function(){var n=this.getViewportTransform(),t=this.padding,a=h(this.angle),l=s.cos(a),i=s.sin(a),f=l*t,p=i*t,m=f+p,x=f-p,M=this.calcACoords(),Y={tl:o(M.tl,n),tr:o(M.tr,n),bl:o(M.bl,n),br:o(M.br,n)};return t&&(Y.tl.x-=x,Y.tl.y-=m,Y.tr.x+=m,Y.tr.y-=x,Y.bl.x-=m,Y.bl.y+=x,Y.br.x+=x,Y.br.y+=m),Y},calcOCoords:function(){var n=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),a=this.getViewportTransform(),l=u(a,t),i=u(l,n),i=u(i,[1/a[0],0,0,1/a[3],0,0]),f=this._calculateCurrentDimensions(),p={};return this.forEachControl(function(m,x,M){p[x]=m.positionHandler(f,i,M)}),p},calcACoords:function(){var n=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),a=u(t,n),l=this._getTransformedDimensions(),i=l.x/2,f=l.y/2;return{tl:o({x:-i,y:-f},a),tr:o({x:i,y:-f},a),bl:o({x:-i,y:f},a),br:o({x:i,y:f},a)}},setCoords:function(n){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),n?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var n=this.getCenterPoint();return[1,0,0,1,n.x,n.y]},transformMatrixKey:function(n){var t="_",a="";return!n&&this.group&&(a=this.group.transformMatrixKey(n)+t),a+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(n){var t=this.calcOwnMatrix();if(n||!this.group)return t;var a=this.transformMatrixKey(n),l=this.matrixCache||(this.matrixCache={});return l.key===a?l.value:(this.group&&(t=u(this.group.calcTransformMatrix(!1),t)),l.key=a,l.value=t,t)},calcOwnMatrix:function(){var n=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===n)return t.value;var a=this._calcTranslateMatrix(),l={angle:this.angle,translateX:a[4],translateY:a[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return t.key=n,t.value=s.composeMatrix(l),t.value},_getNonTransformedDimensions:function(){var n=this.strokeWidth,t=this.width+n,a=this.height+n;return{x:t,y:a}},_getTransformedDimensions:function(n,t){typeof n=="undefined"&&(n=this.skewX),typeof t=="undefined"&&(t=this.skewY);var a,l,i,f=n===0&&t===0;if(this.strokeUniform?(l=this.width,i=this.height):(a=this._getNonTransformedDimensions(),l=a.x,i=a.y),f)return this._finalizeDimensions(l*this.scaleX,i*this.scaleY);var p=s.sizeAfterTransform(l,i,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:n,skewY:t});return this._finalizeDimensions(p.x,p.y)},_finalizeDimensions:function(n,t){return this.strokeUniform?{x:n+this.strokeWidth,y:t+this.strokeWidth}:{x:n,y:t}},_calculateCurrentDimensions:function(){var n=this.getViewportTransform(),t=this._getTransformedDimensions(),a=o(t,n,!0);return a.scalarAdd(2*this.padding)}})}(),O.util.object.extend(O.Object.prototype,{sendToBack:function(){return this.group?O.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?O.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(s){return this.group?O.StaticCanvas.prototype.sendBackwards.call(this.group,this,s):this.canvas&&this.canvas.sendBackwards(this,s),this},bringForward:function(s){return this.group?O.StaticCanvas.prototype.bringForward.call(this.group,this,s):this.canvas&&this.canvas.bringForward(this,s),this},moveTo:function(s){return this.group&&this.group.type!=="activeSelection"?O.StaticCanvas.prototype.moveTo.call(this.group,this,s):this.canvas&&this.canvas.moveTo(this,s),this}}),function(){function b(h,u){if(u){if(u.toLive)return h+": url(#SVGID_"+u.id+"); ";var o=new O.Color(u),e=h+": "+o.toRgb()+"; ",n=o.getAlpha();return n!==1&&(e+=h+"-opacity: "+n.toString()+"; "),e}else return h+": none; "}var s=O.util.toFixed;O.util.object.extend(O.Object.prototype,{getSvgStyles:function(u){var o=this.fillRule?this.fillRule:"nonzero",e=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):"none",t=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",i=this.strokeMiterLimit?this.strokeMiterLimit:"4",f=typeof this.opacity!="undefined"?this.opacity:"1",p=this.visible?"":" visibility: hidden;",m=u?"":this.getSvgFilter(),x=b("fill",this.fill),M=b("stroke",this.stroke);return[M,"stroke-width: ",e,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",t,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",i,"; ",x,"fill-rule: ",o,"; ","opacity: ",f,";",m,p].join("")},getSvgSpanStyles:function(u,o){var e="; ",n=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+e:"",t=u.strokeWidth?"stroke-width: "+u.strokeWidth+e:"",n=n,a=u.fontSize?"font-size: "+u.fontSize+"px"+e:"",l=u.fontStyle?"font-style: "+u.fontStyle+e:"",i=u.fontWeight?"font-weight: "+u.fontWeight+e:"",f=u.fill?b("fill",u.fill):"",p=u.stroke?b("stroke",u.stroke):"",m=this.getSvgTextDecoration(u),x=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return m&&(m="text-decoration: "+m+e),[p,t,n,a,l,i,m,f,x,o?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(o){return u[o.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,o){var e=u?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'+O.util.matrixToSVG(e);return n+(o||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var o=O.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,o),'" y="',s(-this.height/2,o),'" width="',s(this.width,o),'" height="',s(this.height,o),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,o){o=o||{};var e=o.reviver,n=o.additionalTransform||"",t=[this.getSvgTransform(!0,n),this.getSvgCommons()].join(""),a=u.indexOf("COMMON_PARTS");return u[a]=t,e?e(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,o){o=o||{};var e=o.noStyle,n=o.reviver,t=e?"":'style="'+this.getSvgStyles()+'" ',a=o.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,i=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=l&&l.absolutePositioned,p=this.stroke,m=this.fill,x=this.shadow,M,Y=[],nt,xt=u.indexOf("COMMON_PARTS"),Dt=o.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+O.Object.__uid++,nt='<clipPath id="'+l.clipPathId+`" >
`+l.toClipPathSVG(n)+`</clipPath>
`),f&&Y.push("<g ",a,this.getSvgCommons(),` >
`),Y.push("<g ",this.getSvgTransform(!1),f?"":a+this.getSvgCommons(),` >
`),M=[t,i,e?"":this.addPaintOrder()," ",Dt?'transform="'+Dt+'" ':""].join(""),u[xt]=M,m&&m.toLive&&Y.push(m.toSVG(this)),p&&p.toLive&&Y.push(p.toSVG(this)),x&&Y.push(x.toSVG(this)),l&&Y.push(nt),Y.push(u.join("")),Y.push(`</g>
`),f&&Y.push(`</g>
`),n?n(Y.join("")):Y.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var b=O.util.object.extend,s="stateProperties";function h(o,e,n){var t={},a=!0;n.forEach(function(l){t[l]=o[l]}),b(o[e],t,a)}function u(o,e,n){if(o===e)return!0;if(Array.isArray(o)){if(!Array.isArray(e)||o.length!==e.length)return!1;for(var t=0,a=o.length;t<a;t++)if(!u(o[t],e[t]))return!1;return!0}else if(o&&typeof o=="object"){var l=Object.keys(o),i;if(!e||typeof e!="object"||!n&&l.length!==Object.keys(e).length)return!1;for(var t=0,a=l.length;t<a;t++)if(i=l[t],!(i==="canvas"||i==="group")&&!u(o[i],e[i]))return!1;return!0}}O.util.object.extend(O.Object.prototype,{hasStateChanged:function(e){e=e||s;var n="_"+e;return Object.keys(this[n]).length<this[e].length?!0:!u(this[n],this,!0)},saveState:function(e){var n=e&&e.propertySet||s,t="_"+n;return this[t]?(h(this,t,this[n]),e&&e.stateProperties&&h(this,t,e.stateProperties),this):this.setupState(e)},setupState:function(e){e=e||{};var n=e.propertySet||s;return e.propertySet=n,this["_"+n]={},this.saveState(e),this}})}(),function(){var b=O.util.degreesToRadians;O.util.object.extend(O.Object.prototype,{_findTargetCorner:function(h,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var o=h.x,e=h.y,n,t,a=Object.keys(this.oCoords),l=a.length-1,i;for(this.__corner=0;l>=0;l--)if(i=a[l],!!this.isControlVisible(i)&&(t=this._getImageLines(u?this.oCoords[i].touchCorner:this.oCoords[i].corner),n=this._findCrossPoints({x:o,y:e},t),n!==0&&n%2==1))return this.__corner=i,i;return!1},forEachControl:function(h){for(var u in this.controls)h(this.controls[u],u,this)},_setCornerCoords:function(){var h=this.oCoords;for(var u in h){var o=this.controls[u];h[u].corner=o.calcCornerCoords(this.angle,this.cornerSize,h[u].x,h[u].y,!1),h[u].touchCorner=o.calcCornerCoords(this.angle,this.touchCornerSize,h[u].x,h[u].y,!0)}},drawSelectionBackground:function(h){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;h.save();var u=this.getCenterPoint(),o=this._calculateCurrentDimensions(),e=this.canvas.viewportTransform;return h.translate(u.x,u.y),h.scale(1/e[0],1/e[3]),h.rotate(b(this.angle)),h.fillStyle=this.selectionBackgroundColor,h.fillRect(-o.x/2,-o.y/2,o.x,o.y),h.restore(),this},drawBorders:function(h,u){u=u||{};var o=this._calculateCurrentDimensions(),e=this.borderScaleFactor,n=o.x+e,t=o.y+e,a=typeof u.hasControls!="undefined"?u.hasControls:this.hasControls,l=!1;return h.save(),h.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(h,u.borderDashArray||this.borderDashArray),h.strokeRect(-n/2,-t/2,n,t),a&&(h.beginPath(),this.forEachControl(function(i,f,p){i.withConnection&&i.getVisibility(p,f)&&(l=!0,h.moveTo(i.x*n,i.y*t),h.lineTo(i.x*n+i.offsetX,i.y*t+i.offsetY))}),l&&h.stroke()),h.restore(),this},drawBordersInGroup:function(h,u,o){o=o||{};var e=O.util.sizeAfterTransform(this.width,this.height,u),n=this.strokeWidth,t=this.strokeUniform,a=this.borderScaleFactor,l=e.x+n*(t?this.canvas.getZoom():u.scaleX)+a,i=e.y+n*(t?this.canvas.getZoom():u.scaleY)+a;return h.save(),this._setLineDash(h,o.borderDashArray||this.borderDashArray),h.strokeStyle=o.borderColor||this.borderColor,h.strokeRect(-l/2,-i/2,l,i),h.restore(),this},drawControls:function(h,u){u=u||{},h.save();var o=this.canvas.getRetinaScaling(),e,n;return h.setTransform(o,0,0,o,0,0),h.strokeStyle=h.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(h.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(h,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(e=this.group.calcTransformMatrix()),this.forEachControl(function(t,a,l){n=l.oCoords[a],t.getVisibility(l,a)&&(e&&(n=O.util.transformPoint(n,e)),t.render(h,n.x,n.y,u,l))}),h.restore(),this},isControlVisible:function(h){return this.controls[h]&&this.controls[h].getVisibility(this,h)},setControlVisible:function(h,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[h]=u,this},setControlsVisibility:function(h){h||(h={});for(var u in h)this.setControlVisible(u,h[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),O.util.object.extend(O.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(s,h){h=h||{};var u=function(){},o=h.onComplete||u,e=h.onChange||u,n=this;return O.util.animate({target:this,startValue:s.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){s.set("left",a),n.requestRenderAll(),e()},onComplete:function(){s.setCoords(),o()}})},fxCenterObjectV:function(s,h){h=h||{};var u=function(){},o=h.onComplete||u,e=h.onChange||u,n=this;return O.util.animate({target:this,startValue:s.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){s.set("top",a),n.requestRenderAll(),e()},onComplete:function(){s.setCoords(),o()}})},fxRemove:function(s,h){h=h||{};var u=function(){},o=h.onComplete||u,e=h.onChange||u,n=this;return O.util.animate({target:this,startValue:s.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){s.set("opacity",a),n.requestRenderAll(),e()},onComplete:function(){n.remove(s),o()}})}}),O.util.object.extend(O.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var s=[],h,u,o=[];for(h in arguments[0])s.push(h);for(var e=0,n=s.length;e<n;e++)h=s[e],u=e!==n-1,o.push(this._animate(h,arguments[0][h],arguments[1],u));return o}else return this._animate.apply(this,arguments)},_animate:function(s,h,u,o){var e=this,n;h=h.toString(),u?u=O.util.object.clone(u):u={},~s.indexOf(".")&&(n=s.split("."));var t=e.colorProperties.indexOf(s)>-1||n&&e.colorProperties.indexOf(n[1])>-1,a=n?this.get(n[0])[n[1]]:this.get(s);"from"in u||(u.from=a),t||(~h.indexOf("=")?h=a+parseFloat(h.replace("=","")):h=parseFloat(h));var l={target:this,startValue:u.from,endValue:h,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(i,f,p){return u.abort.call(e,i,f,p)},onChange:function(f,p,m){n?e[n[0]][n[1]]=f:e.set(s,f),!o&&u.onChange&&u.onChange(f,p,m)},onComplete:function(f,p,m){o||(e.setCoords(),u.onComplete&&u.onComplete(f,p,m))}};return t?O.util.animateColor(l.startValue,l.endValue,l.duration,l):O.util.animate(l)}}),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,a){t||(t=[0,0,0,0]),this.callSuper("initialize",a),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(a)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,a){return this.callSuper("_set",t,a),typeof o[t]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:e({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:e({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var a=this.calcLinePoints();t.moveTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineWidth=this.strokeWidth;var l=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=l},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return h(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,a=this.y1<=this.y2?-1:1,l=t*this.width*.5,i=a*this.height*.5,f=t*this.width*-.5,p=a*this.height*-.5;return{x1:l,x2:f,y1:i,y2:p}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(n,t,a){a=a||{};var l=s.parseAttributes(n,s.Line.ATTRIBUTE_NAMES),i=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];t(new s.Line(i,h(l,a)))},s.Line.fromObject=function(n,t){function a(i){delete i.points,t&&t(i)}var l=u(n,!0);l.points=[n.x1,n.y1,n.x2,n.y2],s.Object._fromObject("Line",l,a,"points")};function e(n,t){var a=n.origin,l=n.axis1,i=n.axis2,f=n.dimension,p=t.nearest,m=t.center,x=t.farthest;return function(){switch(this.get(a)){case p:return Math.min(this.get(l),this.get(i));case m:return Math.min(this.get(l),this.get(i))+.5*this.get(f);case x:return Math.max(this.get(l),this.get(i))}}}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,n){return this.callSuper("_set",e,n),e==="radius"&&this.setRadius(n),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,n=0,t=0,a=(this.endAngle-this.startAngle)%360;if(a===0)e=["<circle ","COMMON_PARTS",'cx="'+n+'" cy="'+t+'" ','r="',this.radius,`" />
`];else{var l=h(this.startAngle),i=h(this.endAngle),f=this.radius,p=s.util.cos(l)*f,m=s.util.sin(l)*f,x=s.util.cos(i)*f,M=s.util.sin(i)*f,Y=a>180?"1":"0";e=['<path d="M '+p+" "+m," A "+f+" "+f," 0 ",+Y+" 1"," "+x+" "+M,'" ',"COMMON_PARTS",` />
`]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",e*2).set("height",e*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(o,e){var n=s.parseAttributes(o,s.Circle.ATTRIBUTE_NAMES);if(!u(n))throw new Error("value of `r` attribute is required and can not be negative");n.left=(n.left||0)-n.radius,n.top=(n.top||0)-n.radius,e(new s.Circle(n))};function u(o){return"radius"in o&&o.radius>=0}s.Circle.fromObject=function(o,e){s.Object._fromObject("Circle",o,e)}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(u){var o=this.width/2,e=this.height/2;u.beginPath(),u.moveTo(-o,e),u.lineTo(0,-e),u.lineTo(o,e),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,o=this.height/2,e=[-u+" "+o,"0 "+-o,u+" "+o].join(",");return["<polygon ","COMMON_PARTS",'points="',e,'" />']}}),s.Triangle.fromObject=function(h,u){return s.Object._fromObject("Triangle",h,u)}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(o){this.callSuper("initialize",o),this.set("rx",o&&o.rx||0),this.set("ry",o&&o.ry||0)},_set:function(o,e){switch(this.callSuper("_set",o,e),o){case"rx":this.rx=e,this.set("width",e*2);break;case"ry":this.ry=e,this.set("height",e*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(o){return this.callSuper("toObject",["rx","ry"].concat(o))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(o){o.beginPath(),o.save(),o.transform(1,0,0,this.ry/this.rx,0,0),o.arc(0,0,this.rx,0,h,!1),o.restore(),this._renderPaintInOrder(o)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(u,o){var e=s.parseAttributes(u,s.Ellipse.ATTRIBUTE_NAMES);e.left=(e.left||0)-e.rx,e.top=(e.top||0)-e.ry,o(new s.Ellipse(e))},s.Ellipse.fromObject=function(u,o){s.Object._fromObject("Ellipse",u,o)}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(o){this.callSuper("initialize",o),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(o){var e=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,t=this.width,a=this.height,l=-this.width/2,i=-this.height/2,f=e!==0||n!==0,p=1-.5522847498;o.beginPath(),o.moveTo(l+e,i),o.lineTo(l+t-e,i),f&&o.bezierCurveTo(l+t-p*e,i,l+t,i+p*n,l+t,i+n),o.lineTo(l+t,i+a-n),f&&o.bezierCurveTo(l+t,i+a-p*n,l+t-p*e,i+a,l+t-e,i+a),o.lineTo(l+e,i+a),f&&o.bezierCurveTo(l+p*e,i+a,l,i+a-p*n,l,i+a-n),o.lineTo(l,i+n),f&&o.bezierCurveTo(l,i+p*n,l+p*e,i,l+e,i),o.closePath(),this._renderPaintInOrder(o)},toObject:function(o){return this.callSuper("toObject",["rx","ry"].concat(o))},_toSVG:function(){var o=-this.width/2,e=-this.height/2;return["<rect ","COMMON_PARTS",'x="',o,'" y="',e,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(u,o,e){if(!u)return o(null);e=e||{};var n=s.parseAttributes(u,s.Rect.ATTRIBUTE_NAMES);n.left=n.left||0,n.top=n.top||0,n.height=n.height||0,n.width=n.width||0;var t=new s.Rect(h(e?s.util.object.clone(e):{},n));t.visible=t.visible&&t.width>0&&t.height>0,o(t)},s.Rect.fromObject=function(u,o){return s.Object._fromObject("Rect",u,o)}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.array.min,o=s.util.array.max,e=s.util.toFixed,n=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(a,l){l=l||{},this.points=a||[],this.callSuper("initialize",l),this._setPositionDimensions(l)},_projectStrokeOnPoints:function(){return n(this.points,this,!0)},_setPositionDimensions:function(a){var l=this._calcDimensions(a),i,f=this.exactBoundingBox?this.strokeWidth:0;this.width=l.width-f,this.height=l.height-f,a.fromSVG||(i=this.translateToGivenOrigin({x:l.left-this.strokeWidth/2+f/2,y:l.top-this.strokeWidth/2+f/2},"left","top",this.originX,this.originY)),typeof a.left=="undefined"&&(this.left=a.fromSVG?l.left:i.x),typeof a.top=="undefined"&&(this.top=a.fromSVG?l.top:i.y),this.pathOffset={x:l.left+this.width/2+f/2,y:l.top+this.height/2+f/2}},_calcDimensions:function(){var a=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,l=u(a,"x")||0,i=u(a,"y")||0,f=o(a,"x")||0,p=o(a,"y")||0,m=f-l,x=p-i;return{left:l,top:i,width:m,height:x}},toObject:function(a){return h(this.callSuper("toObject",a),{points:this.points.concat()})},_toSVG:function(){for(var a=[],l=this.pathOffset.x,i=this.pathOffset.y,f=s.Object.NUM_FRACTION_DIGITS,p=0,m=this.points.length;p<m;p++)a.push(e(this.points[p].x-l,f),",",e(this.points[p].y-i,f)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',a.join(""),`" />
`]},commonRender:function(a){var l,i=this.points.length,f=this.pathOffset.x,p=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;a.beginPath(),a.moveTo(this.points[0].x-f,this.points[0].y-p);for(var m=0;m<i;m++)l=this.points[m],a.lineTo(l.x-f,l.y-p);return!0},_render:function(a){!this.commonRender(a)||this._renderPaintInOrder(a)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(t){return function(a,l,i){if(!a)return l(null);i||(i={});var f=s.parsePointsAttribute(a.getAttribute("points")),p=s.parseAttributes(a,s[t].ATTRIBUTE_NAMES);p.fromSVG=!0,l(new s[t](f,h(p,i)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(t,a){return s.Object._fromObject("Polyline",t,a,"points")}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(o){!this.commonRender(o)||(o.closePath(),this._renderPaintInOrder(o))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(u,o){s.Object._fromObject("Polygon",u,o,"points")}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.array.min,u=s.util.array.max,o=s.util.object.extend,e=s.util.object.clone,n=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(a,l){l=e(l||{}),delete l.path,this.callSuper("initialize",l),this._setPath(a||[],l)},_setPath:function(a,l){this.path=s.util.makePathSimpler(Array.isArray(a)?a:s.util.parsePath(a)),s.Polyline.prototype._setPositionDimensions.call(this,l||{})},_renderPathCommands:function(a){var l,i=0,f=0,p=0,m=0,x=0,M=0,Y=-this.pathOffset.x,nt=-this.pathOffset.y;a.beginPath();for(var xt=0,Dt=this.path.length;xt<Dt;++xt)switch(l=this.path[xt],l[0]){case"L":p=l[1],m=l[2],a.lineTo(p+Y,m+nt);break;case"M":p=l[1],m=l[2],i=p,f=m,a.moveTo(p+Y,m+nt);break;case"C":p=l[5],m=l[6],x=l[3],M=l[4],a.bezierCurveTo(l[1]+Y,l[2]+nt,x+Y,M+nt,p+Y,m+nt);break;case"Q":a.quadraticCurveTo(l[1]+Y,l[2]+nt,l[3]+Y,l[4]+nt),p=l[3],m=l[4],x=l[1],M=l[2];break;case"z":case"Z":p=i,m=f,a.closePath();break}},_render:function(a){this._renderPathCommands(a),this._renderPaintInOrder(a)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(a){return o(this.callSuper("toObject",a),{path:this.path.map(function(l){return l.slice()})})},toDatalessObject:function(a){var l=this.toObject(["sourcePath"].concat(a));return l.sourcePath&&delete l.path,l},_toSVG:function(){var a=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',a,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var a=s.Object.NUM_FRACTION_DIGITS;return" translate("+n(-this.pathOffset.x,a)+", "+n(-this.pathOffset.y,a)+")"},toClipPathSVG:function(a){var l=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:l})},toSVG:function(a){var l=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:l})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var a=[],l=[],i,f=0,p=0,m=0,x=0,M,Y=0,nt=this.path.length;Y<nt;++Y){switch(i=this.path[Y],i[0]){case"L":m=i[1],x=i[2],M=[];break;case"M":m=i[1],x=i[2],f=m,p=x,M=[];break;case"C":M=s.util.getBoundsOfCurve(m,x,i[1],i[2],i[3],i[4],i[5],i[6]),m=i[5],x=i[6];break;case"Q":M=s.util.getBoundsOfCurve(m,x,i[1],i[2],i[1],i[2],i[3],i[4]),m=i[3],x=i[4];break;case"z":case"Z":m=f,x=p;break}M.forEach(function(Vt){a.push(Vt.x),l.push(Vt.y)}),a.push(m),l.push(x)}var xt=h(a)||0,Dt=h(l)||0,Ut=u(a)||0,fe=u(l)||0,Oe=Ut-xt,_t=fe-Dt;return{left:xt,top:Dt,width:Oe,height:_t}}}),s.Path.fromObject=function(t,a){if(typeof t.sourcePath=="string"){var l=t.sourcePath;s.loadSVGFromURL(l,function(i){var f=i[0];f.setOptions(t),a&&a(f)})}else s.Object._fromObject("Path",t,a,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(t,a,l){var i=s.parseAttributes(t,s.Path.ATTRIBUTE_NAMES);i.fromSVG=!0,a(new s.Path(i.d,o(i,l)))}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.array.min,u=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,n,t){n=n||{},this._objects=[],t&&this.callSuper("initialize",n),this._objects=e||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;if(t)this._updateObjectsACoords();else{var l=n&&n.centerPoint;n.originX!==void 0&&(this.originX=n.originX),n.originY!==void 0&&(this.originY=n.originY),l||this._calcBounds(),this._updateObjectsCoords(l),delete n.centerPoint,this.callSuper("initialize",n)}this.setCoords()},_updateObjectsACoords:function(){for(var e=!0,n=this._objects.length;n--;)this._objects[n].setCoords(e)},_updateObjectsCoords:function(e){for(var e=e||this.getCenterPoint(),n=this._objects.length;n--;)this._updateObjectCoords(this._objects[n],e)},_updateObjectCoords:function(e,n){var t=e.left,a=e.top,l=!0;e.set({left:t-n.x,top:a-n.y}),e.group=this,e.setCoords(l)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),e&&(n&&s.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var t=this._objects.length;if(this.useSetOnGroup)for(;t--;)this._objects[t].setOnGroup(e,n);if(e==="canvas")for(;t--;)this._objects[t]._set(e,n);s.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,t=this._objects.filter(function(l){return!l.excludeFromExport}).map(function(l){var i=l.includeDefaultValues;l.includeDefaultValues=n;var f=l.toObject(e);return l.includeDefaultValues=i,f}),a=s.Object.prototype.toObject.call(this,e);return a.objects=t,a},toDatalessObject:function(e){var n,t=this.sourcePath;if(t)n=t;else{var a=this.includeDefaultValues;n=this._objects.map(function(i){var f=i.includeDefaultValues;i.includeDefaultValues=a;var p=i.toDatalessObject(e);return i.includeDefaultValues=f,p})}var l=s.Object.prototype.toDatalessObject.call(this,e);return l.objects=n,l},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=s.Object.prototype.shouldCache.call(this);if(e){for(var n=0,t=this._objects.length;n<t;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1}return e},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var n=0,t=this._objects.length;n<t;n++)this._objects[n].render(e);this._drawClipPath(e,this.clipPath)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var n=0,t=this._objects.length;n<t;n++)if(this._objects[n].isCacheDirty(!0)){if(this._cacheCanvas){var a=this.cacheWidth/this.zoomX,l=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-a/2,-l/2,a,l)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach(function(n){s.util.addTransformToObject(n,e),delete n.group,n.setCoords()}),this},destroy:function(){return this._objects.forEach(function(e){e.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(e){e.dispose&&e.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var t=this.toObject();delete t.objects;var a=new s.ActiveSelection([]);return a.set(t),a.type="activeSelection",n.remove(this),e.forEach(function(l){l.group=a,l.dirty=!0,n.add(l)}),a.canvas=n,a._objects=e,n._activeObject=a,a.setCoords(),a}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var e=!0;return this.forEachObject(function(n){n.setCoords(e)}),this},_calcBounds:function(e){for(var n=[],t=[],a,l,i,f=["tr","br","bl","tl"],p=0,m=this._objects.length,x,M=f.length;p<m;++p){for(a=this._objects[p],i=a.calcACoords(),x=0;x<M;x++)l=f[x],n.push(i[l].x),t.push(i[l].y);a.aCoords=i}this._getBounds(n,t,e)},_getBounds:function(e,n,t){var a=new s.Point(h(e),h(n)),l=new s.Point(u(e),u(n)),i=a.y||0,f=a.x||0,p=l.x-a.x||0,m=l.y-a.y||0;this.width=p,this.height=m,t||this.setPositionByOrigin({x:f,y:i},"left","top")},_toSVG:function(e){for(var n=["<g ","COMMON_PARTS",` >
`],t=0,a=this._objects.length;t<a;t++)n.push("		",this._objects[t].toSVG(e));return n.push(`</g>
`),n},getSvgStyles:function(){var e=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",n=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),n].join("")},toClipPathSVG:function(e){for(var n=[],t=0,a=this._objects.length;t<a;t++)n.push("	",this._objects[t].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(n,{reviver:e})}}),s.Group.fromObject=function(o,e){var n=o.objects,t=s.util.object.clone(o,!0);if(delete t.objects,typeof n=="string"){s.loadSVGFromURL(n,function(a){var l=s.util.groupSVGElements(a,o,n);l.set(t),e&&e(l)});return}s.util.enlivenObjects(n,function(a){var l=s.util.object.clone(o,!0);delete l.objects,s.util.enlivenObjectEnlivables(o,l,function(){e&&e(new s.Group(a,l,!0))})})})}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(u,o){o=o||{},this._objects=u||[];for(var e=this._objects.length;e--;)this._objects[e].group=this;o.originX&&(this.originX=o.originX),o.originY&&(this.originY=o.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,o),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var o=s.Object.prototype.toObject.call(this),e=new s.Group([]);if(delete o.type,e.set(o),u.forEach(function(t){t.canvas.remove(t),t.group=e}),e._objects=u,!this.canvas)return e;var n=this.canvas;return n.add(e),n._activeObject=e,e.setCoords(),e},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,o,e){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",u,o),e=e||{},typeof e.hasControls=="undefined"&&(e.hasControls=!1),e.forActiveSelection=!0;for(var n=0,t=this._objects.length;n<t;n++)this._objects[n]._renderControls(u,e);u.restore()}}),s.ActiveSelection.fromObject=function(h,u){s.util.enlivenObjects(h.objects,function(o){delete h.objects,u&&u(new s.ActiveSelection(o,h,!0))})})}(_r),function(b){"use strict";var s=O.util.object.extend;if(b.fabric||(b.fabric={}),b.fabric.Image){O.warn("fabric.Image is already defined.");return}O.Image=O.util.createClass(O.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:O.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:O.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,o){o||(o={}),this.filters=[],this.cacheKey="texture"+O.Object.__uid++,this.callSuper("initialize",o),this._initElement(u,o)},getElement:function(){return this._element||{}},setElement:function(u,o){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(o),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var o=O.filterBackend;o&&o.evictCachesForKey&&o.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(u){O.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var o=this.width/2,e=this.height/2;u.beginPath(),u.moveTo(-o,-e),u.lineTo(o,-e),u.lineTo(o,e),u.lineTo(-o,e),u.lineTo(-o,-e),u.closePath()}},toObject:function(u){var o=[];this.filters.forEach(function(n){n&&o.push(n.toObject())});var e=s(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:o});return this.resizeFilter&&(e.resizeFilter=this.resizeFilter.toObject()),e},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],o=[],e,n=this._element,t=-this.width/2,a=-this.height/2,l="",i="";if(!n)return[];if(this.hasCrop()){var f=O.Object.__uid++;u.push('<clipPath id="imageCrop_'+f+`">
`,'	<rect x="'+t+'" y="'+a+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+f+')" '}if(this.imageSmoothing||(i='" image-rendering="optimizeSpeed'),o.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',t-this.cropX,'" y="',a-this.cropY,'" width="',n.width||n.naturalWidth,'" height="',n.height||n.height,i,'"',l,`></image>
`),this.stroke||this.strokeDashArray){var p=this.fill;this.fill=null,e=["	<rect ",'x="',t,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=p}return this.paintFirst!=="fill"?u=u.concat(e,o):u=u.concat(o,e),u},getSrc:function(u){var o=u?this._element:this._originalElement;return o?o.toDataURL?o.toDataURL():this.srcFromAttribute?o.getAttribute("src"):o.src:this.src||""},setSrc:function(u,o,e){return O.util.loadImage(u,function(n,t){this.setElement(n,e),this._setWidthHeight(),o&&o(this,t)},this,e&&e.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,o=this.minimumScaleTrigger,e=this.getTotalObjectScaling(),n=e.scaleX,t=e.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||n>o&&t>o){this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,this._lastScaleY=t;return}O.filterBackend||(O.filterBackend=O.initFilterBackend());var l=O.util.createCanvasElement(),i=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,f=a.width,p=a.height;l.width=f,l.height=p,this._element=l,this._lastScaleX=u.scaleX=n,this._lastScaleY=u.scaleY=t,O.filterBackend.applyFilters([u],a,f,p,this._element,i),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(a){return a&&!a.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var o=this._originalElement,e=o.naturalWidth||o.width,n=o.naturalHeight||o.height;if(this._element===this._originalElement){var t=O.util.createCanvasElement();t.width=e,t.height=n,this._element=t,this._filteredEl=t}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,e,n),this._lastScaleX=1,this._lastScaleY=1;return O.filterBackend||(O.filterBackend=O.initFilterBackend()),O.filterBackend.applyFilters(u,this._originalElement,e,n,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){O.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){O.util.setImageSmoothing(u,this.imageSmoothing),O.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var o=this._element;if(!!o){var e=this._filterScalingX,n=this._filterScalingY,t=this.width,a=this.height,l=Math.min,i=Math.max,f=i(this.cropX,0),p=i(this.cropY,0),m=o.naturalWidth||o.width,x=o.naturalHeight||o.height,M=f*e,Y=p*n,nt=l(t*e,m-M),xt=l(a*n,x-Y),Dt=-t/2,Ut=-a/2,fe=l(t,m/e-f),Oe=l(a,x/n-p);o&&u.drawImage(o,M,Y,nt,xt,Dt,Ut,fe,Oe)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,o){this.setElement(O.util.getById(u),o),O.util.addClass(this.getElement(),O.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,o){u&&u.length?O.util.enlivenObjects(u,function(e){o&&o(e)},"fabric.Image.filters"):o&&o()},_setWidthHeight:function(u){u||(u={});var o=this.getElement();this.width=u.width||o.naturalWidth||o.width||0,this.height=u.height||o.naturalHeight||o.height||0},parsePreserveAspectRatioAttribute:function(){var u=O.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),o=this._element.width,e=this._element.height,n=1,t=1,a=0,l=0,i=0,f=0,p,m=this.width,x=this.height,M={width:m,height:x};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(n=t=O.util.findScaleToFit(this._element,M),p=(m-o*n)/2,u.alignX==="Min"&&(a=-p),u.alignX==="Max"&&(a=p),p=(x-e*t)/2,u.alignY==="Min"&&(l=-p),u.alignY==="Max"&&(l=p)),u.meetOrSlice==="slice"&&(n=t=O.util.findScaleToCover(this._element,M),p=o-m/n,u.alignX==="Mid"&&(i=p/2),u.alignX==="Max"&&(i=p),p=e-x/t,u.alignY==="Mid"&&(f=p/2),u.alignY==="Max"&&(f=p),o=m/n,e=x/t)):(n=m/o,t=x/e),{width:o,height:e,scaleX:n,scaleY:t,offsetLeft:a,offsetTop:l,cropX:i,cropY:f}}}),O.Image.CSS_CANVAS="canvas-img",O.Image.prototype.getSvgSrc=O.Image.prototype.getSrc,O.Image.fromObject=function(h,u){var o=O.util.object.clone(h);O.util.loadImage(o.src,function(e,n){if(n){u&&u(null,!0);return}O.Image.prototype._initFilters.call(o,o.filters,function(t){o.filters=t||[],O.Image.prototype._initFilters.call(o,[o.resizeFilter],function(a){o.resizeFilter=a[0],O.util.enlivenObjectEnlivables(o,o,function(){var l=new O.Image(e,o);u(l,!1)})})})},null,o.crossOrigin)},O.Image.fromURL=function(h,u,o){O.util.loadImage(h,function(e,n){u&&u(new O.Image(e,o),n)},null,o&&o.crossOrigin)},O.Image.ATTRIBUTE_NAMES=O.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),O.Image.fromElement=function(h,u,o){var e=O.parseAttributes(h,O.Image.ATTRIBUTE_NAMES);O.Image.fromURL(e["xlink:href"],u,s(o?O.util.object.clone(o):{},e))}}(_r),O.util.object.extend(O.Object.prototype,{_getAngleValueForStraighten:function(){var s=this.angle%360;return s>0?Math.round((s-1)/90)*90:Math.round(s/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(s){s=s||{};var h=function(){},u=s.onComplete||h,o=s.onChange||h,e=this;return O.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){e.rotate(t),o()},onComplete:function(){e.setCoords(),u()}})}}),O.util.object.extend(O.StaticCanvas.prototype,{straightenObject:function(s){return s.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(s){return s.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function b(h,u){var o="precision "+u+` float;
void main(){}`,e=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(e,o),h.compileShader(e),!!h.getShaderParameter(e,h.COMPILE_STATUS)}O.isWebglSupported=function(h){if(O.isLikelyNode)return!1;h=h||O.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),o=u.getContext("webgl")||u.getContext("experimental-webgl"),e=!1;if(o){O.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),e=O.maxTextureSize>=h;for(var n=["highp","mediump","lowp"],t=0;t<3;t++)if(b(o,n[t])){O.webGlPrecision=n[t];break}}return this.isSupported=e,e},O.WebglFilterBackend=s;function s(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(u,o){this.dispose(),this.createWebGLCanvas(u,o),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,o)},chooseFastestCopyGLTo2DMethod:function(u,o){var e=typeof window.performance!="undefined",n;try{new ImageData(1,1),n=!0}catch(M){n=!1}var t=typeof ArrayBuffer!="undefined",a=typeof Uint8ClampedArray!="undefined";if(!!(e&&n&&t&&a)){var l=O.util.createCanvasElement(),i=new ArrayBuffer(u*o*4);if(O.forceGLPutImageData){this.imageBuffer=i,this.copyGLTo2D=tt;return}var f={imageBuffer:i,destinationWidth:u,destinationHeight:o,targetCanvas:l},p,m,x;l.width=u,l.height=o,p=window.performance.now(),Gt.call(f,this.gl,f),m=window.performance.now()-p,p=window.performance.now(),tt.call(f,this.gl,f),x=window.performance.now()-p,m>x?(this.imageBuffer=i,this.copyGLTo2D=tt):this.copyGLTo2D=Gt}},createWebGLCanvas:function(u,o){var e=O.util.createCanvasElement();e.width=u,e.height=o;var n={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},t=e.getContext("webgl",n);t||(t=e.getContext("experimental-webgl",n)),!!t&&(t.clearColor(0,0,0,0),this.canvas=e,this.gl=t)},applyFilters:function(u,o,e,n,t,a){var l=this.gl,i;a&&(i=this.getCachedTexture(a,o));var f={originalWidth:o.width||o.originalWidth,originalHeight:o.height||o.originalHeight,sourceWidth:e,sourceHeight:n,destinationWidth:e,destinationHeight:n,context:l,sourceTexture:this.createTexture(l,e,n,!i&&o),targetTexture:this.createTexture(l,e,n),originalTexture:i||this.createTexture(l,e,n,!i&&o),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:t},p=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,p),u.forEach(function(m){m&&m.applyTo(f)}),ft(f),this.copyGLTo2D(l,f),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(f.sourceTexture),l.deleteTexture(f.targetTexture),l.deleteFramebuffer(p),t.getContext("2d").setTransform(1,0,0,1,0,0),f},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,o,e,n){var t=u.createTexture();return u.bindTexture(u.TEXTURE_2D,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),n?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,n):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,o,e,0,u.RGBA,u.UNSIGNED_BYTE,null),t},getCachedTexture:function(u,o){if(this.textureCache[u])return this.textureCache[u];var e=this.createTexture(this.gl,o.width,o.height,o);return this.textureCache[u]=e,e},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:Gt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,o={renderer:"",vendor:""};if(!u)return o;var e=u.getExtension("WEBGL_debug_renderer_info");if(e){var n=u.getParameter(e.UNMASKED_RENDERER_WEBGL),t=u.getParameter(e.UNMASKED_VENDOR_WEBGL);n&&(o.renderer=n.toLowerCase()),t&&(o.vendor=t.toLowerCase())}return this.gpuInfo=o,o}}}();function ft(b){var s=b.targetCanvas,h=s.width,u=s.height,o=b.destinationWidth,e=b.destinationHeight;(h!==o||u!==e)&&(s.width=o,s.height=e)}function Gt(b,s){var h=b.canvas,u=s.targetCanvas,o=u.getContext("2d");o.translate(0,u.height),o.scale(1,-1);var e=h.height-u.height;o.drawImage(h,0,e,u.width,u.height,0,0,u.width,u.height)}function tt(b,s){var h=s.targetCanvas,u=h.getContext("2d"),o=s.destinationWidth,e=s.destinationHeight,n=o*e*4,t=new Uint8Array(this.imageBuffer,0,n),a=new Uint8ClampedArray(this.imageBuffer,0,n);b.readPixels(0,0,o,e,b.RGBA,b.UNSIGNED_BYTE,t);var l=new ImageData(a,o,e);u.putImageData(l,0,0)}(function(){"use strict";var b=function(){};O.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:b,dispose:b,clearWebGLCaches:b,resources:{},applyFilters:function(u,o,e,n,t){var a=t.getContext("2d");a.drawImage(o,0,0,e,n);var l=a.getImageData(0,0,e,n),i=a.getImageData(0,0,e,n),f={sourceWidth:e,sourceHeight:n,imageData:l,originalEl:o,originalImageData:i,canvasEl:t,ctx:a,filterBackend:this};return u.forEach(function(p){p.applyTo(f)}),(f.imageData.width!==e||f.imageData.height!==n)&&(t.width=f.imageData.width,t.height=f.imageData.height),a.putImageData(f.imageData,0,0),f}}})(),O.Image=O.Image||{},O.Image.filters=O.Image.filters||{},O.Image.filters.BaseFilter=O.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(s){s&&this.setOptions(s)},setOptions:function(s){for(var h in s)this[h]=s[h]},createProgram:function(s,h,u){h=h||this.fragmentSource,u=u||this.vertexSource,O.webGlPrecision!=="highp"&&(h=h.replace(/precision highp float/g,"precision "+O.webGlPrecision+" float"));var o=s.createShader(s.VERTEX_SHADER);if(s.shaderSource(o,u),s.compileShader(o),!s.getShaderParameter(o,s.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+s.getShaderInfoLog(o));var e=s.createShader(s.FRAGMENT_SHADER);if(s.shaderSource(e,h),s.compileShader(e),!s.getShaderParameter(e,s.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+s.getShaderInfoLog(e));var n=s.createProgram();if(s.attachShader(n,o),s.attachShader(n,e),s.linkProgram(n),!s.getProgramParameter(n,s.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+s.getProgramInfoLog(n));var t=this.getAttributeLocations(s,n),a=this.getUniformLocations(s,n)||{};return a.uStepW=s.getUniformLocation(n,"uStepW"),a.uStepH=s.getUniformLocation(n,"uStepH"),{program:n,attributeLocations:t,uniformLocations:a}},getAttributeLocations:function(s,h){return{aPosition:s.getAttribLocation(h,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(s,h,u){var o=h.aPosition,e=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,e),s.enableVertexAttribArray(o),s.vertexAttribPointer(o,2,s.FLOAT,!1,0,0),s.bufferData(s.ARRAY_BUFFER,u,s.STATIC_DRAW)},_setupFrameBuffer:function(s){var h=s.context,u,o;s.passes>1?(u=s.destinationWidth,o=s.destinationHeight,(s.sourceWidth!==u||s.sourceHeight!==o)&&(h.deleteTexture(s.targetTexture),s.targetTexture=s.filterBackend.createTexture(h,u,o)),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,s.targetTexture,0)):(h.bindFramebuffer(h.FRAMEBUFFER,null),h.finish())},_swapTextures:function(s){s.passes--,s.pass++;var h=s.targetTexture;s.targetTexture=s.sourceTexture,s.sourceTexture=h},isNeutralState:function(){var s=this.mainParameter,h=O.Image.filters[this.type].prototype;if(s)if(Array.isArray(h[s])){for(var u=h[s].length;u--;)if(this[s][u]!==h[s][u])return!1;return!0}else return h[s]===this[s];else return!1},applyTo:function(s){s.webgl?(this._setupFrameBuffer(s),this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},retrieveShader:function(s){return s.programCache.hasOwnProperty(this.type)||(s.programCache[this.type]=this.createProgram(s.context)),s.programCache[this.type]},applyToWebGL:function(s){var h=s.context,u=this.retrieveShader(s);s.pass===0&&s.originalTexture?h.bindTexture(h.TEXTURE_2D,s.originalTexture):h.bindTexture(h.TEXTURE_2D,s.sourceTexture),h.useProgram(u.program),this.sendAttributeData(h,u.attributeLocations,s.aPosition),h.uniform1f(u.uniformLocations.uStepW,1/s.sourceWidth),h.uniform1f(u.uniformLocations.uStepH,1/s.sourceHeight),this.sendUniformData(h,u.uniformLocations),h.viewport(0,0,s.destinationWidth,s.destinationHeight),h.drawArrays(h.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(s,h,u){s.activeTexture(u),s.bindTexture(s.TEXTURE_2D,h),s.activeTexture(s.TEXTURE0)},unbindAdditionalTexture:function(s,h){s.activeTexture(h),s.bindTexture(s.TEXTURE_2D,null),s.activeTexture(s.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(s){this[this.mainParameter]=s},sendUniformData:function(){},createHelpLayer:function(s){if(!s.helpLayer){var h=document.createElement("canvas");h.width=s.sourceWidth,h.height=s.sourceHeight,s.helpLayer=h}},toObject:function(){var s={type:this.type},h=this.mainParameter;return h&&(s[h]=this[h]),s},toJSON:function(){return this.toObject()}}),O.Image.filters.BaseFilter.fromObject=function(b,s){var h=new O.Image.filters[b.type](b);return s&&s(h),h},function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.ColorMatrix=u(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var n=e.imageData,t=n.data,a=t.length,l=this.matrix,i,f,p,m,x,M=this.colorsOnly;for(x=0;x<a;x+=4)i=t[x],f=t[x+1],p=t[x+2],M?(t[x]=i*l[0]+f*l[1]+p*l[2]+l[4]*255,t[x+1]=i*l[5]+f*l[6]+p*l[7]+l[9]*255,t[x+2]=i*l[10]+f*l[11]+p*l[12]+l[14]*255):(m=t[x+3],t[x]=i*l[0]+f*l[1]+p*l[2]+m*l[3]+l[4]*255,t[x+1]=i*l[5]+f*l[6]+p*l[7]+m*l[8]+l[9]*255,t[x+2]=i*l[10]+f*l[11]+p*l[12]+m*l[13]+l[14]*255,t[x+3]=i*l[15]+f*l[16]+p*l[17]+m*l[18]+l[19]*255)},getUniformLocations:function(e,n){return{uColorMatrix:e.getUniformLocation(n,"uColorMatrix"),uConstants:e.getUniformLocation(n,"uConstants")}},sendUniformData:function(e,n){var t=this.matrix,a=[t[0],t[1],t[2],t[3],t[5],t[6],t[7],t[8],t[10],t[11],t[12],t[13],t[15],t[16],t[17],t[18]],l=[t[4],t[9],t[14],t[19]];e.uniformMatrix4fv(n.uColorMatrix,!1,a),e.uniform4fv(n.uConstants,l)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Brightness=u(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(this.brightness!==0){var n=e.imageData,t=n.data,a,l=t.length,i=Math.round(this.brightness*255);for(a=0;a<l;a+=4)t[a]=t[a]+i,t[a+1]=t[a+1]+i,t[a+2]=t[a+2]+i}},getUniformLocations:function(e,n){return{uBrightness:e.getUniformLocation(n,"uBrightness")}},sendUniformData:function(e,n){e.uniform1f(n.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.Image.filters,o=s.util.createClass;u.Convolute=o(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(n){var t=Math.sqrt(this.matrix.length),a=this.type+"_"+t+"_"+(this.opaque?1:0),l=this.fragmentSource[a];return n.programCache.hasOwnProperty(a)||(n.programCache[a]=this.createProgram(n.context,l)),n.programCache[a]},applyTo2d:function(n){var t=n.imageData,a=t.data,l=this.matrix,i=Math.round(Math.sqrt(l.length)),f=Math.floor(i/2),p=t.width,m=t.height,x=n.ctx.createImageData(p,m),M=x.data,Y=this.opaque?1:0,nt,xt,Dt,Ut,fe,Oe,_t,Vt,J,be,Qe,W,At;for(Qe=0;Qe<m;Qe++)for(be=0;be<p;be++){for(fe=(Qe*p+be)*4,nt=0,xt=0,Dt=0,Ut=0,At=0;At<i;At++)for(W=0;W<i;W++)_t=Qe+At-f,Oe=be+W-f,!(_t<0||_t>=m||Oe<0||Oe>=p)&&(Vt=(_t*p+Oe)*4,J=l[At*i+W],nt+=a[Vt]*J,xt+=a[Vt+1]*J,Dt+=a[Vt+2]*J,Y||(Ut+=a[Vt+3]*J));M[fe]=nt,M[fe+1]=xt,M[fe+2]=Dt,Y?M[fe+3]=a[fe+3]:M[fe+3]=Ut}n.imageData=x},getUniformLocations:function(n,t){return{uMatrix:n.getUniformLocation(t,"uMatrix"),uOpaque:n.getUniformLocation(t,"uOpaque"),uHalfSize:n.getUniformLocation(t,"uHalfSize"),uSize:n.getUniformLocation(t,"uSize")}},sendUniformData:function(n,t){n.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Grayscale=u(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(e){var n=e.imageData,t=n.data,a,l=t.length,i,f=this.mode;for(a=0;a<l;a+=4)f==="average"?i=(t[a]+t[a+1]+t[a+2])/3:f==="lightness"?i=(Math.min(t[a],t[a+1],t[a+2])+Math.max(t[a],t[a+1],t[a+2]))/2:f==="luminosity"&&(i=.21*t[a]+.72*t[a+1]+.07*t[a+2]),t[a]=i,t[a+1]=i,t[a+2]=i},retrieveShader:function(e){var n=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(n)){var t=this.fragmentSource[this.mode];e.programCache[n]=this.createProgram(e.context,t)}return e.programCache[n]},getUniformLocations:function(e,n){return{uMode:e.getUniformLocation(n,"uMode")}},sendUniformData:function(e,n){var t=1;e.uniform1i(n.uMode,t)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Invert=u(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(e){var n=e.imageData,t=n.data,a,l=t.length;for(a=0;a<l;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,n){return{uInvert:e.getUniformLocation(n,"uInvert")}},sendUniformData:function(e,n){e.uniform1i(n.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.Image.filters,o=s.util.createClass;u.Noise=o(u.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(n){if(this.noise!==0){var t=n.imageData,a=t.data,l,i=a.length,f=this.noise,p;for(l=0,i=a.length;l<i;l+=4)p=(.5-Math.random())*f,a[l]+=p,a[l+1]+=p,a[l+2]+=p}},getUniformLocations:function(n,t){return{uNoise:n.getUniformLocation(t,"uNoise"),uSeed:n.getUniformLocation(t,"uSeed")}},sendUniformData:function(n,t){n.uniform1f(t.uNoise,this.noise/255),n.uniform1f(t.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Pixelate=u(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(e){var n=e.imageData,t=n.data,a=n.height,l=n.width,i,f,p,m,x,M,Y,nt,xt,Dt,Ut;for(f=0;f<a;f+=this.blocksize)for(p=0;p<l;p+=this.blocksize)for(i=f*4*l+p*4,m=t[i],x=t[i+1],M=t[i+2],Y=t[i+3],Dt=Math.min(f+this.blocksize,a),Ut=Math.min(p+this.blocksize,l),nt=f;nt<Dt;nt++)for(xt=p;xt<Ut;xt++)i=nt*4*l+xt*4,t[i]=m,t[i+1]=x,t[i+2]=M,t[i+3]=Y},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(e,n){return{uBlocksize:e.getUniformLocation(n,"uBlocksize"),uStepW:e.getUniformLocation(n,"uStepW"),uStepH:e.getUniformLocation(n,"uStepH")}},sendUniformData:function(e,n){e.uniform1f(n.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.Image.filters,o=s.util.createClass;u.RemoveColor=o(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(n){var t=n.imageData,a=t.data,l,i=this.distance*255,f,p,m,x=new s.Color(this.color).getSource(),M=[x[0]-i,x[1]-i,x[2]-i],Y=[x[0]+i,x[1]+i,x[2]+i];for(l=0;l<a.length;l+=4)f=a[l],p=a[l+1],m=a[l+2],f>M[0]&&p>M[1]&&m>M[2]&&f<Y[0]&&p<Y[1]&&m<Y[2]&&(a[l+3]=0)},getUniformLocations:function(n,t){return{uLow:n.getUniformLocation(t,"uLow"),uHigh:n.getUniformLocation(t,"uHigh")}},sendUniformData:function(n,t){var a=new s.Color(this.color).getSource(),l=parseFloat(this.distance),i=[0+a[0]/255-l,0+a[1]/255-l,0+a[2]/255-l,1],f=[a[0]/255+l,a[1]/255+l,a[2]/255+l,1];n.uniform4fv(t.uLow,i),n.uniform4fv(t.uHigh,f)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var e in o)h[e]=u(h.ColorMatrix,{type:e,matrix:o[e],mainParameter:!1,colorsOnly:!0}),s.Image.filters[e].fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric,h=s.Image.filters,u=s.util.createClass;h.BlendColor=u(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(e){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[e]+`}
}`},retrieveShader:function(e){var n=this.type+"_"+this.mode,t;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n=e.imageData,t=n.data,a=t.length,l,i,f,p,m,x,M,Y=1-this.alpha;M=new s.Color(this.color).getSource(),l=M[0]*this.alpha,i=M[1]*this.alpha,f=M[2]*this.alpha;for(var nt=0;nt<a;nt+=4)switch(p=t[nt],m=t[nt+1],x=t[nt+2],this.mode){case"multiply":t[nt]=p*l/255,t[nt+1]=m*i/255,t[nt+2]=x*f/255;break;case"screen":t[nt]=255-(255-p)*(255-l)/255,t[nt+1]=255-(255-m)*(255-i)/255,t[nt+2]=255-(255-x)*(255-f)/255;break;case"add":t[nt]=p+l,t[nt+1]=m+i,t[nt+2]=x+f;break;case"diff":case"difference":t[nt]=Math.abs(p-l),t[nt+1]=Math.abs(m-i),t[nt+2]=Math.abs(x-f);break;case"subtract":t[nt]=p-l,t[nt+1]=m-i,t[nt+2]=x-f;break;case"darken":t[nt]=Math.min(p,l),t[nt+1]=Math.min(m,i),t[nt+2]=Math.min(x,f);break;case"lighten":t[nt]=Math.max(p,l),t[nt+1]=Math.max(m,i),t[nt+2]=Math.max(x,f);break;case"overlay":t[nt]=l<128?2*p*l/255:255-2*(255-p)*(255-l)/255,t[nt+1]=i<128?2*m*i/255:255-2*(255-m)*(255-i)/255,t[nt+2]=f<128?2*x*f/255:255-2*(255-x)*(255-f)/255;break;case"exclusion":t[nt]=l+p-2*l*p/255,t[nt+1]=i+m-2*i*m/255,t[nt+2]=f+x-2*f*x/255;break;case"tint":t[nt]=l+p*Y,t[nt+1]=i+m*Y,t[nt+2]=f+x*Y}},getUniformLocations:function(e,n){return{uColor:e.getUniformLocation(n,"uColor")}},sendUniformData:function(e,n){var t=new s.Color(this.color).getSource();t[0]=this.alpha*t[0]/255,t[1]=this.alpha*t[1]/255,t[2]=this.alpha*t[2]/255,t[3]=this.alpha,e.uniform4fv(n.uColor,t)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric,h=s.Image.filters,u=s.util.createClass;h.BlendImage=u(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(e){var n=this.type+"_"+this.mode,t=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyToWebGL:function(e){var n=e.context,t=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(n,t,n.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(n,n.TEXTURE1)},createTexture:function(e,n){return e.getCachedTexture(n.cacheKey,n._element)},calculateMatrix:function(){var e=this.image,n=e._element.width,t=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/n,-e.top/t,1]},applyTo2d:function(e){var n=e.imageData,t=e.filterBackend.resources,a=n.data,l=a.length,i=n.width,f=n.height,p,m,x,M,Y,nt,xt,Dt,Ut,fe,Oe=this.image,_t;t.blendImage||(t.blendImage=s.util.createCanvasElement()),Ut=t.blendImage,fe=Ut.getContext("2d"),Ut.width!==i||Ut.height!==f?(Ut.width=i,Ut.height=f):fe.clearRect(0,0,i,f),fe.setTransform(Oe.scaleX,0,0,Oe.scaleY,Oe.left,Oe.top),fe.drawImage(Oe._element,0,0,i,f),_t=fe.getImageData(0,0,i,f).data;for(var Vt=0;Vt<l;Vt+=4)switch(Y=a[Vt],nt=a[Vt+1],xt=a[Vt+2],Dt=a[Vt+3],p=_t[Vt],m=_t[Vt+1],x=_t[Vt+2],M=_t[Vt+3],this.mode){case"multiply":a[Vt]=Y*p/255,a[Vt+1]=nt*m/255,a[Vt+2]=xt*x/255,a[Vt+3]=Dt*M/255;break;case"mask":a[Vt+3]=M;break}},getUniformLocations:function(e,n){return{uTransformMatrix:e.getUniformLocation(n,"uTransformMatrix"),uImage:e.getUniformLocation(n,"uImage")}},sendUniformData:function(e,n){var t=this.calculateMatrix();e.uniform1i(n.uImage,1),e.uniformMatrix3fv(n.uTransformMatrix,!1,t)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(o,e){s.Image.fromObject(o.image,function(n){var t=s.util.object.clone(o);t.image=n,e(new s.Image.filters.BlendImage(t))})}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=Math.pow,u=Math.floor,o=Math.sqrt,e=Math.abs,n=Math.round,t=Math.sin,a=Math.ceil,l=s.Image.filters,i=s.util.createClass;l.Resize=i(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(p,m){return{uDelta:p.getUniformLocation(m,"uDelta"),uTaps:p.getUniformLocation(m,"uTaps")}},sendUniformData:function(p,m){p.uniform2fv(m.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),p.uniform1fv(m.uTaps,this.taps)},retrieveShader:function(p){var m=this.getFilterWindow(),x=this.type+"_"+m;if(!p.programCache.hasOwnProperty(x)){var M=this.generateShader(m);p.programCache[x]=this.createProgram(p.context,M)}return p.programCache[x]},getFilterWindow:function(){var p=this.tempScale;return Math.ceil(this.lanczosLobes/p)},getTaps:function(){for(var p=this.lanczosCreate(this.lanczosLobes),m=this.tempScale,x=this.getFilterWindow(),M=new Array(x),Y=1;Y<=x;Y++)M[Y-1]=p(Y*m);return M},generateShader:function(p){for(var m=new Array(p),x=this.fragmentSourceTOP,p,M=1;M<=p;M++)m[M-1]=M+".0 * uDelta";return x+="uniform float uTaps["+p+`];
`,x+=`void main() {
`,x+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,x+=`  float sum = 1.0;
`,m.forEach(function(Y,nt){x+="  color += texture2D(uTexture, vTexCoord + "+Y+") * uTaps["+nt+`];
`,x+="  color += texture2D(uTexture, vTexCoord - "+Y+") * uTaps["+nt+`];
`,x+="  sum += 2.0 * uTaps["+nt+`];
`}),x+=`  gl_FragColor = color / sum;
`,x+="}",x},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(p){p.webgl?(p.passes++,this.width=p.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=p.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),p.destinationWidth=this.dW,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceWidth=p.destinationWidth,this.height=p.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),p.destinationHeight=this.dH,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceHeight=p.destinationHeight):this.applyTo2d(p)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(p){return function(m){if(m>=p||m<=-p)return 0;if(m<11920929e-14&&m>-11920929e-14)return 1;m*=Math.PI;var x=m/p;return t(m)/m*t(x)/x}},applyTo2d:function(p){var m=p.imageData,x=this.scaleX,M=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/M;var Y=m.width,nt=m.height,xt=n(Y*x),Dt=n(nt*M),Ut;this.resizeType==="sliceHack"?Ut=this.sliceByTwo(p,Y,nt,xt,Dt):this.resizeType==="hermite"?Ut=this.hermiteFastResize(p,Y,nt,xt,Dt):this.resizeType==="bilinear"?Ut=this.bilinearFiltering(p,Y,nt,xt,Dt):this.resizeType==="lanczos"&&(Ut=this.lanczosResize(p,Y,nt,xt,Dt)),p.imageData=Ut},sliceByTwo:function(p,m,x,M,Y){var nt=p.imageData,xt=.5,Dt=!1,Ut=!1,fe=m*xt,Oe=x*xt,_t=s.filterBackend.resources,Vt,J,be=0,Qe=0,W=m,At=0;for(_t.sliceByTwo||(_t.sliceByTwo=document.createElement("canvas")),Vt=_t.sliceByTwo,(Vt.width<m*1.5||Vt.height<x)&&(Vt.width=m*1.5,Vt.height=x),J=Vt.getContext("2d"),J.clearRect(0,0,m*1.5,x),J.putImageData(nt,0,0),M=u(M),Y=u(Y);!Dt||!Ut;)m=fe,x=Oe,M<u(fe*xt)?fe=u(fe*xt):(fe=M,Dt=!0),Y<u(Oe*xt)?Oe=u(Oe*xt):(Oe=Y,Ut=!0),J.drawImage(Vt,be,Qe,m,x,W,At,fe,Oe),be=W,Qe=At,At+=Oe;return J.getImageData(be,Qe,M,Y)},lanczosResize:function(p,m,x,M,Y){function nt(it){var et,F,K,ht,dt,Wt,Tt,jt,ce,ve,re;for(At.x=(it+.5)*Oe,V.x=u(At.x),et=0;et<Y;et++){for(At.y=(et+.5)*_t,V.y=u(At.y),dt=0,Wt=0,Tt=0,jt=0,ce=0,F=V.x-be;F<=V.x+be;F++)if(!(F<0||F>=m)){ve=u(1e3*e(F-At.x)),W[ve]||(W[ve]={});for(var Yt=V.y-Qe;Yt<=V.y+Qe;Yt++)Yt<0||Yt>=x||(re=u(1e3*e(Yt-At.y)),W[ve][re]||(W[ve][re]=fe(o(h(ve*Vt,2)+h(re*J,2))/1e3)),K=W[ve][re],K>0&&(ht=(Yt*m+F)*4,dt+=K,Wt+=K*xt[ht],Tt+=K*xt[ht+1],jt+=K*xt[ht+2],ce+=K*xt[ht+3]))}ht=(et*M+it)*4,Ut[ht]=Wt/dt,Ut[ht+1]=Tt/dt,Ut[ht+2]=jt/dt,Ut[ht+3]=ce/dt}return++it<M?nt(it):Dt}var xt=p.imageData.data,Dt=p.ctx.createImageData(M,Y),Ut=Dt.data,fe=this.lanczosCreate(this.lanczosLobes),Oe=this.rcpScaleX,_t=this.rcpScaleY,Vt=2/this.rcpScaleX,J=2/this.rcpScaleY,be=a(Oe*this.lanczosLobes/2),Qe=a(_t*this.lanczosLobes/2),W={},At={},V={};return nt(0)},bilinearFiltering:function(p,m,x,M,Y){var nt,xt,Dt,Ut,fe,Oe,_t,Vt,J,be,Qe,W,At=0,V,it=this.rcpScaleX,et=this.rcpScaleY,F=4*(m-1),K=p.imageData,ht=K.data,dt=p.ctx.createImageData(M,Y),Wt=dt.data;for(_t=0;_t<Y;_t++)for(Vt=0;Vt<M;Vt++)for(fe=u(it*Vt),Oe=u(et*_t),J=it*Vt-fe,be=et*_t-Oe,V=4*(Oe*m+fe),Qe=0;Qe<4;Qe++)nt=ht[V+Qe],xt=ht[V+4+Qe],Dt=ht[V+F+Qe],Ut=ht[V+F+4+Qe],W=nt*(1-J)*(1-be)+xt*J*(1-be)+Dt*be*(1-J)+Ut*J*be,Wt[At++]=W;return dt},hermiteFastResize:function(p,m,x,M,Y){for(var nt=this.rcpScaleX,xt=this.rcpScaleY,Dt=a(nt/2),Ut=a(xt/2),fe=p.imageData,Oe=fe.data,_t=p.ctx.createImageData(M,Y),Vt=_t.data,J=0;J<Y;J++)for(var be=0;be<M;be++){for(var Qe=(be+J*M)*4,W=0,At=0,V=0,it=0,et=0,F=0,K=0,ht=(J+.5)*xt,dt=u(J*xt);dt<(J+1)*xt;dt++)for(var Wt=e(ht-(dt+.5))/Ut,Tt=(be+.5)*nt,jt=Wt*Wt,ce=u(be*nt);ce<(be+1)*nt;ce++){var ve=e(Tt-(ce+.5))/Dt,re=o(jt+ve*ve);re>1&&re<-1||(W=2*re*re*re-3*re*re+1,W>0&&(ve=4*(ce+dt*m),K+=W*Oe[ve+3],V+=W,Oe[ve+3]<255&&(W=W*Oe[ve+3]/250),it+=W*Oe[ve],et+=W*Oe[ve+1],F+=W*Oe[ve+2],At+=W))}Vt[Qe]=it/At,Vt[Qe+1]=et/At,Vt[Qe+2]=F/At,Vt[Qe+3]=K/V}return _t},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Contrast=u(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(this.contrast!==0){var n=e.imageData,t,a,l=n.data,a=l.length,i=Math.floor(this.contrast*255),f=259*(i+255)/(255*(259-i));for(t=0;t<a;t+=4)l[t]=f*(l[t]-128)+128,l[t+1]=f*(l[t+1]-128)+128,l[t+2]=f*(l[t+2]-128)+128}},getUniformLocations:function(e,n){return{uContrast:e.getUniformLocation(n,"uContrast")}},sendUniformData:function(e,n){e.uniform1f(n.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Saturation=u(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(this.saturation!==0){var n=e.imageData,t=n.data,a=t.length,l=-this.saturation,i,f;for(i=0;i<a;i+=4)f=Math.max(t[i],t[i+1],t[i+2]),t[i]+=f!==t[i]?(f-t[i])*l:0,t[i+1]+=f!==t[i+1]?(f-t[i+1])*l:0,t[i+2]+=f!==t[i+2]?(f-t[i+2])*l:0}},getUniformLocations:function(e,n){return{uSaturation:e.getUniformLocation(n,"uSaturation")}},sendUniformData:function(e,n){e.uniform1f(n.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Vibrance=u(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(e){if(this.vibrance!==0){var n=e.imageData,t=n.data,a=t.length,l=-this.vibrance,i,f,p,m;for(i=0;i<a;i+=4)f=Math.max(t[i],t[i+1],t[i+2]),p=(t[i]+t[i+1]+t[i+2])/3,m=Math.abs(f-p)*2/255*l,t[i]+=f!==t[i]?(f-t[i])*m:0,t[i+1]+=f!==t[i+1]?(f-t[i+1])*m:0,t[i+2]+=f!==t[i+2]?(f-t[i+2])*m:0}},getUniformLocations:function(e,n){return{uVibrance:e.getUniformLocation(n,"uVibrance")}},sendUniformData:function(e,n){e.uniform1f(n.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Blur=u(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n=e.filterBackend.resources,t,a,l=e.imageData.width,i=e.imageData.height;n.blurLayer1||(n.blurLayer1=s.util.createCanvasElement(),n.blurLayer2=s.util.createCanvasElement()),t=n.blurLayer1,a=n.blurLayer2,(t.width!==l||t.height!==i)&&(a.width=t.width=l,a.height=t.height=i);var f=t.getContext("2d"),p=a.getContext("2d"),m=15,x,M,Y,nt,xt=this.blur*.06*.5;for(f.putImageData(e.imageData,0,0),p.clearRect(0,0,l,i),nt=-m;nt<=m;nt++)x=(Math.random()-.5)/4,M=nt/m,Y=xt*M*l+x,p.globalAlpha=1-Math.abs(M),p.drawImage(t,Y,x),f.drawImage(a,0,0),p.globalAlpha=1,p.clearRect(0,0,a.width,a.height);for(nt=-m;nt<=m;nt++)x=(Math.random()-.5)/4,M=nt/m,Y=xt*M*i+x,p.globalAlpha=1-Math.abs(M),p.drawImage(t,x,Y),f.drawImage(a,0,0),p.globalAlpha=1,p.clearRect(0,0,a.width,a.height);e.ctx.drawImage(t,0,0);var Dt=e.ctx.getImageData(0,0,t.width,t.height);return f.globalAlpha=1,f.clearRect(0,0,t.width,t.height),Dt},getUniformLocations:function(e,n){return{delta:e.getUniformLocation(n,"uDelta")}},sendUniformData:function(e,n){var t=this.chooseRightDelta();e.uniform2fv(n.delta,t)},chooseRightDelta:function(){var e=1,n=[0,0],t;return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?n[0]=t:n[1]=t,n}}),h.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Gamma=u(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var n=e.imageData,t=n.data,a=this.gamma,l=t.length,i=1/a[0],f=1/a[1],p=1/a[2],m;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),m=0,l=256;m<l;m++)this.rVals[m]=Math.pow(m/255,i)*255,this.gVals[m]=Math.pow(m/255,f)*255,this.bVals[m]=Math.pow(m/255,p)*255;for(m=0,l=t.length;m<l;m+=4)t[m]=this.rVals[t[m]],t[m+1]=this.gVals[t[m+1]],t[m+2]=this.bVals[t[m+2]]},getUniformLocations:function(e,n){return{uGamma:e.getUniformLocation(n,"uGamma")}},sendUniformData:function(e,n){e.uniform3fv(n.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Composed=u(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach(function(n){n.applyTo(e)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(e){return e.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(e){return!e.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(o,e){var n=o.subFilters||[],t=n.map(function(l){return new s.Image.filters[l.type](l)}),a=new s.Image.filters.Composed({subFilters:t});return e&&e(a),a}}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.HueRotation=u(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=s.util.cos(e),t=s.util.sin(e),a=1/3,l=Math.sqrt(a)*t,i=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+i/3,this.matrix[1]=a*i-l,this.matrix[2]=a*i+l,this.matrix[5]=a*i+l,this.matrix[6]=n+a*i,this.matrix[7]=a*i-l,this.matrix[10]=a*i-l,this.matrix[11]=a*i+l,this.matrix[12]=n+a*i},isNeutralState:function(e){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,e)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(_r),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(u),cacheProperties:s.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,n){this.styles=n?n.styles||{}:{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",n),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=s.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,n,t,a,l,i,f,p=0,m=this._textLines.length;p<m;p++)if(!(this.textAlign!=="justify"&&(p===m-1||this.isEndOfWrapping(p)))&&(a=0,l=this._textLines[p],n=this.getLineWidth(p),n<this.width&&(f=this.textLines[p].match(this._reSpacesAndTabs)))){t=f.length,e=(this.width-n)/t;for(var x=0,M=l.length;x<=M;x++)i=this.__charBounds[p][x],this._reSpaceAndTab.test(l[x])?(i.width+=e,i.kernedWidth+=e,i.left+=a,a+=e):i.left+=a}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),n=this.fontSize;return e.width+=n*e.zoomX,e.height+=n*e.zoomY,e},_render:function(e){var n=this.path;n&&!n.isNotVisible()&&n._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){this.paintFirst==="stroke"?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,n,t){if(e.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":e.textBaseline="middle";break;case"ascender":e.textBaseline="top";break;case"descender":e.textBaseline="bottom";break}e.font=this._getFontDeclaration(n,t)},calcTextWidth:function(){for(var e=this.getLineWidth(0),n=1,t=this._textLines.length;n<t;n++){var a=this.getLineWidth(n);a>e&&(e=a)}return e},_renderTextLine:function(e,n,t,a,l,i){this._renderChars(e,n,t,a,l,i)},_renderTextLinesBackground:function(e){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var n,t,a=e.fillStyle,l,i,f=this._getLeftOffset(),p=this._getTopOffset(),m=0,x=0,M,Y,nt=this.path,xt,Dt=0,Ut=this._textLines.length;Dt<Ut;Dt++){if(n=this.getHeightOfLine(Dt),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Dt)){p+=n;continue}l=this._textLines[Dt],t=this._getLineLeftOffset(Dt),x=0,m=0,i=this.getValueOfPropertyAt(Dt,0,"textBackgroundColor");for(var fe=0,Oe=l.length;fe<Oe;fe++)M=this.__charBounds[Dt][fe],Y=this.getValueOfPropertyAt(Dt,fe,"textBackgroundColor"),nt?(e.save(),e.translate(M.renderLeft,M.renderTop),e.rotate(M.angle),e.fillStyle=Y,Y&&e.fillRect(-M.width/2,-n/this.lineHeight*(1-this._fontSizeFraction),M.width,n/this.lineHeight),e.restore()):Y!==i?(xt=f+t+m,this.direction==="rtl"&&(xt=this.width-xt-x),e.fillStyle=i,i&&e.fillRect(xt,p,x,n/this.lineHeight),m=M.left,x=M.width,i=Y):x+=M.kernedWidth;Y&&!nt&&(xt=f+t+m,this.direction==="rtl"&&(xt=this.width-xt-x),e.fillStyle=Y,e.fillRect(xt,p,x,n/this.lineHeight)),p+=n}e.fillStyle=a,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();s.charWidthsCache[n]||(s.charWidthsCache[n]={});var t=s.charWidthsCache[n],a=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return t[a]||(t[a]={}),t[a]},_measureChar:function(e,n,t,a){var l=this.getFontCache(n),i=this._getFontDeclaration(n),f=this._getFontDeclaration(a),p=t+e,m=i===f,x,M,Y,nt=n.fontSize/this.CACHE_FONT_SIZE,xt;if(t&&l[t]!==void 0&&(Y=l[t]),l[e]!==void 0&&(xt=x=l[e]),m&&l[p]!==void 0&&(M=l[p],xt=M-Y),x===void 0||Y===void 0||M===void 0){var Dt=this.getMeasuringContext();this._setTextStyles(Dt,n,!0)}return x===void 0&&(xt=x=Dt.measureText(e).width,l[e]=x),Y===void 0&&m&&t&&(Y=Dt.measureText(t).width,l[t]=Y),m&&M===void 0&&(M=Dt.measureText(p).width,l[p]=M,xt=M-Y),{width:x*nt,kernedWidth:xt*nt}},getHeightOfChar:function(e,n){return this.getValueOfPropertyAt(e,n,"fontSize")},measureLine:function(e){var n=this._measureLine(e);return this.charSpacing!==0&&(n.width-=this._getWidthOfCharSpacing()),n.width<0&&(n.width=0),n},_measureLine:function(e){var n=0,t,a,l=this._textLines[e],i,f,p=0,m=new Array(l.length),x=0,M,Y,nt=this.path,xt=this.pathSide==="right";for(this.__charBounds[e]=m,t=0;t<l.length;t++)a=l[t],f=this._getGraphemeBox(a,e,t,i),m[t]=f,n+=f.kernedWidth,i=a;if(m[t]={left:f?f.left+f.width:0,width:0,kernedWidth:0,height:this.fontSize},nt){switch(Y=nt.segmentsInfo[nt.segmentsInfo.length-1].length,M=s.util.getPointOnPath(nt.path,0,nt.segmentsInfo),M.x+=nt.pathOffset.x,M.y+=nt.pathOffset.y,this.textAlign){case"left":x=xt?Y-n:0;break;case"center":x=(Y-n)/2;break;case"right":x=xt?0:Y-n;break}for(x+=this.pathStartOffset*(xt?-1:1),t=xt?l.length-1:0;xt?t>=0:t<l.length;xt?t--:t++)f=m[t],x>Y?x%=Y:x<0&&(x+=Y),this._setGraphemeOnPath(x,f,M),x+=f.kernedWidth}return{width:n,numOfSpaces:p}},_setGraphemeOnPath:function(e,n,t){var a=e+n.kernedWidth/2,l=this.path,i=s.util.getPointOnPath(l.path,a,l.segmentsInfo);n.renderLeft=i.x-t.x,n.renderTop=i.y-t.y,n.angle=i.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(e,n,t,a,l){var i=this.getCompleteStyleDeclaration(n,t),f=a?this.getCompleteStyleDeclaration(n,t-1):{},p=this._measureChar(e,i,a,f),m=p.kernedWidth,x=p.width,M;this.charSpacing!==0&&(M=this._getWidthOfCharSpacing(),x+=M,m+=M);var Y={width:x,left:0,height:i.fontSize,kernedWidth:m,deltaY:i.deltaY};if(t>0&&!l){var nt=this.__charBounds[n][t-1];Y.left=nt.left+nt.width+p.kernedWidth-p.width}return Y},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var n=this._textLines[e],t=this.getHeightOfChar(e,0),a=1,l=n.length;a<l;a++)t=Math.max(this.getHeightOfChar(e,a),t);return this.__lineHeights[e]=t*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,n=0,t=0,a=this._textLines.length;t<a;t++)e=this.getHeightOfLine(t),n+=t===a-1?e/this.lineHeight:e;return n},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,n){e.save();for(var t=0,a=this._getLeftOffset(),l=this._getTopOffset(),i=0,f=this._textLines.length;i<f;i++){var p=this.getHeightOfLine(i),m=p/this.lineHeight,x=this._getLineLeftOffset(i);this._renderTextLine(n,e,this._textLines[i],a+x,l+t+m,i),t+=p}e.restore()},_renderTextFill:function(e){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,n,t,a,l,i){var f=this.getHeightOfLine(i),p=this.textAlign.indexOf("justify")!==-1,m,x,M="",Y,nt=0,xt,Dt=this.path,Ut=!p&&this.charSpacing===0&&this.isEmptyStyles(i)&&!Dt,fe=this.direction==="ltr",Oe=this.direction==="ltr"?1:-1,_t,Vt=n.canvas.getAttribute("dir");if(n.save(),Vt!==this.direction&&(n.canvas.setAttribute("dir",fe?"ltr":"rtl"),n.direction=fe?"ltr":"rtl",n.textAlign=fe?"left":"right"),l-=f*this._fontSizeFraction/this.lineHeight,Ut){this._renderChar(e,n,i,0,t.join(""),a,l,f),n.restore();return}for(var J=0,be=t.length-1;J<=be;J++)xt=J===be||this.charSpacing||Dt,M+=t[J],Y=this.__charBounds[i][J],nt===0?(a+=Oe*(Y.kernedWidth-Y.width),nt+=Y.width):nt+=Y.kernedWidth,p&&!xt&&this._reSpaceAndTab.test(t[J])&&(xt=!0),xt||(m=m||this.getCompleteStyleDeclaration(i,J),x=this.getCompleteStyleDeclaration(i,J+1),xt=this._hasStyleChanged(m,x)),xt&&(Dt?(n.save(),n.translate(Y.renderLeft,Y.renderTop),n.rotate(Y.angle),this._renderChar(e,n,i,J,M,-nt/2,0,f),n.restore()):(_t=a,this._renderChar(e,n,i,J,M,_t,l,f)),M="",m=x,a+=Oe*nt,nt=0);n.restore()},_applyPatternGradientTransformText:function(e){var n=s.util.createCanvasElement(),t,a=this.width+this.strokeWidth,l=this.height+this.strokeWidth;return n.width=a,n.height=l,t=n.getContext("2d"),t.beginPath(),t.moveTo(0,0),t.lineTo(a,0),t.lineTo(a,l),t.lineTo(0,l),t.closePath(),t.translate(a/2,l/2),t.fillStyle=e.toLive(t),this._applyPatternGradientTransform(t,e),t.fill(),t.createPattern(n,"no-repeat")},handleFiller:function(e,n,t){var a,l;return t.toLive?t.gradientUnits==="percentage"||t.gradientTransform||t.patternTransform?(a=-this.width/2,l=-this.height/2,e.translate(a,l),e[n]=this._applyPatternGradientTransformText(t),{offsetX:a,offsetY:l}):(e[n]=t.toLive(e,this),this._applyPatternGradientTransform(e,t)):(e[n]=t,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,n){return e.lineWidth=n.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",n.stroke)},_setFillStyles:function(e,n){return this.handleFiller(e,"fillStyle",n.fill)},_renderChar:function(e,n,t,a,l,i,f){var p=this._getStyleDeclaration(t,a),m=this.getCompleteStyleDeclaration(t,a),x=e==="fillText"&&m.fill,M=e==="strokeText"&&m.stroke&&m.strokeWidth,Y,nt;!M&&!x||(n.save(),x&&(Y=this._setFillStyles(n,m)),M&&(nt=this._setStrokeStyles(n,m)),n.font=this._getFontDeclaration(m),p&&p.textBackgroundColor&&this._removeShadow(n),p&&p.deltaY&&(f+=p.deltaY),x&&n.fillText(l,i-Y.offsetX,f-Y.offsetY),M&&n.strokeText(l,i-nt.offsetX,f-nt.offsetY),n.restore())},setSuperscript:function(e,n){return this._setScript(e,n,this.superscript)},setSubscript:function(e,n){return this._setScript(e,n,this.subscript)},_setScript:function(e,n,t){var a=this.get2DCursorLocation(e,!0),l=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"fontSize"),i=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"deltaY"),f={fontSize:l*t.size,deltaY:i+l*t.baseline};return this.setSelectionStyles(f,e,n),this},_hasStyleChanged:function(e,n){return e.fill!==n.fill||e.stroke!==n.stroke||e.strokeWidth!==n.strokeWidth||e.fontSize!==n.fontSize||e.fontFamily!==n.fontFamily||e.fontWeight!==n.fontWeight||e.fontStyle!==n.fontStyle||e.deltaY!==n.deltaY},_hasStyleChangedForSvg:function(e,n){return this._hasStyleChanged(e,n)||e.overline!==n.overline||e.underline!==n.underline||e.linethrough!==n.linethrough},_getLineLeftOffset:function(e){var n=this.getLineWidth(e),t=this.width-n,a=this.textAlign,l=this.direction,i,f=0,i=this.isEndOfWrapping(e);return a==="justify"||a==="justify-center"&&!i||a==="justify-right"&&!i||a==="justify-left"&&!i?0:(a==="center"&&(f=t/2),a==="right"&&(f=t),a==="justify-center"&&(f=t/2),a==="justify-right"&&(f=t),l==="rtl"&&(f-=t),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){if(this.__lineWidths[e]!==void 0)return this.__lineWidths[e];var n=this.measureLine(e),t=n.width;return this.__lineWidths[e]=t,t},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,n,t){var a=this._getStyleDeclaration(e,n);return a&&typeof a[t]!="undefined"?a[t]:this[t]},_renderTextDecoration:function(e,n){if(!(!this[n]&&!this.styleHas(n))){for(var t,a,l,i,f,p,m,x,M=this._getLeftOffset(),Y=this._getTopOffset(),nt,xt,Dt,Ut,fe,Oe,_t,Vt,J=this.path,be=this._getWidthOfCharSpacing(),Qe=this.offsets[n],W=0,At=this._textLines.length;W<At;W++){if(t=this.getHeightOfLine(W),!this[n]&&!this.styleHas(n,W)){Y+=t;continue}m=this._textLines[W],Oe=t/this.lineHeight,i=this._getLineLeftOffset(W),xt=0,Dt=0,x=this.getValueOfPropertyAt(W,0,n),Vt=this.getValueOfPropertyAt(W,0,"fill"),nt=Y+Oe*(1-this._fontSizeFraction),a=this.getHeightOfChar(W,0),f=this.getValueOfPropertyAt(W,0,"deltaY");for(var V=0,it=m.length;V<it;V++)if(Ut=this.__charBounds[W][V],fe=this.getValueOfPropertyAt(W,V,n),_t=this.getValueOfPropertyAt(W,V,"fill"),l=this.getHeightOfChar(W,V),p=this.getValueOfPropertyAt(W,V,"deltaY"),J&&fe&&_t)e.save(),e.fillStyle=Vt,e.translate(Ut.renderLeft,Ut.renderTop),e.rotate(Ut.angle),e.fillRect(-Ut.kernedWidth/2,Qe*l+p,Ut.kernedWidth,this.fontSize/15),e.restore();else if((fe!==x||_t!==Vt||l!==a||p!==f)&&Dt>0){var et=M+i+xt;this.direction==="rtl"&&(et=this.width-et-Dt),x&&Vt&&(e.fillStyle=Vt,e.fillRect(et,nt+Qe*a+f,Dt,this.fontSize/15)),xt=Ut.left,Dt=Ut.width,x=fe,Vt=_t,a=l,f=p}else Dt+=Ut.kernedWidth;var et=M+i+xt;this.direction==="rtl"&&(et=this.width-et-Dt),e.fillStyle=_t,fe&&_t&&e.fillRect(et,nt+Qe*a+f,Dt-be,this.fontSize/15),Y+=t}this._removeShadow(e)}},_getFontDeclaration:function(e,n){var t=e||this,a=this.fontFamily,l=s.Text.genericFonts.indexOf(a.toLowerCase())>-1,i=a===void 0||a.indexOf("'")>-1||a.indexOf(",")>-1||a.indexOf('"')>-1||l?t.fontFamily:'"'+t.fontFamily+'"';return[s.isLikelyNode?t.fontWeight:t.fontStyle,s.isLikelyNode?t.fontStyle:t.fontWeight,n?this.CACHE_FONT_SIZE+"px":t.fontSize+"px",i].join(" ")},render:function(e){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),t=new Array(n.length),a=[`
`],l=[],i=0;i<n.length;i++)t[i]=s.util.string.graphemeSplit(n[i]),l=l.concat(t[i],a);return l.pop(),{_unwrappedLines:t,lines:n,graphemeText:l,graphemeLines:t}},toObject:function(e){var n=u.concat(e),t=this.callSuper("toObject",n);return t.styles=h(this.styles,!0),t.path&&(t.path=this.path.toObject()),t},set:function(e,n){this.callSuper("set",e,n);var t=!1,a=!1;if(typeof e=="object")for(var l in e)l==="path"&&this.setPathInfo(),t=t||this._dimensionAffectingProps.indexOf(l)!==-1,a=a||l==="path";else t=this._dimensionAffectingProps.indexOf(e)!==-1,a=e==="path";return a&&this.setPathInfo(),t&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(o,e,n){if(!o)return e(null);var t=s.parseAttributes(o,s.Text.ATTRIBUTE_NAMES),a=t.textAnchor||"left";if(n=s.util.object.extend(n?h(n):{},t),n.top=n.top||0,n.left=n.left||0,t.textDecoration){var l=t.textDecoration;l.indexOf("underline")!==-1&&(n.underline=!0),l.indexOf("overline")!==-1&&(n.overline=!0),l.indexOf("line-through")!==-1&&(n.linethrough=!0),delete n.textDecoration}"dx"in t&&(n.left+=t.dx),"dy"in t&&(n.top+=t.dy),"fontSize"in n||(n.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var i="";"textContent"in o?i=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(i=o.firstChild.data),i=i.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var f=n.strokeWidth;n.strokeWidth=0;var p=new s.Text(i,n),m=p.getScaledHeight()/p.height,x=(p.height+p.strokeWidth)*p.lineHeight-p.height,M=x*m,Y=p.getScaledHeight()+M,nt=0;a==="center"&&(nt=p.getScaledWidth()/2),a==="right"&&(nt=p.getScaledWidth()),p.set({left:p.left-nt,top:p.top-(Y-p.fontSize*(.07+p._fontSizeFraction))/p.lineHeight,strokeWidth:typeof f!="undefined"?f:1}),e(p)},s.Text.fromObject=function(o,e){var n=h(o),t=o.path;return delete n.path,s.Object._fromObject("Text",n,function(a){t?s.Object._fromObject("Path",t,function(l){a.set("path",l),e(a)},"path"):e(a)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(_r),function(){O.util.object.extend(O.Text.prototype,{isEmptyStyles:function(s){if(!this.styles||typeof s!="undefined"&&!this.styles[s])return!0;var h=typeof s=="undefined"?this.styles:{line:this.styles[s]};for(var u in h)for(var o in h[u])for(var e in h[u][o])return!1;return!0},styleHas:function(s,h){if(!this.styles||!s||s===""||typeof h!="undefined"&&!this.styles[h])return!1;var u=typeof h=="undefined"?this.styles:{0:this.styles[h]};for(var o in u)for(var e in u[o])if(typeof u[o][e][s]!="undefined")return!0;return!1},cleanStyle:function(s){if(!this.styles||!s||s==="")return!1;var h=this.styles,u=0,o,e,n=!0,t=0,a;for(var l in h){o=0;for(var i in h[l]){var a=h[l][i],f=a.hasOwnProperty(s);u++,f?(e?a[s]!==e&&(n=!1):e=a[s],a[s]===this[s]&&delete a[s]):n=!1,Object.keys(a).length!==0?o++:delete h[l][i]}o===0&&delete h[l]}for(var p=0;p<this._textLines.length;p++)t+=this._textLines[p].length;n&&u===t&&(this[s]=e,this.removeStyle(s))},removeStyle:function(s){if(!(!this.styles||!s||s==="")){var h=this.styles,u,o,e;for(o in h){u=h[o];for(e in u)delete u[e][s],Object.keys(u[e]).length===0&&delete u[e];Object.keys(u).length===0&&delete h[o]}}},_extendStyles:function(s,h){var u=this.get2DCursorLocation(s);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),O.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),h)},get2DCursorLocation:function(s,h){typeof s=="undefined"&&(s=this.selectionStart);for(var u=h?this._unwrappedTextLines:this._textLines,o=u.length,e=0;e<o;e++){if(s<=u[e].length)return{lineIndex:e,charIndex:s};s-=u[e].length+this.missingNewlineOffset(e)}return{lineIndex:e-1,charIndex:u[e-1].length<s?u[e-1].length:s}},getSelectionStyles:function(s,h,u){typeof s=="undefined"&&(s=this.selectionStart||0),typeof h=="undefined"&&(h=this.selectionEnd||s);for(var o=[],e=s;e<h;e++)o.push(this.getStyleAtPosition(e,u));return o},getStyleAtPosition:function(s,h){var u=this.get2DCursorLocation(s),o=h?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return o||{}},setSelectionStyles:function(s,h,u){typeof h=="undefined"&&(h=this.selectionStart||0),typeof u=="undefined"&&(u=this.selectionEnd||h);for(var o=h;o<u;o++)this._extendStyles(o,s);return this._forceClearCache=!0,this},_getStyleDeclaration:function(s,h){var u=this.styles&&this.styles[s];return u?u[h]:null},getCompleteStyleDeclaration:function(s,h){for(var u=this._getStyleDeclaration(s,h)||{},o={},e,n=0;n<this._styleProperties.length;n++)e=this._styleProperties[n],o[e]=typeof u[e]=="undefined"?this[e]:u[e];return o},_setStyleDeclaration:function(s,h,u){this.styles[s][h]=u},_deleteStyleDeclaration:function(s,h){delete this.styles[s][h]},_getLineStyle:function(s){return!!this.styles[s]},_setLineStyle:function(s){this.styles[s]={}},_deleteLineStyle:function(s){delete this.styles[s]}})}(),function(){function b(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}O.IText=O.util.createClass(O.Text,O.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(h,u){this.callSuper("initialize",h,u),this.initBehavior()},setSelectionStart:function(h){h=Math.max(h,0),this._updateAndFire("selectionStart",h)},setSelectionEnd:function(h){h=Math.min(h,this.text.length),this._updateAndFire("selectionEnd",h)},_updateAndFire:function(h,u){this[h]!==u&&(this._fireSelectionChanged(),this[h]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(h){this.clearContextTop(),this.callSuper("render",h),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(h){this.callSuper("_render",h)},clearContextTop:function(h){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,o=this.canvas.viewportTransform;u.save(),u.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this.transform(u),this._clearTextArea(u),h||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(h,u):this.renderSelection(h,u),u.restore()}},_clearTextArea:function(h){var u=this.width+4,o=this.height+4;h.clearRect(-u/2,-o/2,u,o)},_getCursorBoundaries:function(h){typeof h=="undefined"&&(h=this.selectionStart);var u=this._getLeftOffset(),o=this._getTopOffset(),e=this._getCursorBoundariesOffsets(h);return{left:u,top:o,leftOffset:e.left,topOffset:e.top}},_getCursorBoundariesOffsets:function(h){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,o,e,n=0,t=0,a,l=this.get2DCursorLocation(h);e=l.charIndex,o=l.lineIndex;for(var i=0;i<o;i++)n+=this.getHeightOfLine(i);u=this._getLineLeftOffset(o);var f=this.__charBounds[o][e];return f&&(t=f.left),this.charSpacing!==0&&e===this._textLines[o].length&&(t-=this._getWidthOfCharSpacing()),a={top:n,left:u+(t>0?t:0)},this.direction==="rtl"&&(a.left*=-1),this.cursorOffsetCache=a,this.cursorOffsetCache},renderCursor:function(h,u){var o=this.get2DCursorLocation(),e=o.lineIndex,n=o.charIndex>0?o.charIndex-1:0,t=this.getValueOfPropertyAt(e,n,"fontSize"),a=this.scaleX*this.canvas.getZoom(),l=this.cursorWidth/a,i=h.topOffset,f=this.getValueOfPropertyAt(e,n,"deltaY");i+=(1-this._fontSizeFraction)*this.getHeightOfLine(e)/this.lineHeight-t*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(h,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(e,n,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(h.left+h.leftOffset-l/2,i+h.top+f,l,t)},renderSelection:function(h,u){for(var o=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,e=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,n=this.textAlign.indexOf("justify")!==-1,t=this.get2DCursorLocation(o),a=this.get2DCursorLocation(e),l=t.lineIndex,i=a.lineIndex,f=t.charIndex<0?0:t.charIndex,p=a.charIndex<0?0:a.charIndex,m=l;m<=i;m++){var x=this._getLineLeftOffset(m)||0,M=this.getHeightOfLine(m),Y=0,nt=0,xt=0;if(m===l&&(nt=this.__charBounds[l][f].left),m>=l&&m<i)xt=n&&!this.isEndOfWrapping(m)?this.width:this.getLineWidth(m)||5;else if(m===i)if(p===0)xt=this.__charBounds[i][p].left;else{var Dt=this._getWidthOfCharSpacing();xt=this.__charBounds[i][p-1].left+this.__charBounds[i][p-1].width-Dt}Y=M,(this.lineHeight<1||m===i&&this.lineHeight>1)&&(M/=this.lineHeight);var Ut=h.left+x+nt,fe=xt-nt,Oe=M,_t=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",Oe=1,_t=M):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(Ut=this.width-Ut-fe),u.fillRect(Ut,h.top+h.topOffset+_t,fe,Oe),h.topOffset+=Y}},getCurrentCharFontSize:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fontSize")},getCurrentCharColor:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fill")},_getCurrentCharIndex:function(){var h=this.get2DCursorLocation(this.selectionStart,!0),u=h.charIndex>0?h.charIndex-1:0;return{l:h.lineIndex,c:u}}}),O.IText.fromObject=function(s,h){if(b(s),s.styles)for(var u in s.styles)for(var o in s.styles[u])b(s.styles[u][o]);O.Object._fromObject("IText",s,h,"text")}}(),function(){var b=O.util.object.clone;O.util.object.extend(O.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var h=this;this.on("added",function(){var u=h.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,h._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(h))})},initRemovedHandler:function(){var h=this;this.on("removed",function(){var u=h.canvas;u&&(u._iTextInstances=u._iTextInstances||[],O.util.removeFromArray(u._iTextInstances,h),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,h._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(h){h._mouseUpITextHandler=function(){h._iTextInstances&&h._iTextInstances.forEach(function(u){u.__isMousedown=!1})},h.on("mouse:up",h._mouseUpITextHandler)},_removeCanvasHandlers:function(h){h.off("mouse:up",h._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(h,u,o,e){var n;return n={isAborted:!1,abort:function(){this.isAborted=!0}},h.animate("_currentCursorOpacity",u,{duration:o,onComplete:function(){n.isAborted||h[e]()},onChange:function(){h.canvas&&h.selectionStart===h.selectionEnd&&h.renderCursorOrSelection()},abort:function(){return n.isAborted}}),n},_onTickComplete:function(){var h=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){h._currentTickCompleteState=h._animateCursor(h,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(h){var u=this,o=h?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},o)},abortCursorAnimation:function(){var h=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,h&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(h){var u=0,o=h-1;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)u++,o--;for(;/\S/.test(this._text[o])&&o>-1;)u++,o--;return h-u},findWordBoundaryRight:function(h){var u=0,o=h;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)u++,o++;for(;/\S/.test(this._text[o])&&o<this._text.length;)u++,o++;return h+u},findLineBoundaryLeft:function(h){for(var u=0,o=h-1;!/\n/.test(this._text[o])&&o>-1;)u++,o--;return h-u},findLineBoundaryRight:function(h){for(var u=0,o=h;!/\n/.test(this._text[o])&&o<this._text.length;)u++,o++;return h+u},searchWordBoundary:function(h,u){for(var o=this._text,e=this._reSpace.test(o[h])?h-1:h,n=o[e],t=O.reNonWord;!t.test(n)&&e>0&&e<o.length;)e+=u,n=o[e];return t.test(n)&&(e+=u===1?0:1),e},selectWord:function(h){h=h||this.selectionStart;var u=this.searchWordBoundary(h,-1),o=this.searchWordBoundary(h,1);this.selectionStart=u,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(h){h=h||this.selectionStart;var u=this.findLineBoundaryLeft(h),o=this.findLineBoundaryRight(h);return this.selectionStart=u,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(h){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(h),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(h){h._iTextInstances&&h._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(h){if(!(!this.__isMousedown||!this.isEditing)){var u=this.getSelectionStartFromPointer(h.e),o=this.selectionStart,e=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||o===e)&&(o===u||e===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==o||this.selectionEnd!==e)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(h,u,o){var e=o.slice(0,h),n=O.util.string.graphemeSplit(e).length;if(h===u)return{selectionStart:n,selectionEnd:n};var t=o.slice(h,u),a=O.util.string.graphemeSplit(t).length;return{selectionStart:n,selectionEnd:n+a}},fromGraphemeToStringSelection:function(h,u,o){var e=o.slice(0,h),n=e.join("").length;if(h===u)return{selectionStart:n,selectionEnd:n};var t=o.slice(h,u),a=t.join("").length;return{selectionStart:n,selectionEnd:n+a}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var h=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=h.selectionStart,this.hiddenTextarea.selectionEnd=h.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var h=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=h.selectionEnd,this.inCompositionMode||(this.selectionStart=h.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var h=this._calcTextareaPosition();this.hiddenTextarea.style.left=h.left,this.hiddenTextarea.style.top=h.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var h=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(h),o=this.get2DCursorLocation(h),e=o.lineIndex,n=o.charIndex,t=this.getValueOfPropertyAt(e,n,"fontSize")*this.lineHeight,a=u.leftOffset,l=this.calcTransformMatrix(),i={x:u.left+a,y:u.top+u.topOffset+t},f=this.canvas.getRetinaScaling(),p=this.canvas.upperCanvasEl,m=p.width/f,x=p.height/f,M=m-t,Y=x-t,nt=p.clientWidth/m,xt=p.clientHeight/x;return i=O.util.transformPoint(i,l),i=O.util.transformPoint(i,this.canvas.viewportTransform),i.x*=nt,i.y*=xt,i.x<0&&(i.x=0),i.x>M&&(i.x=M),i.y<0&&(i.y=0),i.y>Y&&(i.y=Y),i.x+=this.canvas._offset.left,i.y+=this.canvas._offset.top,{left:i.x+"px",top:i.y+"px",fontSize:t+"px",charHeight:t}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var h=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),h&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),h&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var h in this.styles)this._textLines[h]||delete this.styles[h]},removeStyleFromTo:function(h,u){var o=this.get2DCursorLocation(h,!0),e=this.get2DCursorLocation(u,!0),n=o.lineIndex,t=o.charIndex,a=e.lineIndex,l=e.charIndex,i,f;if(n!==a){if(this.styles[n])for(i=t;i<this._unwrappedTextLines[n].length;i++)delete this.styles[n][i];if(this.styles[a])for(i=l;i<this._unwrappedTextLines[a].length;i++)f=this.styles[a][i],f&&(this.styles[n]||(this.styles[n]={}),this.styles[n][t+i-l]=f);for(i=n+1;i<=a;i++)delete this.styles[i];this.shiftLineStyles(a,n-a)}else if(this.styles[n]){f=this.styles[n];var p=l-t,m,x;for(i=t;i<l;i++)delete f[i];for(x in this.styles[n])m=parseInt(x,10),m>=l&&(f[m-p]=f[x],delete f[x])}},shiftLineStyles:function(h,u){var o=b(this.styles);for(var e in this.styles){var n=parseInt(e,10);n>h&&(this.styles[n+u]=o[n],o[n-u]||delete this.styles[n])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(h,u,o,e){var n,t={},a=!1,l=this._unwrappedTextLines[h].length===u;o||(o=1),this.shiftLineStyles(h,o),this.styles[h]&&(n=this.styles[h][u===0?u:u-1]);for(var i in this.styles[h]){var f=parseInt(i,10);f>=u&&(a=!0,t[f-u]=this.styles[h][i],l&&u===0||delete this.styles[h][i])}var p=!1;for(a&&!l&&(this.styles[h+o]=t,p=!0),p&&o--;o>0;)e&&e[o-1]?this.styles[h+o]={0:b(e[o-1])}:n?this.styles[h+o]={0:b(n)}:delete this.styles[h+o],o--;this._forceClearCache=!0},insertCharStyleObject:function(h,u,o,e){this.styles||(this.styles={});var n=this.styles[h],t=n?b(n):{};o||(o=1);for(var a in t){var l=parseInt(a,10);l>=u&&(n[l+o]=t[l],t[l-o]||delete n[l])}if(this._forceClearCache=!0,e){for(;o--;)!Object.keys(e[o]).length||(this.styles[h]||(this.styles[h]={}),this.styles[h][u+o]=b(e[o]));return}if(!!n)for(var i=n[u?u-1:1];i&&o--;)this.styles[h][u+o]=b(i)},insertNewStyleBlock:function(h,u,o){for(var e=this.get2DCursorLocation(u,!0),n=[0],t=0,a=0;a<h.length;a++)h[a]===`
`?(t++,n[t]=0):n[t]++;n[0]>0&&(this.insertCharStyleObject(e.lineIndex,e.charIndex,n[0],o),o=o&&o.slice(n[0]+1)),t&&this.insertNewlineStyleObject(e.lineIndex,e.charIndex+n[0],t);for(var a=1;a<t;a++)n[a]>0?this.insertCharStyleObject(e.lineIndex+a,0,n[a],o):o&&this.styles[e.lineIndex+a]&&o[0]&&(this.styles[e.lineIndex+a][0]=o[0]),o=o&&o.slice(n[a]+1);n[a]>0&&this.insertCharStyleObject(e.lineIndex+a,0,n[a],o)},setSelectionStartEndWithShift:function(h,u,o){o<=h?(u===h?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=h),this.selectionStart=o):o>h&&o<u?this._selectionDirection==="right"?this.selectionEnd=o:this.selectionStart=o:(u===h?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=o)},setSelectionInBoundaries:function(){var h=this.text.length;this.selectionStart>h?this.selectionStart=h:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>h?this.selectionEnd=h:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),O.util.object.extend(O.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(s){if(!!this.canvas){this.__newClickTime=+new Date;var h=s.pointer;this.isTripleClick(h)&&(this.fire("tripleclick",s),this._stopEvent(s.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=h,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(s){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===s.x&&this.__lastPointer.y===s.y},_stopEvent:function(s){s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(s){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(s.e))},tripleClickHandler:function(s){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(s.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(s){!this.canvas||!this.editable||s.e.button&&s.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(s.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(s){!this.canvas||!this.editable||s.e.button&&s.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(s){if(this.__isMousedown=!1,!(!this.editable||this.group||s.transform&&s.transform.actionPerformed||s.e.button&&s.e.button!==1)){if(this.canvas){var h=this.canvas._activeObject;if(h&&h!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(s.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(s){var h=this.getSelectionStartFromPointer(s),u=this.selectionStart,o=this.selectionEnd;s.shiftKey?this.setSelectionStartEndWithShift(u,o,h):(this.selectionStart=h,this.selectionEnd=h),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(s){for(var h=this.getLocalPointer(s),u=0,o=0,e=0,n=0,t=0,a,l,i=0,f=this._textLines.length;i<f&&e<=h.y;i++)e+=this.getHeightOfLine(i)*this.scaleY,t=i,i>0&&(n+=this._textLines[i-1].length+this.missingNewlineOffset(i-1));a=this._getLineLeftOffset(t),o=a*this.scaleX,l=this._textLines[t],this.direction==="rtl"&&(h.x=this.width*this.scaleX-h.x+o);for(var p=0,m=l.length;p<m&&(u=o,o+=this.__charBounds[t][p].kernedWidth*this.scaleX,o<=h.x);p++)n++;return this._getNewSelectionStartFromOffset(h,u,o,n,m)},_getNewSelectionStartFromOffset:function(s,h,u,o,e){var n=s.x-h,t=u-s.x,a=t>n||t<0?0:1,l=o+a;return this.flipX&&(l=e-l),l>this._text.length&&(l=this._text.length),l}}),O.util.object.extend(O.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=O.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var s=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+s.top+"; left: "+s.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+s.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):O.document.body.appendChild(this.hiddenTextarea),O.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),O.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),O.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),O.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),O.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),O.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),O.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),O.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),O.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(O.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(s){if(!!this.isEditing){var h=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(s.keyCode in h)this[h[s.keyCode]](s);else if(s.keyCode in this.ctrlKeysMapDown&&(s.ctrlKey||s.metaKey))this[this.ctrlKeysMapDown[s.keyCode]](s);else return;s.stopImmediatePropagation(),s.preventDefault(),s.keyCode>=33&&s.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(s){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(s.keyCode in this.ctrlKeysMapUp&&(s.ctrlKey||s.metaKey))this[this.ctrlKeysMapUp[s.keyCode]](s);else return;s.stopImmediatePropagation(),s.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(s){var h=this.fromPaste;if(this.fromPaste=!1,s&&s.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,e=u.length,n,t,a=e-o,l=this.selectionStart,i=this.selectionEnd,f=l!==i,p,m,x;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var M=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),Y=l>M.selectionStart;f?(n=this._text.slice(l,i),a+=i-l):e<o&&(Y?n=this._text.slice(i+a,i):n=this._text.slice(l,l-a)),t=u.slice(M.selectionEnd-a,M.selectionEnd),n&&n.length&&(t.length&&(p=this.getSelectionStyles(l,l+1,!1),p=t.map(function(){return p[0]})),f?(m=l,x=i):Y?(m=i-n.length,x=i):(m=i,x=i+n.length),this.removeStyleFromTo(m,x)),t.length&&(h&&t.join("")===O.copiedText&&!O.disableStyleCopyPaste&&(p=O.copiedTextStyle),this.insertNewStyleBlock(t,l,p)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(s){this.compositionStart=s.target.selectionStart,this.compositionEnd=s.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(O.copiedText=this.getSelectedText(),O.disableStyleCopyPaste?O.copiedTextStyle=null:O.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(s){return s&&s.clipboardData||O.window.clipboardData},_getWidthBeforeCursor:function(s,h){var u=this._getLineLeftOffset(s),o;return h>0&&(o=this.__charBounds[s][h-1],u+=o.left+o.width),u},getDownCursorOffset:function(s,h){var u=this._getSelectionForOffset(s,h),o=this.get2DCursorLocation(u),e=o.lineIndex;if(e===this._textLines.length-1||s.metaKey||s.keyCode===34)return this._text.length-u;var n=o.charIndex,t=this._getWidthBeforeCursor(e,n),a=this._getIndexOnLine(e+1,t),l=this._textLines[e].slice(n);return l.length+a+1+this.missingNewlineOffset(e)},_getSelectionForOffset:function(s,h){return s.shiftKey&&this.selectionStart!==this.selectionEnd&&h?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(s,h){var u=this._getSelectionForOffset(s,h),o=this.get2DCursorLocation(u),e=o.lineIndex;if(e===0||s.metaKey||s.keyCode===33)return-u;var n=o.charIndex,t=this._getWidthBeforeCursor(e,n),a=this._getIndexOnLine(e-1,t),l=this._textLines[e].slice(0,n),i=this.missingNewlineOffset(e-1);return-this._textLines[e-1].length+a-l.length+(1-i)},_getIndexOnLine:function(s,h){for(var u=this._textLines[s],o=this._getLineLeftOffset(s),e=o,n=0,t,a,l=0,i=u.length;l<i;l++)if(t=this.__charBounds[s][l].width,e+=t,e>h){a=!0;var f=e-t,p=e,m=Math.abs(f-h),x=Math.abs(p-h);n=x<m?l:l-1;break}return a||(n=u.length-1),n},moveCursorDown:function(s){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",s)},moveCursorUp:function(s){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",s)},_moveCursorUpOrDown:function(s,h){var u="get"+s+"CursorOffset",o=this[u](h,this._selectionDirection==="right");h.shiftKey?this.moveCursorWithShift(o):this.moveCursorWithoutShift(o),o!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(s){var h=this._selectionDirection==="left"?this.selectionStart+s:this.selectionEnd+s;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,h),s!==0},moveCursorWithoutShift:function(s){return s<0?(this.selectionStart+=s,this.selectionEnd=this.selectionStart):(this.selectionEnd+=s,this.selectionStart=this.selectionEnd),s!==0},moveCursorLeft:function(s){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",s)},_move:function(s,h,u){var o;if(s.altKey)o=this["findWordBoundary"+u](this[h]);else if(s.metaKey||s.keyCode===35||s.keyCode===36)o=this["findLineBoundary"+u](this[h]);else return this[h]+=u==="Left"?-1:1,!0;if(typeof o!==void 0&&this[h]!==o)return this[h]=o,!0},_moveLeft:function(s,h){return this._move(s,h,"Left")},_moveRight:function(s,h){return this._move(s,h,"Right")},moveCursorLeftWithoutShift:function(s){var h=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(h=this._moveLeft(s,"selectionStart")),this.selectionEnd=this.selectionStart,h},moveCursorLeftWithShift:function(s){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(s,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(s,"selectionStart")},moveCursorRight:function(s){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",s)},_moveCursorLeftOrRight:function(s,h){var u="moveCursor"+s+"With";this._currentCursorOpacity=1,h.shiftKey?u+="Shift":u+="outShift",this[u](h)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(s){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(s,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(s,"selectionEnd")},moveCursorRightWithoutShift:function(s){var h=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(h=this._moveRight(s,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,h},removeChars:function(s,h){typeof h=="undefined"&&(h=s+1),this.removeStyleFromTo(s,h),this._text.splice(s,h-s),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(s,h,u,o){typeof o=="undefined"&&(o=u),o>u&&this.removeStyleFromTo(u,o);var e=O.util.string.graphemeSplit(s);this.insertNewStyleBlock(e,u,h),this._text=[].concat(this._text.slice(0,u),e,this._text.slice(o)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var b=O.util.toFixed,s=/  +/g;O.util.object.extend(O.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),o=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(o)},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var o=!0,e=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(o),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,o){var e=[],n=[],t=u,a;this._setSVGBg(n);for(var l=0,i=this._textLines.length;l<i;l++)a=this._getLineLeftOffset(l),(this.textBackgroundColor||this.styleHas("textBackgroundColor",l))&&this._setSVGTextLineBg(n,l,o+a,t),this._setSVGTextLineText(e,l,o+a,t),t+=this.getHeightOfLine(l);return{textSpans:e,textBgRects:n}},_createTextCharSpan:function(u,o,e,n){var t=u!==u.trim()||u.match(s),a=this.getSvgSpanStyles(o,t),l=a?'style="'+a+'"':"",i=o.deltaY,f="",p=O.Object.NUM_FRACTION_DIGITS;return i&&(f=' dy="'+b(i,p)+'" '),['<tspan x="',b(e,p),'" y="',b(n,p),'" ',f,l,">",O.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,o,e,n){var t=this.getHeightOfLine(o),a=this.textAlign.indexOf("justify")!==-1,l,i,f="",p,m,x=0,M=this._textLines[o],Y;n+=t*(1-this._fontSizeFraction)/this.lineHeight;for(var nt=0,xt=M.length-1;nt<=xt;nt++)Y=nt===xt||this.charSpacing,f+=M[nt],p=this.__charBounds[o][nt],x===0?(e+=p.kernedWidth-p.width,x+=p.width):x+=p.kernedWidth,a&&!Y&&this._reSpaceAndTab.test(M[nt])&&(Y=!0),Y||(l=l||this.getCompleteStyleDeclaration(o,nt),i=this.getCompleteStyleDeclaration(o,nt+1),Y=this._hasStyleChangedForSvg(l,i)),Y&&(m=this._getStyleDeclaration(o,nt)||{},u.push(this._createTextCharSpan(f,m,e,n)),f="",l=i,e+=x,x=0)},_pushTextBgRect:function(u,o,e,n,t,a){var l=O.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(o),' x="',b(e,l),'" y="',b(n,l),'" width="',b(t,l),'" height="',b(a,l),`"></rect>
`)},_setSVGTextLineBg:function(u,o,e,n){for(var t=this._textLines[o],a=this.getHeightOfLine(o)/this.lineHeight,l=0,i=0,f,p,m=this.getValueOfPropertyAt(o,0,"textBackgroundColor"),x=0,M=t.length;x<M;x++)f=this.__charBounds[o][x],p=this.getValueOfPropertyAt(o,x,"textBackgroundColor"),p!==m?(m&&this._pushTextBgRect(u,m,e+i,n,l,a),i=f.left,l=f.width,m=p):l+=f.kernedWidth;p&&this._pushTextBgRect(u,p,e+i,n,l,a)},_getFillAttributes:function(u){var o=u&&typeof u=="string"?new O.Color(u):"";return!o||!o.getSource()||o.getAlpha()===1?'fill="'+u+'"':'opacity="'+o.getAlpha()+'" fill="'+o.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var o=0,e=0,n=0;n<u;n++)o+=this.getHeightOfLine(n);return e=this.getHeightOfLine(n),{lineTop:o,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var o=O.Object.prototype.getSvgStyles.call(this,u);return o+" white-space: pre;"}})}(),function(b){"use strict";var s=b.fabric||(b.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var o=0,e=0,n=0,t={},a=0;a<u.graphemeLines.length;a++)u.graphemeText[n]===`
`&&a>0?(e=0,n++,o++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[n])&&a>0&&(e++,n++),t[a]={line:o,offset:e},n+=u.graphemeLines[a].length,e+=u.graphemeLines[a].length;return t},styleHas:function(u,o){if(this._styleMap&&!this.isWrapping){var e=this._styleMap[o];e&&(o=e.line)}return s.Text.prototype.styleHas.call(this,u,o)},isEmptyStyles:function(u){if(!this.styles)return!0;var o=0,e=u+1,n,t,a=!1,l=this._styleMap[u],i=this._styleMap[u+1];l&&(u=l.line,o=l.offset),i&&(e=i.line,a=e===u,n=i.offset),t=typeof u=="undefined"?this.styles:{line:this.styles[u]};for(var f in t)for(var p in t[f])if(p>=o&&(!a||p<n))for(var m in t[f][p])return!1;return!0},_getStyleDeclaration:function(u,o){if(this._styleMap&&!this.isWrapping){var e=this._styleMap[u];if(!e)return null;u=e.line,o=e.offset+o}return this.callSuper("_getStyleDeclaration",u,o)},_setStyleDeclaration:function(u,o,e){var n=this._styleMap[u];u=n.line,o=n.offset+o,this.styles[u][o]=e},_deleteStyleDeclaration:function(u,o){var e=this._styleMap[u];u=e.line,o=e.offset+o,delete this.styles[u][o]},_getLineStyle:function(u){var o=this._styleMap[u];return!!this.styles[o.line]},_setLineStyle:function(u){var o=this._styleMap[u];this.styles[o.line]={}},_wrapText:function(u,o){var e=[],n;for(this.isWrapping=!0,n=0;n<u.length;n++)e=e.concat(this._wrapLine(u[n],n,o));return this.isWrapping=!1,e},_measureWord:function(u,o,e){var n=0,t,a=!0;e=e||0;for(var l=0,i=u.length;l<i;l++){var f=this._getGraphemeBox(u[l],o,l+e,t,a);n+=f.kernedWidth,t=u[l]}return n},_wrapLine:function(u,o,e,n){var t=0,a=this.splitByGrapheme,l=[],i=[],f=a?s.util.string.graphemeSplit(u):u.split(this._wordJoiners),p="",m=0,x=a?"":" ",M=0,Y=0,nt=0,xt=!0,Dt=this._getWidthOfCharSpacing(),n=n||0;f.length===0&&f.push([]),e-=n;for(var Ut=0;Ut<f.length;Ut++)p=a?f[Ut]:s.util.string.graphemeSplit(f[Ut]),M=this._measureWord(p,o,m),m+=p.length,t+=Y+M-Dt,t>e&&!xt?(l.push(i),i=[],t=M,xt=!0):t+=Dt,!xt&&!a&&i.push(x),i=i.concat(p),Y=a?0:this._measureWord([x],o,m),m++,xt=!1,M>nt&&(nt=M);return Ut&&l.push(i),nt+n>this.dynamicMinWidth&&(this.dynamicMinWidth=nt-Dt+n),l},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u){return this.splitByGrapheme?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var o=s.Text.prototype._splitTextIntoLines.call(this,u),e=this._wrapText(o.lines,this.width),n=new Array(e.length),t=0;t<e.length;t++)n[t]=e[t].join("");return o.lines=n,o.graphemeLines=e,o},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var o in this._styleMap)this._textLines[o]&&(u[this._styleMap[o].line]=1);for(var o in this.styles)u[o]||delete this.styles[o]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),s.Textbox.fromObject=function(h,u){return s.Object._fromObject("Textbox",h,u,"text")}}(_r),function(){var b=O.controlsUtils,s=b.scaleSkewCursorStyleHandler,h=b.scaleCursorStyleHandler,u=b.scalingEqually,o=b.scalingYOrSkewingX,e=b.scalingXOrSkewingY,n=b.scaleOrSkewActionName,t=O.Object.prototype.controls;if(t.ml=new O.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:e,getActionName:n}),t.mr=new O.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:e,getActionName:n}),t.mb=new O.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:o,getActionName:n}),t.mt=new O.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:o,getActionName:n}),t.tl=new O.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:u}),t.tr=new O.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:u}),t.bl=new O.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:u}),t.br=new O.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:u}),t.mtr=new O.Control({x:0,y:-.5,actionHandler:b.rotationWithSnapping,cursorStyleHandler:b.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),O.Textbox){var a=O.Textbox.prototype.controls={};a.mtr=t.mtr,a.tr=t.tr,a.br=t.br,a.tl=t.tl,a.bl=t.bl,a.mt=t.mt,a.mb=t.mb,a.mr=new O.Control({x:.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),a.ml=new O.Control({x:-.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()}).call(this,De("HDXh").Buffer)},fu2T:function(un,_r,De){"use strict";var Xe=De("EFp3"),O=De.n(Xe),me=De("3dVZ"),pt=De.n(me)},gK9i:function(un,_r,De){"use strict";var Xe=De("wx14"),O=De("rePB"),me=De("UESt"),pt=De("TSYQ"),ft=De.n(pt),Gt=De("KQm4"),tt=De("1OyB"),b=De("vuIU"),s=De("Ji7U"),h=De("LK+K"),u=De("U8pU"),o=De("q1tI"),e=De("Gytx"),n=De.n(e),t=De("Zm9Q"),a=De("8XRh"),l=De("ODXe"),i=o.forwardRef(function(W,At){var V,it=W.prefixCls,et=W.forceRender,F=W.className,K=W.style,ht=W.children,dt=W.isActive,Wt=W.role,Tt=o.useState(dt||et),jt=Object(l.a)(Tt,2),ce=jt[0],ve=jt[1];return o.useEffect(function(){(et||dt)&&ve(!0)},[et,dt]),ce?o.createElement("div",{ref:At,className:ft()("".concat(it,"-content"),(V={},Object(O.a)(V,"".concat(it,"-content-active"),dt),Object(O.a)(V,"".concat(it,"-content-inactive"),!dt),V),F),style:K,role:Wt},o.createElement("div",{className:"".concat(it,"-content-box")},ht)):null});i.displayName="PanelContent";var f=i,p=function(W){Object(s.a)(V,W);var At=Object(h.a)(V);function V(){var it;Object(tt.a)(this,V);for(var et=arguments.length,F=new Array(et),K=0;K<et;K++)F[K]=arguments[K];return it=At.call.apply(At,[this].concat(F)),it.onItemClick=function(){var ht=it.props,dt=ht.onItemClick,Wt=ht.panelKey;typeof dt=="function"&&dt(Wt)},it.handleKeyPress=function(ht){(ht.key==="Enter"||ht.keyCode===13||ht.which===13)&&it.onItemClick()},it.renderIcon=function(){var ht=it.props,dt=ht.showArrow,Wt=ht.expandIcon,Tt=ht.prefixCls,jt=ht.collapsible;if(!dt)return null;var ce=typeof Wt=="function"?Wt(it.props):o.createElement("i",{className:"arrow"});return ce&&o.createElement("div",{className:"".concat(Tt,"-expand-icon"),onClick:jt==="header"?it.onItemClick:null},ce)},it.renderTitle=function(){var ht=it.props,dt=ht.header,Wt=ht.prefixCls,Tt=ht.collapsible;return o.createElement("span",{className:"".concat(Wt,"-header-text"),onClick:Tt==="header"?it.onItemClick:null},dt)},it}return Object(b.a)(V,[{key:"shouldComponentUpdate",value:function(et){return!n()(this.props,et)}},{key:"render",value:function(){var et,F,K=this.props,ht=K.className,dt=K.id,Wt=K.style,Tt=K.prefixCls,jt=K.headerClass,ce=K.children,ve=K.isActive,re=K.destroyInactivePanel,Yt=K.accordion,de=K.forceRender,N=K.openMotion,Bt=K.extra,U=K.collapsible,C=U==="disabled",A=U==="header",q=ft()((et={},Object(O.a)(et,"".concat(Tt,"-item"),!0),Object(O.a)(et,"".concat(Tt,"-item-active"),ve),Object(O.a)(et,"".concat(Tt,"-item-disabled"),C),et),ht),at=ft()("".concat(Tt,"-header"),(F={},Object(O.a)(F,jt,jt),Object(O.a)(F,"".concat(Tt,"-header-collapsible-only"),A),F)),Ot={className:at,"aria-expanded":ve,"aria-disabled":C,onKeyPress:this.handleKeyPress};A||(Ot.onClick=this.onItemClick,Ot.role=Yt?"tab":"button",Ot.tabIndex=C?-1:0);var St=Bt!=null&&typeof Bt!="boolean";return o.createElement("div",{className:q,style:Wt,id:dt},o.createElement("div",Ot,this.renderIcon(),this.renderTitle(),St&&o.createElement("div",{className:"".concat(Tt,"-extra")},Bt)),o.createElement(a.default,Object(Xe.a)({visible:ve,leavedClassName:"".concat(Tt,"-content-hidden")},N,{forceRender:de,removeOnLeave:re}),function(xe,Ne){var we=xe.className,Ke=xe.style;return o.createElement(f,{ref:Ne,prefixCls:Tt,className:we,style:Ke,isActive:ve,forceRender:de,role:Yt?"tabpanel":null},ce)}))}}]),V}(o.Component);p.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var m=p;function x(W){var At=W;if(!Array.isArray(At)){var V=Object(u.a)(At);At=V==="number"||V==="string"?[At]:[]}return At.map(function(it){return String(it)})}var M=function(W){Object(s.a)(V,W);var At=Object(h.a)(V);function V(it){var et;Object(tt.a)(this,V),et=At.call(this,it),et.onClickItem=function(dt){var Wt=et.state.activeKey;if(et.props.accordion)Wt=Wt[0]===dt?[]:[dt];else{Wt=Object(Gt.a)(Wt);var Tt=Wt.indexOf(dt),jt=Tt>-1;jt?Wt.splice(Tt,1):Wt.push(dt)}et.setActiveKey(Wt)},et.getNewChild=function(dt,Wt){if(!dt)return null;var Tt=et.state.activeKey,jt=et.props,ce=jt.prefixCls,ve=jt.openMotion,re=jt.accordion,Yt=jt.destroyInactivePanel,de=jt.expandIcon,N=jt.collapsible,Bt=dt.key||String(Wt),U=dt.props,C=U.header,A=U.headerClass,q=U.destroyInactivePanel,at=U.collapsible,Ot=!1;re?Ot=Tt[0]===Bt:Ot=Tt.indexOf(Bt)>-1;var St=at!=null?at:N,xe={key:Bt,panelKey:Bt,header:C,headerClass:A,isActive:Ot,prefixCls:ce,destroyInactivePanel:q!=null?q:Yt,openMotion:ve,accordion:re,children:dt.props.children,onItemClick:St==="disabled"?null:et.onClickItem,expandIcon:de,collapsible:St};return typeof dt.type=="string"?dt:(Object.keys(xe).forEach(function(Ne){typeof xe[Ne]=="undefined"&&delete xe[Ne]}),o.cloneElement(dt,xe))},et.getItems=function(){var dt=et.props.children;return Object(t.a)(dt).map(et.getNewChild)},et.setActiveKey=function(dt){"activeKey"in et.props||et.setState({activeKey:dt}),et.props.onChange(et.props.accordion?dt[0]:dt)};var F=it.activeKey,K=it.defaultActiveKey,ht=K;return"activeKey"in it&&(ht=F),et.state={activeKey:x(ht)},et}return Object(b.a)(V,[{key:"shouldComponentUpdate",value:function(et,F){return!n()(this.props,et)||!n()(this.state,F)}},{key:"render",value:function(){var et,F=this.props,K=F.prefixCls,ht=F.className,dt=F.style,Wt=F.accordion,Tt=ft()((et={},Object(O.a)(et,K,!0),Object(O.a)(et,ht,!!ht),et));return o.createElement("div",{className:Tt,style:dt,role:Wt?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(et){var F={};return"activeKey"in et&&(F.activeKey=x(et.activeKey)),F}}]),V}(o.Component);M.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},M.Panel=m;var Y=M,nt=Y,xt=Y.Panel,Dt=De("bT9E"),Ut=De("H84U"),fe=De("EXcs"),Oe=De("0n0R"),_t=function(At){var V=o.useContext(Ut.b),it=V.getPrefixCls,et=At.prefixCls,F=At.className,K=F===void 0?"":F,ht=At.showArrow,dt=ht===void 0?!0:ht,Wt=it("collapse",et),Tt=ft()(Object(O.a)({},"".concat(Wt,"-no-arrow"),!dt),K);return o.createElement(nt.Panel,Object(Xe.a)({},At,{prefixCls:Wt,className:Tt}))},Vt=_t,J=function(At){var V,it=o.useContext(Ut.b),et=it.getPrefixCls,F=it.direction,K=At.prefixCls,ht=At.className,dt=ht===void 0?"":ht,Wt=At.bordered,Tt=Wt===void 0?!0:Wt,jt=At.ghost,ce=At.expandIconPosition,ve=ce===void 0?"start":ce,re=et("collapse",K),Yt=o.useMemo(function(){return ve==="left"?"start":ve==="right"?"end":ve},[ve]),de=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=At.expandIcon,at=q?q(A):o.createElement(me.a,{rotate:A.isActive?90:void 0});return Object(Oe.a)(at,function(){return{className:ft()(at.props.className,"".concat(re,"-arrow"))}})},N=ft()("".concat(re,"-icon-position-").concat(Yt),(V={},Object(O.a)(V,"".concat(re,"-borderless"),!Tt),Object(O.a)(V,"".concat(re,"-rtl"),F==="rtl"),Object(O.a)(V,"".concat(re,"-ghost"),!!jt),V),dt),Bt=Object(Xe.a)(Object(Xe.a)({},fe.a),{motionAppear:!1,leavedClassName:"".concat(re,"-content-hidden")}),U=function(){var A=At.children;return Object(t.a)(A).map(function(q,at){var Ot;if((Ot=q.props)===null||Ot===void 0?void 0:Ot.disabled){var St=q.key||String(at),xe=q.props,Ne=xe.disabled,we=xe.collapsible,Ke=Object(Xe.a)(Object(Xe.a)({},Object(Dt.a)(q.props,["disabled"])),{key:St,collapsible:we!=null?we:Ne?"disabled":void 0});return Object(Oe.a)(q,Ke)}return q})};return o.createElement(nt,Object(Xe.a)({openMotion:Bt},At,{expandIcon:de,prefixCls:re,className:N}),U())};J.Panel=Vt;var be=J,Qe=_r.a=be},hPry:function(un,_r,De){"use strict";un.exports=De("cbZj")},i680:function(un,_r,De){"use strict";(function(Xe){De.d(_r,"a",function(){return be}),De.d(_r,"b",function(){return W}),De.d(_r,"c",function(){return At}),De.d(_r,"e",function(){return V});var O=De("cDf5"),me=De.n(O),pt=De("crp1");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var ft=function(){return typeof window!="undefined"?window:typeof Xe!="undefined"?Xe:typeof self!="undefined"?self:this}();function Gt(){ft.console&&typeof ft.console.log=="function"&&ft.console.log.apply(ft.console,arguments)}var tt={log:Gt,warn:function(g){ft.console&&(typeof ft.console.warn=="function"?ft.console.warn.apply(ft.console,arguments):Gt.call(null,arguments))},error:function(g){ft.console&&(typeof ft.console.error=="function"?ft.console.error.apply(ft.console,arguments):Gt(g))}};function b(k,g,y){var w=new XMLHttpRequest;w.open("GET",k),w.responseType="blob",w.onload=function(){e(w.response,g,y)},w.onerror=function(){tt.error("could not download file")},w.send()}function s(k){var g=new XMLHttpRequest;g.open("HEAD",k,!1);try{g.send()}catch(y){}return g.status>=200&&g.status<=299}function h(k){try{k.dispatchEvent(new MouseEvent("click"))}catch(y){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(g)}}var u,o,e=ft.saveAs||((typeof window=="undefined"?"undefined":me()(window))!=="object"||window!==ft?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(k,g,y){var w=ft.URL||ft.webkitURL,T=document.createElement("a");g=g||k.name||"download",T.download=g,T.rel="noopener",typeof k=="string"?(T.href=k,T.origin!==location.origin?s(T.href)?b(k,g,y):h(T,T.target="_blank"):h(T)):(T.href=w.createObjectURL(k),setTimeout(function(){w.revokeObjectURL(T.href)},4e4),setTimeout(function(){h(T)},0))}:"msSaveOrOpenBlob"in navigator?function(k,g,y){if(g=g||k.name||"download",typeof k=="string")if(s(k))b(k,g,y);else{var w=document.createElement("a");w.href=k,w.target="_blank",setTimeout(function(){h(w)})}else navigator.msSaveOrOpenBlob(function(T,S){return S===void 0?S={autoBom:!1}:me()(S)!=="object"&&(tt.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(T.type)?new Blob([String.fromCharCode(65279),T],{type:T.type}):T}(k,y),g)}:function(k,g,y,w){if((w=w||open("","_blank"))&&(w.document.title=w.document.body.innerText="downloading..."),typeof k=="string")return b(k,g,y);var T=k.type==="application/octet-stream",S=/constructor/i.test(ft.HTMLElement)||ft.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||T&&S)&&(typeof FileReader=="undefined"?"undefined":me()(FileReader))==="object"){var j=new FileReader;j.onloadend=function(){var bt=j.result;bt=L?bt:bt.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=bt:location=bt,w=null},j.readAsDataURL(k)}else{var I=ft.URL||ft.webkitURL,$=I.createObjectURL(k);w?w.location=$:location.href=$,w=null,setTimeout(function(){I.revokeObjectURL($)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function n(k){var g;k=k||"",this.ok=!1,k.charAt(0)=="#"&&(k=k.substr(1,6)),k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[k=(k=k.replace(/ /g,"")).toLowerCase()]||k;for(var y=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(I){return[parseInt(I[1]),parseInt(I[2]),parseInt(I[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(I){return[parseInt(I[1],16),parseInt(I[2],16),parseInt(I[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(I){return[parseInt(I[1]+I[1],16),parseInt(I[2]+I[2],16),parseInt(I[3]+I[3],16)]}}],w=0;w<y.length;w++){var T=y[w].re,S=y[w].process,L=T.exec(k);L&&(g=S(L),this.r=g[0],this.g=g[1],this.b=g[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var j=this.r.toString(16),I=this.g.toString(16),$=this.b.toString(16);return j.length==1&&(j="0"+j),I.length==1&&(I="0"+I),$.length==1&&($="0"+$),"#"+j+I+$}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t(k,g){var y=k[0],w=k[1],T=k[2],S=k[3];y=l(y,w,T,S,g[0],7,-680876936),S=l(S,y,w,T,g[1],12,-389564586),T=l(T,S,y,w,g[2],17,606105819),w=l(w,T,S,y,g[3],22,-1044525330),y=l(y,w,T,S,g[4],7,-176418897),S=l(S,y,w,T,g[5],12,1200080426),T=l(T,S,y,w,g[6],17,-1473231341),w=l(w,T,S,y,g[7],22,-45705983),y=l(y,w,T,S,g[8],7,1770035416),S=l(S,y,w,T,g[9],12,-1958414417),T=l(T,S,y,w,g[10],17,-42063),w=l(w,T,S,y,g[11],22,-1990404162),y=l(y,w,T,S,g[12],7,1804603682),S=l(S,y,w,T,g[13],12,-40341101),T=l(T,S,y,w,g[14],17,-1502002290),y=i(y,w=l(w,T,S,y,g[15],22,1236535329),T,S,g[1],5,-165796510),S=i(S,y,w,T,g[6],9,-1069501632),T=i(T,S,y,w,g[11],14,643717713),w=i(w,T,S,y,g[0],20,-373897302),y=i(y,w,T,S,g[5],5,-701558691),S=i(S,y,w,T,g[10],9,38016083),T=i(T,S,y,w,g[15],14,-660478335),w=i(w,T,S,y,g[4],20,-405537848),y=i(y,w,T,S,g[9],5,568446438),S=i(S,y,w,T,g[14],9,-1019803690),T=i(T,S,y,w,g[3],14,-187363961),w=i(w,T,S,y,g[8],20,1163531501),y=i(y,w,T,S,g[13],5,-1444681467),S=i(S,y,w,T,g[2],9,-51403784),T=i(T,S,y,w,g[7],14,1735328473),y=f(y,w=i(w,T,S,y,g[12],20,-1926607734),T,S,g[5],4,-378558),S=f(S,y,w,T,g[8],11,-2022574463),T=f(T,S,y,w,g[11],16,1839030562),w=f(w,T,S,y,g[14],23,-35309556),y=f(y,w,T,S,g[1],4,-1530992060),S=f(S,y,w,T,g[4],11,1272893353),T=f(T,S,y,w,g[7],16,-155497632),w=f(w,T,S,y,g[10],23,-1094730640),y=f(y,w,T,S,g[13],4,681279174),S=f(S,y,w,T,g[0],11,-358537222),T=f(T,S,y,w,g[3],16,-722521979),w=f(w,T,S,y,g[6],23,76029189),y=f(y,w,T,S,g[9],4,-640364487),S=f(S,y,w,T,g[12],11,-421815835),T=f(T,S,y,w,g[15],16,530742520),y=p(y,w=f(w,T,S,y,g[2],23,-995338651),T,S,g[0],6,-198630844),S=p(S,y,w,T,g[7],10,1126891415),T=p(T,S,y,w,g[14],15,-1416354905),w=p(w,T,S,y,g[5],21,-57434055),y=p(y,w,T,S,g[12],6,1700485571),S=p(S,y,w,T,g[3],10,-1894986606),T=p(T,S,y,w,g[10],15,-1051523),w=p(w,T,S,y,g[1],21,-2054922799),y=p(y,w,T,S,g[8],6,1873313359),S=p(S,y,w,T,g[15],10,-30611744),T=p(T,S,y,w,g[6],15,-1560198380),w=p(w,T,S,y,g[13],21,1309151649),y=p(y,w,T,S,g[4],6,-145523070),S=p(S,y,w,T,g[11],10,-1120210379),T=p(T,S,y,w,g[2],15,718787259),w=p(w,T,S,y,g[9],21,-343485551),k[0]=Ut(y,k[0]),k[1]=Ut(w,k[1]),k[2]=Ut(T,k[2]),k[3]=Ut(S,k[3])}function a(k,g,y,w,T,S){return g=Ut(Ut(g,k),Ut(w,S)),Ut(g<<T|g>>>32-T,y)}function l(k,g,y,w,T,S,L){return a(g&y|~g&w,k,g,T,S,L)}function i(k,g,y,w,T,S,L){return a(g&w|y&~w,k,g,T,S,L)}function f(k,g,y,w,T,S,L){return a(g^y^w,k,g,T,S,L)}function p(k,g,y,w,T,S,L){return a(y^(g|~w),k,g,T,S,L)}function m(k){var g,y=k.length,w=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=k.length;g+=64)t(w,x(k.substring(g-64,g)));k=k.substring(g-64);var T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<k.length;g++)T[g>>2]|=k.charCodeAt(g)<<(g%4<<3);if(T[g>>2]|=128<<(g%4<<3),g>55)for(t(w,T),g=0;g<16;g++)T[g]=0;return T[14]=8*y,t(w,T),w}function x(k){var g,y=[];for(g=0;g<64;g+=4)y[g>>2]=k.charCodeAt(g)+(k.charCodeAt(g+1)<<8)+(k.charCodeAt(g+2)<<16)+(k.charCodeAt(g+3)<<24);return y}u=ft.atob.bind(ft),o=ft.btoa.bind(ft);var M="0123456789abcdef".split("");function Y(k){for(var g="",y=0;y<4;y++)g+=M[k>>8*y+4&15]+M[k>>8*y&15];return g}function nt(k){return String.fromCharCode((255&k)>>0,(65280&k)>>8,(16711680&k)>>16,(4278190080&k)>>24)}function xt(k){return m(k).map(nt).join("")}var Dt=function(k){for(var g=0;g<k.length;g++)k[g]=Y(k[g]);return k.join("")}(m("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ut(k,g){if(Dt){var y=(65535&k)+(65535&g);return(k>>16)+(g>>16)+(y>>16)<<16|65535&y}return k+g&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fe(k,g){var y,w,T,S;if(k!==y){for(var L=(T=k,S=1+(256/k.length>>0),new Array(S+1).join(T)),j=[],I=0;I<256;I++)j[I]=I;var $=0;for(I=0;I<256;I++){var bt=j[I];$=($+bt+L.charCodeAt(I))%256,j[I]=j[$],j[$]=bt}y=k,w=j}else j=w;var vt=g.length,kt=0,X=0,Kt="";for(I=0;I<vt;I++)X=(X+(bt=j[kt=(kt+1)%256]))%256,j[kt]=j[X],j[X]=bt,L=j[(j[kt]+j[X])%256],Kt+=String.fromCharCode(g.charCodeAt(I)^L);return Kt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Oe={print:4,modify:8,copy:16,"annot-forms":32};function _t(k,g,y,w){this.v=1,this.r=2;var T=192;k.forEach(function(j){if(Oe.perm!==void 0)throw new Error("Invalid permission: "+j);T+=Oe[j]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var S=(g+this.padding).substr(0,32),L=(y+this.padding).substr(0,32);this.O=this.processOwnerPassword(S,L),this.P=-(1+(255^T)),this.encryptionKey=xt(S+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(w)).substr(0,5),this.U=fe(this.encryptionKey,this.padding)}function Vt(k){if(/[^\u0000-\u00ff]/.test(k))throw new Error("Invalid PDF Name Object: "+k+", Only accept ASCII characters.");for(var g="",y=k.length,w=0;w<y;w++){var T=k.charCodeAt(w);T<33||T===35||T===37||T===40||T===41||T===47||T===60||T===62||T===91||T===93||T===123||T===125||T>126?g+="#"+("0"+T.toString(16)).slice(-2):g+=k[w]}return g}function J(k){if(me()(k)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var g={};this.subscribe=function(y,w,T){if(T=T||!1,typeof y!="string"||typeof w!="function"||typeof T!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");g.hasOwnProperty(y)||(g[y]={});var S=Math.random().toString(35);return g[y][S]=[w,!!T],S},this.unsubscribe=function(y){for(var w in g)if(g[w][y])return delete g[w][y],Object.keys(g[w]).length===0&&delete g[w],!0;return!1},this.publish=function(y){if(g.hasOwnProperty(y)){var w=Array.prototype.slice.call(arguments,1),T=[];for(var S in g[y]){var L=g[y][S];try{L[0].apply(k,w)}catch(j){ft.console&&tt.error("jsPDF PubSub Error",j.message,j)}L[1]&&T.push(S)}T.length&&T.forEach(this.unsubscribe)}},this.getTopics=function(){return g}}function be(k){if(!(this instanceof be))return new be(k);var g="opacity,stroke-opacity".split(",");for(var y in k)k.hasOwnProperty(y)&&g.indexOf(y)>=0&&(this[y]=k[y]);this.id="",this.objectNumber=-1}function Qe(k,g){this.gState=k,this.matrix=g,this.id="",this.objectNumber=-1}function W(k,g,y,w,T){if(!(this instanceof W))return new W(k,g,y,w,T);this.type=k==="axial"?2:3,this.coords=g,this.colors=y,Qe.call(this,w,T)}function At(k,g,y,w,T){if(!(this instanceof At))return new At(k,g,y,w,T);this.boundingBox=k,this.xStep=g,this.yStep=y,this.stream="",this.cloneIndex=0,Qe.call(this,w,T)}function V(k){var g,y=typeof arguments[0]=="string"?arguments[0]:"p",w=arguments[1],T=arguments[2],S=arguments[3],L=[],j=1,I=16,$="S",bt=null;me()(k=k||{})==="object"&&(y=k.orientation,w=k.unit||w,T=k.format||T,S=k.compress||k.compressPdf||S,(bt=k.encryption||null)!==null&&(bt.userPassword=bt.userPassword||"",bt.ownerPassword=bt.ownerPassword||"",bt.userPermissions=bt.userPermissions||[]),j=typeof k.userUnit=="number"?Math.abs(k.userUnit):1,k.precision!==void 0&&(g=k.precision),k.floatPrecision!==void 0&&(I=k.floatPrecision),$=k.defaultPathOperation||"S"),L=k.filters||(S===!0?["FlateEncode"]:L),w=w||"mm",y=(""+(y||"P")).toLowerCase();var vt=k.putOnlyUsedFonts||!1,kt={},X={internal:{},__private__:{}};X.__private__.PubSub=J;var Kt="1.3",It=X.__private__.getPdfVersion=function(){return Kt};X.__private__.setPdfVersion=function(D){Kt=D};var $t={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};X.__private__.getPageFormats=function(){return $t};var Mt=X.__private__.getPageFormat=function(D){return $t[D]};T=T||"a4";var gt={COMPAT:"compat",ADVANCED:"advanced"},Ae=gt.COMPAT;function Be(){this.saveGraphicsState(),qt(new nn(Nr,0,0,-Nr,0,ns()*Nr).toString()+" cm"),this.setFontSize(this.getFontSize()/Nr),$="n",Ae=gt.ADVANCED}function tr(){this.restoreGraphicsState(),$="S",Ae=gt.COMPAT}var fr=X.__private__.combineFontStyleAndFontWeight=function(D,z){if(D=="bold"&&z=="normal"||D=="bold"&&z==400||D=="normal"&&z=="italic"||D=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(D=z==400||z==="normal"?D==="italic"?"italic":"normal":z!=700&&z!=="bold"||D!=="normal"?(z==700?"bold":z)+""+D:"bold"),D};X.advancedAPI=function(D){var z=Ae===gt.COMPAT;return z&&Be.call(this),typeof D!="function"||(D(this),z&&tr.call(this)),this},X.compatAPI=function(D){var z=Ae===gt.ADVANCED;return z&&tr.call(this),typeof D!="function"||(D(this),z&&Be.call(this)),this},X.isAdvancedAPI=function(){return Ae===gt.ADVANCED};var Ge,gr=function(z){if(Ae!==gt.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},oe=X.roundToPrecision=X.__private__.roundToPrecision=function(D,z){var Ft=g||z;if(isNaN(D)||isNaN(Ft))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ft).replace(/0+$/,"")};Ge=X.hpf=X.__private__.hpf=typeof I=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(D,I)}:I==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return oe(D,16)};var Ve=X.f2=X.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return oe(D,2)},ie=X.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return oe(D,3)},zt=X.scale=X.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return Ae===gt.COMPAT?D*Nr:Ae===gt.ADVANCED?D:void 0},se=function(z){return Ae===gt.COMPAT?ns()-z:Ae===gt.ADVANCED?z:void 0},ae=function(z){return zt(se(z))};X.__private__.setPrecision=X.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(g=parseInt(D,10))};var $e,Ze="00000000000000000000000000000000",pr=X.__private__.getFileId=function(){return Ze},Re=X.__private__.setFileId=function(D){return Ze=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():Ze.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),bt!==null&&(Ti=new _t(bt.userPermissions,bt.userPassword,bt.ownerPassword,Ze)),Ze};X.setFileId=function(D){return Re(D),this},X.getFileId=function(){return pr()};var br=X.__private__.convertDateToPDFDate=function(D){var z=D.getTimezoneOffset(),Ft=z<0?"+":"-",ee=Math.floor(Math.abs(z/60)),ke=Math.abs(z%60),Fe=[Ft,Qt(ee),"'",Qt(ke),"'"].join("");return["D:",D.getFullYear(),Qt(D.getMonth()+1),Qt(D.getDate()),Qt(D.getHours()),Qt(D.getMinutes()),Qt(D.getSeconds()),Fe].join("")},er=X.__private__.convertPDFDateToDate=function(D){var z=parseInt(D.substr(2,4),10),Ft=parseInt(D.substr(6,2),10)-1,ee=parseInt(D.substr(8,2),10),ke=parseInt(D.substr(10,2),10),Fe=parseInt(D.substr(12,2),10),vr=parseInt(D.substr(14,2),10);return new Date(z,Ft,ee,ke,Fe,vr,0)},Ar=X.__private__.setCreationDate=function(D){var z;if(D===void 0&&(D=new Date),D instanceof Date)z=br(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=D}return $e=z},te=X.__private__.getCreationDate=function(D){var z=$e;return D==="jsDate"&&(z=er($e)),z};X.setCreationDate=function(D){return Ar(D),this},X.getCreationDate=function(D){return te(D)};var wt,Qt=X.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ge=X.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},Pe=0,Ie=[],ar=[],We=0,Ye=[],mr=[],Wr=!1,Pr=ar,rn=function(){Pe=0,We=0,ar=[],Ie=[],Ye=[],Is=Ai(),Na=Ai()};X.__private__.setCustomOutputDestination=function(D){Wr=!0,Pr=D};var Vr=function(z){Wr||(Pr=z)};X.__private__.resetCustomOutputDestination=function(){Wr=!1,Pr=ar};var qt=X.__private__.out=function(D){return D=D.toString(),We+=D.length+1,Pr.push(D),Pr},sr=X.__private__.write=function(D){return qt(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},Fr=X.__private__.getArrayBuffer=function(D){for(var z=D.length,Ft=new ArrayBuffer(z),ee=new Uint8Array(Ft);z--;)ee[z]=D.charCodeAt(z);return Ft},ir=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];X.__private__.getStandardFonts=function(){return ir};var Ir=k.fontSize||16;X.__private__.setFontSize=X.setFontSize=function(D){return Ir=Ae===gt.ADVANCED?D/Nr:D,this};var Tr,zr=X.__private__.getFontSize=X.getFontSize=function(){return Ae===gt.COMPAT?Ir:Ir*Nr},Hr=k.R2L||!1;X.__private__.setR2L=X.setR2L=function(D){return Hr=D,this},X.__private__.getR2L=X.getR2L=function(){return Hr};var Xr,In=X.__private__.setZoomMode=function(D){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Tr=D;else if(isNaN(D)){if(z.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Tr=D}else Tr=parseInt(D,10)};X.__private__.getZoomMode=function(){return Tr};var en,Tn=X.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');Xr=D};X.__private__.getPageMode=function(){return Xr};var qn=X.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');en=D};X.__private__.getLayoutMode=function(){return en},X.__private__.setDisplayMode=X.setDisplayMode=function(D,z,Ft){return In(D),qn(z),Tn(Ft),this};var Kr={title:"",subject:"",author:"",keywords:"",creator:""};X.__private__.getDocumentProperty=function(D){if(Object.keys(Kr).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Kr[D]},X.__private__.getDocumentProperties=function(){return Kr},X.__private__.setDocumentProperties=X.setProperties=X.setDocumentProperties=function(D){for(var z in Kr)Kr.hasOwnProperty(z)&&D[z]&&(Kr[z]=D[z]);return this},X.__private__.setDocumentProperty=function(D,z){if(Object.keys(Kr).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Kr[D]=z};var dn,Nr,Bi,Vn,Ci,bn={},gi={},ba=[],Bn={},Ka={},li={},mi={},na=null,$n=0,hn=[],Un=new J(X),eo=k.hotfixes||[],ji={},Za={},Ja=[],nn=function D(z,Ft,ee,ke,Fe,vr){if(!(this instanceof D))return new D(z,Ft,ee,ke,Fe,vr);isNaN(z)&&(z=1),isNaN(Ft)&&(Ft=0),isNaN(ee)&&(ee=0),isNaN(ke)&&(ke=1),isNaN(Fe)&&(Fe=0),isNaN(vr)&&(vr=0),this._matrix=[z,Ft,ee,ke,Fe,vr]};Object.defineProperty(nn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(nn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(nn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(nn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(nn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(nn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(nn.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(nn.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(nn.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(nn.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(nn.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(nn.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(nn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nn.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ge).join(D)},nn.prototype.multiply=function(D){var z=D.sx*this.sx+D.shy*this.shx,Ft=D.sx*this.shy+D.shy*this.sy,ee=D.shx*this.sx+D.sy*this.shx,ke=D.shx*this.shy+D.sy*this.sy,Fe=D.tx*this.sx+D.ty*this.shx+this.tx,vr=D.tx*this.shy+D.ty*this.sy+this.ty;return new nn(z,Ft,ee,ke,Fe,vr)},nn.prototype.decompose=function(){var D=this.sx,z=this.shy,Ft=this.shx,ee=this.sy,ke=this.tx,Fe=this.ty,vr=Math.sqrt(D*D+z*z),Cr=(D/=vr)*Ft+(z/=vr)*ee;Ft-=D*Cr,ee-=z*Cr;var qr=Math.sqrt(Ft*Ft+ee*ee);return Cr/=qr,D*(ee/=qr)<z*(Ft/=qr)&&(D=-D,z=-z,Cr=-Cr,vr=-vr),{scale:new nn(vr,0,0,qr,0,0),translate:new nn(1,0,0,1,ke,Fe),rotate:new nn(D,z,-z,D,0,0),skew:new nn(1,0,Cr,1,0,0)}},nn.prototype.toString=function(D){return this.join(" ")},nn.prototype.inversed=function(){var D=this.sx,z=this.shy,Ft=this.shx,ee=this.sy,ke=this.tx,Fe=this.ty,vr=1/(D*ee-z*Ft),Cr=ee*vr,qr=-z*vr,$r=-Ft*vr,gn=D*vr;return new nn(Cr,qr,$r,gn,-Cr*ke-$r*Fe,-qr*ke-gn*Fe)},nn.prototype.applyToPoint=function(D){var z=D.x*this.sx+D.y*this.shx+this.tx,Ft=D.x*this.shy+D.y*this.sy+this.ty;return new Ro(z,Ft)},nn.prototype.applyToRectangle=function(D){var z=this.applyToPoint(D),Ft=this.applyToPoint(new Ro(D.x+D.w,D.y+D.h));return new rs(z.x,z.y,Ft.x-z.x,Ft.y-z.y)},nn.prototype.clone=function(){var D=this.sx,z=this.shy,Ft=this.shx,ee=this.sy,ke=this.tx,Fe=this.ty;return new nn(D,z,Ft,ee,ke,Fe)},X.Matrix=nn;var Zi=X.matrixMult=function(D,z){return z.multiply(D)},_a=new nn(1,0,0,1,0,0);X.unitMatrix=X.identityMatrix=_a;var fs=function(z,Ft){if(!Ka[z]){var ee=(Ft instanceof W?"Sh":"P")+(Object.keys(Bn).length+1).toString(10);Ft.id=ee,Ka[z]=ee,Bn[ee]=Ft,Un.publish("addPattern",Ft)}};X.ShadingPattern=W,X.TilingPattern=At,X.addShadingPattern=function(D,z){return gr("addShadingPattern()"),fs(D,z),this},X.beginTilingPattern=function(D){gr("beginTilingPattern()"),ul(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},X.endTilingPattern=function(D,z){gr("endTilingPattern()"),z.stream=mr[wt].join(`
`),fs(D,z),Un.publish("endTilingPattern",z),Ja.pop().restore()};var ii=X.__private__.newObject=function(){var D=Ai();return ai(D,!0),D},Ai=X.__private__.newObjectDeferred=function(){return Pe++,Ie[Pe]=function(){return We},Pe},ai=function(z,Ft){return Ft=typeof Ft=="boolean"&&Ft,Ie[z]=We,Ft&&qt(z+" 0 obj"),z},$a=X.__private__.newAdditionalObject=function(){var D={objId:Ai(),content:""};return Ye.push(D),D},Is=Ai(),Na=Ai(),Qa=X.__private__.decodeColorString=function(D){var z=D.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var Ft=parseFloat(z[0]);z=[Ft,Ft,Ft,"r"]}for(var ee="#",ke=0;ke<3;ke++)ee+=("0"+Math.floor(255*parseFloat(z[ke])).toString(16)).slice(-2);return ee},zi=X.__private__.encodeColorString=function(D){var z;typeof D=="string"&&(D={ch1:D});var Ft=D.ch1,ee=D.ch2,ke=D.ch3,Fe=D.ch4,vr=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ft=="string"&&Ft.charAt(0)!=="#"){var Cr=new n(Ft);if(Cr.ok)Ft=Cr.toHex();else if(!/^\d*\.?\d*$/.test(Ft))throw new Error('Invalid color "'+Ft+'" passed to jsPDF.encodeColorString.')}if(typeof Ft=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ft)&&(Ft="#"+Ft[1]+Ft[1]+Ft[2]+Ft[2]+Ft[3]+Ft[3]),typeof Ft=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ft)){var qr=parseInt(Ft.substr(1),16);Ft=qr>>16&255,ee=qr>>8&255,ke=255&qr}if(ee===void 0||Fe===void 0&&Ft===ee&&ee===ke)if(typeof Ft=="string")z=Ft+" "+vr[0];else switch(D.precision){case 2:z=Ve(Ft/255)+" "+vr[0];break;case 3:default:z=ie(Ft/255)+" "+vr[0]}else if(Fe===void 0||me()(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return z=["1.","1.","1.",vr[1]].join(" ");if(typeof Ft=="string")z=[Ft,ee,ke,vr[1]].join(" ");else switch(D.precision){case 2:z=[Ve(Ft/255),Ve(ee/255),Ve(ke/255),vr[1]].join(" ");break;default:case 3:z=[ie(Ft/255),ie(ee/255),ie(ke/255),vr[1]].join(" ")}}else if(typeof Ft=="string")z=[Ft,ee,ke,Fe,vr[2]].join(" ");else switch(D.precision){case 2:z=[Ve(Ft),Ve(ee),Ve(ke),Ve(Fe),vr[2]].join(" ");break;case 3:default:z=[ie(Ft),ie(ee),ie(ke),ie(Fe),vr[2]].join(" ")}return z},vi=X.__private__.getFilters=function(){return L},ia=X.__private__.putStream=function(D){var z=(D=D||{}).data||"",Ft=D.filters||vi(),ee=D.alreadyAppliedFilters||[],ke=D.addLength1||!1,Fe=z.length,vr=D.objectId,Cr=function(wi){return wi};if(bt!==null&&vr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");bt!==null&&(Cr=Ti.encryptor(vr,0));var qr={};Ft===!0&&(Ft=["FlateEncode"]);var $r=D.additionalKeyValues||[],gn=(qr=V.API.processDataByFilters!==void 0?V.API.processDataByFilters(z,Ft):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(qr.data.length!==0&&($r.push({key:"Length",value:qr.data.length}),ke===!0&&$r.push({key:"Length1",value:Fe})),gn.length!=0)if(gn.split("/").length-1==1)$r.push({key:"Filter",value:gn});else{$r.push({key:"Filter",value:"["+gn+"]"});for(var Mn=0;Mn<$r.length;Mn+=1)if($r[Mn].key==="DecodeParms"){for(var An=[],oi=0;oi<qr.reverseChain.split("/").length-1;oi+=1)An.push("null");An.push($r[Mn].value),$r[Mn].value="["+An.join(" ")+"]"}}qt("<<");for(var ei=0;ei<$r.length;ei++)qt("/"+$r[ei].key+" "+$r[ei].value);qt(">>"),qr.data.length!==0&&(qt("stream"),qt(Cr(qr.data)),qt("endstream"))},ro=X.__private__.putPage=function(D){var z=D.number,Ft=D.data,ee=D.objId,ke=D.contentsObjId;ai(ee,!0),qt("<</Type /Page"),qt("/Parent "+D.rootDictionaryObjId+" 0 R"),qt("/Resources "+D.resourceDictionaryObjId+" 0 R"),qt("/MediaBox ["+parseFloat(Ge(D.mediaBox.bottomLeftX))+" "+parseFloat(Ge(D.mediaBox.bottomLeftY))+" "+Ge(D.mediaBox.topRightX)+" "+Ge(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&qt("/CropBox ["+Ge(D.cropBox.bottomLeftX)+" "+Ge(D.cropBox.bottomLeftY)+" "+Ge(D.cropBox.topRightX)+" "+Ge(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&qt("/BleedBox ["+Ge(D.bleedBox.bottomLeftX)+" "+Ge(D.bleedBox.bottomLeftY)+" "+Ge(D.bleedBox.topRightX)+" "+Ge(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&qt("/TrimBox ["+Ge(D.trimBox.bottomLeftX)+" "+Ge(D.trimBox.bottomLeftY)+" "+Ge(D.trimBox.topRightX)+" "+Ge(D.trimBox.topRightY)+"]"),D.artBox!==null&&qt("/ArtBox ["+Ge(D.artBox.bottomLeftX)+" "+Ge(D.artBox.bottomLeftY)+" "+Ge(D.artBox.topRightX)+" "+Ge(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&qt("/UserUnit "+D.userUnit),Un.publish("putPage",{objId:ee,pageContext:hn[z],pageNumber:z,page:Ft}),qt("/Contents "+ke+" 0 R"),qt(">>"),qt("endobj");var Fe=Ft.join(`
`);return Ae===gt.ADVANCED&&(Fe+=`
Q`),ai(ke,!0),ia({data:Fe,filters:vi(),objectId:ke}),qt("endobj"),ee},ts=X.__private__.putPages=function(){var D,z,Ft=[];for(D=1;D<=$n;D++)hn[D].objId=Ai(),hn[D].contentsObjId=Ai();for(D=1;D<=$n;D++)Ft.push(ro({number:D,data:mr[D],objId:hn[D].objId,contentsObjId:hn[D].contentsObjId,mediaBox:hn[D].mediaBox,cropBox:hn[D].cropBox,bleedBox:hn[D].bleedBox,trimBox:hn[D].trimBox,artBox:hn[D].artBox,userUnit:hn[D].userUnit,rootDictionaryObjId:Is,resourceDictionaryObjId:Na}));ai(Is,!0),qt("<</Type /Pages");var ee="/Kids [";for(z=0;z<$n;z++)ee+=Ft[z]+" 0 R ";qt(ee+"]"),qt("/Count "+$n),qt(">>"),qt("endobj"),Un.publish("postPutPages")},no=function(z){Un.publish("putFont",{font:z,out:qt,newObject:ii,putStream:ia}),z.isAlreadyPutted!==!0&&(z.objectNumber=ii(),qt("<<"),qt("/Type /Font"),qt("/BaseFont /"+Vt(z.postScriptName)),qt("/Subtype /Type1"),typeof z.encoding=="string"&&qt("/Encoding /"+z.encoding),qt("/FirstChar 32"),qt("/LastChar 255"),qt(">>"),qt("endobj"))},Po=function(){for(var z in bn)bn.hasOwnProperty(z)&&(vt===!1||vt===!0&&kt.hasOwnProperty(z))&&no(bn[z])},Oo=function(z){z.objectNumber=ii();var Ft=[];Ft.push({key:"Type",value:"/XObject"}),Ft.push({key:"Subtype",value:"/Form"}),Ft.push({key:"BBox",value:"["+[Ge(z.x),Ge(z.y),Ge(z.x+z.width),Ge(z.y+z.height)].join(" ")+"]"}),Ft.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var ee=z.pages[1].join(`
`);ia({data:ee,additionalKeyValues:Ft,objectId:z.objectNumber}),qt("endobj")},ds=function(){for(var z in ji)ji.hasOwnProperty(z)&&Oo(ji[z])},Se=function(z,Ft){var ee,ke=[],Fe=1/(Ft-1);for(ee=0;ee<1;ee+=Fe)ke.push(ee);if(ke.push(1),z[0].offset!=0){var vr={offset:0,color:z[0].color};z.unshift(vr)}if(z[z.length-1].offset!=1){var Cr={offset:1,color:z[z.length-1].color};z.push(Cr)}for(var qr="",$r=0,gn=0;gn<ke.length;gn++){for(ee=ke[gn];ee>z[$r+1].offset;)$r++;var Mn=z[$r].offset,An=(ee-Mn)/(z[$r+1].offset-Mn),oi=z[$r].color,ei=z[$r+1].color;qr+=ge(Math.round((1-An)*oi[0]+An*ei[0]).toString(16))+ge(Math.round((1-An)*oi[1]+An*ei[1]).toString(16))+ge(Math.round((1-An)*oi[2]+An*ei[2]).toString(16))}return qr.trim()},Je=function(z,Ft){Ft||(Ft=21);var ee=ii(),ke=Se(z.colors,Ft),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+Ft+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ia({data:ke,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),qt("endobj"),z.objectNumber=ii(),qt("<< /ShadingType "+z.type),qt("/ColorSpace /DeviceRGB");var vr="/Coords ["+Ge(parseFloat(z.coords[0]))+" "+Ge(parseFloat(z.coords[1]))+" ";z.type===2?vr+=Ge(parseFloat(z.coords[2]))+" "+Ge(parseFloat(z.coords[3])):vr+=Ge(parseFloat(z.coords[2]))+" "+Ge(parseFloat(z.coords[3]))+" "+Ge(parseFloat(z.coords[4]))+" "+Ge(parseFloat(z.coords[5])),qt(vr+="]"),z.matrix&&qt("/Matrix ["+z.matrix.toString()+"]"),qt("/Function "+ee+" 0 R"),qt("/Extend [true true]"),qt(">>"),qt("endobj")},ze=function(z,Ft){var ee=Ai(),ke=ii();Ft.push({resourcesOid:ee,objectOid:ke}),z.objectNumber=ke;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+z.boundingBox.map(Ge).join(" ")+"]"}),Fe.push({key:"XStep",value:Ge(z.xStep)}),Fe.push({key:"YStep",value:Ge(z.yStep)}),Fe.push({key:"Resources",value:ee+" 0 R"}),z.matrix&&Fe.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),ia({data:z.stream,additionalKeyValues:Fe,objectId:z.objectNumber}),qt("endobj")},Ur=function(z){var Ft;for(Ft in Bn)Bn.hasOwnProperty(Ft)&&(Bn[Ft]instanceof W?Je(Bn[Ft]):Bn[Ft]instanceof At&&ze(Bn[Ft],z))},an=function(z){for(var Ft in z.objectNumber=ii(),qt("<<"),z)switch(Ft){case"opacity":qt("/ca "+Ve(z[Ft]));break;case"stroke-opacity":qt("/CA "+Ve(z[Ft]))}qt(">>"),qt("endobj")},Nn=function(){var z;for(z in li)li.hasOwnProperty(z)&&an(li[z])},Qn=function(){for(var z in qt("/XObject <<"),ji)ji.hasOwnProperty(z)&&ji[z].objectNumber>=0&&qt("/"+z+" "+ji[z].objectNumber+" 0 R");Un.publish("putXobjectDict"),qt(">>")},Pn=function(){Ti.oid=ii(),qt("<<"),qt("/Filter /Standard"),qt("/V "+Ti.v),qt("/R "+Ti.r),qt("/U <"+Ti.toHexString(Ti.U)+">"),qt("/O <"+Ti.toHexString(Ti.O)+">"),qt("/P "+Ti.P),qt(">>"),qt("endobj")},rl=function(){for(var z in qt("/Font <<"),bn)bn.hasOwnProperty(z)&&(vt===!1||vt===!0&&kt.hasOwnProperty(z))&&qt("/"+z+" "+bn[z].objectNumber+" 0 R");qt(">>")},kl=function(){if(Object.keys(Bn).length>0){for(var z in qt("/Shading <<"),Bn)Bn.hasOwnProperty(z)&&Bn[z]instanceof W&&Bn[z].objectNumber>=0&&qt("/"+z+" "+Bn[z].objectNumber+" 0 R");Un.publish("putShadingPatternDict"),qt(">>")}},Ji=function(z){if(Object.keys(Bn).length>0){for(var Ft in qt("/Pattern <<"),Bn)Bn.hasOwnProperty(Ft)&&Bn[Ft]instanceof X.TilingPattern&&Bn[Ft].objectNumber>=0&&Bn[Ft].objectNumber<z&&qt("/"+Ft+" "+Bn[Ft].objectNumber+" 0 R");Un.publish("putTilingPatternDict"),qt(">>")}},$i=function(){if(Object.keys(li).length>0){var z;for(z in qt("/ExtGState <<"),li)li.hasOwnProperty(z)&&li[z].objectNumber>=0&&qt("/"+z+" "+li[z].objectNumber+" 0 R");Un.publish("putGStateDict"),qt(">>")}},io=function(z){ai(z.resourcesOid,!0),qt("<<"),qt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rl(),kl(),Ji(z.objectOid),$i(),Qn(),qt(">>"),qt("endobj")},Ns=function(){var z=[];Po(),Nn(),ds(),Ur(z),Un.publish("putResources"),z.forEach(io),io({resourcesOid:Na,objectOid:Number.MAX_SAFE_INTEGER}),Un.publish("postPutResources")},ui=function(){Un.publish("putAdditionalObjects");for(var z=0;z<Ye.length;z++){var Ft=Ye[z];ai(Ft.objId,!0),qt(Ft.content),qt("endobj")}Un.publish("postPutAdditionalObjects")},Ms=function(z){gi[z.fontName]=gi[z.fontName]||{},gi[z.fontName][z.fontStyle]=z.id},Dn=function(z,Ft,ee,ke,Fe){var vr={id:"F"+(Object.keys(bn).length+1).toString(10),postScriptName:z,fontName:Ft,fontStyle:ee,encoding:ke,isStandardFont:Fe||!1,metadata:{}};return Un.publish("addFont",{font:vr,instance:this}),bn[vr.id]=vr,Ms(vr),vr.id},fu=function(z){for(var Ft=0,ee=ir.length;Ft<ee;Ft++){var ke=Dn.call(this,z[Ft][0],z[Ft][1],z[Ft][2],ir[Ft][3],!0);vt===!1&&(kt[ke]=!0);var Fe=z[Ft][0].split("-");Ms({id:ke,fontName:Fe[0],fontStyle:Fe[1]||""})}Un.publish("addFonts",{fonts:bn,dictionary:gi})},nl=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch(ke){var Ft=ke.stack||"";~Ft.indexOf(" at ")&&(Ft=Ft.split(" at ")[1]);var ee="Error in function "+Ft.split(`
`)[0].split("<")[0]+": "+ke.message;if(!ft.console)throw new Error(ee);ft.console.error(ee,ke),ft.alert&&alert(ee)}},z.foo.bar=z,z.foo},Lo=function(z,Ft){var ee,ke,Fe,vr,Cr,qr,$r,gn,Mn;if(Fe=(Ft=Ft||{}).sourceEncoding||"Unicode",Cr=Ft.outputEncoding,(Ft.autoencode||Cr)&&bn[dn].metadata&&bn[dn].metadata[Fe]&&bn[dn].metadata[Fe].encoding&&(vr=bn[dn].metadata[Fe].encoding,!Cr&&bn[dn].encoding&&(Cr=bn[dn].encoding),!Cr&&vr.codePages&&(Cr=vr.codePages[0]),typeof Cr=="string"&&(Cr=vr[Cr]),Cr)){for($r=!1,qr=[],ee=0,ke=z.length;ee<ke;ee++)(gn=Cr[z.charCodeAt(ee)])?qr.push(String.fromCharCode(gn)):qr.push(z[ee]),qr[ee].charCodeAt(0)>>8&&($r=!0);z=qr.join("")}for(ee=z.length;$r===void 0&&ee!==0;)z.charCodeAt(ee-1)>>8&&($r=!0),ee--;if(!$r)return z;for(qr=Ft.noBOM?[]:[254,255],ee=0,ke=z.length;ee<ke;ee++){if((Mn=(gn=z.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qr.push(Mn),qr.push(gn-(Mn<<8))}return String.fromCharCode.apply(void 0,qr)},Ni=X.__private__.pdfEscape=X.pdfEscape=function(D,z){return Lo(D,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ao=X.__private__.beginPage=function(D){mr[++$n]=[],hn[$n]={objId:0,contentsObjId:0,userUnit:Number(j),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Ma($n),Vr(mr[wt])},ps=function(z,Ft){var ee,ke,Fe;switch(y=Ft||y,typeof z=="string"&&(ee=Mt(z.toLowerCase()),Array.isArray(ee)&&(ke=ee[0],Fe=ee[1])),Array.isArray(z)&&(ke=z[0]*Nr,Fe=z[1]*Nr),isNaN(ke)&&(ke=T[0],Fe=T[1]),(ke>14400||Fe>14400)&&(tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Fe=Math.min(14400,Fe)),T=[ke,Fe],y.substr(0,1)){case"l":Fe>ke&&(T=[Fe,ke]);break;case"p":ke>Fe&&(T=[Fe,ke])}ao(T),Mo(gs),qt(es),wn!==0&&qt(wn+" J"),ol!==0&&qt(ol+" j"),Un.publish("addPage",{pageNumber:$n})},so=function(z){z>0&&z<=$n&&(mr.splice(z,1),hn.splice(z,1),$n--,wt>$n&&(wt=$n),this.setPage(wt))},Ma=function(z){z>0&&z<=$n&&(wt=z)},ko=X.__private__.getNumberOfPages=X.getNumberOfPages=function(){return mr.length-1},il=function(z,Ft,ee){var ke,Fe=void 0;return ee=ee||{},z=z!==void 0?z:bn[dn].fontName,Ft=Ft!==void 0?Ft:bn[dn].fontStyle,ke=z.toLowerCase(),gi[ke]!==void 0&&gi[ke][Ft]!==void 0?Fe=gi[ke][Ft]:gi[z]!==void 0&&gi[z][Ft]!==void 0?Fe=gi[z][Ft]:ee.disableWarning===!1&&tt.warn("Unable to look up font label for font '"+z+"', '"+Ft+"'. Refer to getFontList() for available fonts."),Fe||ee.noFallback||(Fe=gi.times[Ft])==null&&(Fe=gi.times.normal),Fe},Eo=X.__private__.putInfo=function(){var D=ii(),z=function(ke){return ke};for(var Ft in bt!==null&&(z=Ti.encryptor(D,0)),qt("<<"),qt("/Producer ("+Ni(z("jsPDF "+V.version))+")"),Kr)Kr.hasOwnProperty(Ft)&&Kr[Ft]&&qt("/"+Ft.substr(0,1).toUpperCase()+Ft.substr(1)+" ("+Ni(z(Kr[Ft]))+")");qt("/CreationDate ("+Ni(z($e))+")"),qt(">>"),qt("endobj")},El=X.__private__.putCatalog=function(D){var z=(D=D||{}).rootDictionaryObjId||Is;switch(ii(),qt("<<"),qt("/Type /Catalog"),qt("/Pages "+z+" 0 R"),Tr||(Tr="fullwidth"),Tr){case"fullwidth":qt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":qt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":qt("/OpenAction [3 0 R /Fit]");break;case"original":qt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ft=""+Tr;Ft.substr(Ft.length-1)==="%"&&(Tr=parseInt(Tr)/100),typeof Tr=="number"&&qt("/OpenAction [3 0 R /XYZ null null "+Ve(Tr)+"]")}switch(en||(en="continuous"),en){case"continuous":qt("/PageLayout /OneColumn");break;case"single":qt("/PageLayout /SinglePage");break;case"two":case"twoleft":qt("/PageLayout /TwoColumnLeft");break;case"tworight":qt("/PageLayout /TwoColumnRight")}Xr&&qt("/PageMode /"+Xr),Un.publish("putCatalog"),qt(">>"),qt("endobj")},Fl=X.__private__.putTrailer=function(){qt("trailer"),qt("<<"),qt("/Size "+(Pe+1)),qt("/Root "+Pe+" 0 R"),qt("/Info "+(Pe-1)+" 0 R"),bt!==null&&qt("/Encrypt "+Ti.oid+" 0 R"),qt("/ID [ <"+Ze+"> <"+Ze+"> ]"),qt(">>")},Ds=X.__private__.putHeader=function(){qt("%PDF-"+Kt),qt("%\xBA\xDF\xAC\xE0")},Il=X.__private__.putXRef=function(){var D="0000000000";qt("xref"),qt("0 "+(Pe+1)),qt("0000000000 65535 f ");for(var z=1;z<=Pe;z++)typeof Ie[z]=="function"?qt((D+Ie[z]()).slice(-10)+" 00000 n "):Ie[z]!==void 0?qt((D+Ie[z]).slice(-10)+" 00000 n "):qt("0000000000 00000 n ")},aa=X.__private__.buildDocument=function(){rn(),Vr(ar),Un.publish("buildDocument"),Ds(),ts(),ui(),Ns(),bt!==null&&Pn(),Eo(),El();var D=We;return Il(),Fl(),qt("startxref"),qt(""+D),qt("%%EOF"),Vr(mr[wt]),ar.join(`
`)},wa=X.__private__.getBlob=function(D){return new Blob([Fr(D)],{type:"application/pdf"})},Fo=X.output=X.__private__.output=nl(function(D,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",D){case void 0:return aa();case"save":X.save(z.filename);break;case"arraybuffer":return Fr(aa());case"blob":return wa(aa());case"bloburi":case"bloburl":if(ft.URL!==void 0&&typeof ft.URL.createObjectURL=="function")return ft.URL&&ft.URL.createObjectURL(wa(aa()))||void 0;tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ft="",ee=aa();try{Ft=o(ee)}catch(oi){Ft=o(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+z.filename+";base64,"+Ft;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(ke=z.pdfObjectUrl,Fe="");var vr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Fe+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");</script></body></html>",Cr=ft.open();return Cr!==null&&Cr.document.write(vr),Cr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ft)==="[object Window]"){var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',$r=ft.open();if($r!==null){$r.document.write(qr);var gn=this;$r.document.documentElement.querySelector("#pdfViewer").onload=function(){$r.document.title=z.filename,$r.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gn.output("bloburl"))}}return $r}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',An=ft.open();if(An!==null&&(An.document.write(Mn),An.document.title=z.filename),An||typeof safari=="undefined")return An;break;case"datauri":case"dataurl":return ft.document.location.href=this.output("datauristring",z);default:return null}}),Nl=function(z){return Array.isArray(eo)===!0&&eo.indexOf(z)>-1};switch(w){case"pt":Nr=1;break;case"mm":Nr=72/25.4;break;case"cm":Nr=72/2.54;break;case"in":Nr=72;break;case"px":Nr=Nl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nr=12;break;case"ex":Nr=6;break;default:if(typeof w!="number")throw new Error("Invalid unit: "+w);Nr=w}var Ti=null;Ar(),Re();var du=function(z){return bt!==null?Ti.encryptor(z,0):function(Ft){return Ft}},oo=X.__private__.getPageInfo=X.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hn[D].objId,pageNumber:D,pageContext:hn[D]}},Io=X.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in hn)if(hn[z].objId===D)break;return oo(z)},al=X.__private__.getCurrentPageInfo=X.getCurrentPageInfo=function(){return{objId:hn[wt].objId,pageNumber:wt,pageContext:hn[wt]}};X.addPage=function(){return ps.apply(this,arguments),this},X.setPage=function(){return Ma.apply(this,arguments),Vr.call(this,mr[wt]),this},X.insertPage=function(D){return this.addPage(),this.movePage(wt,D),this},X.movePage=function(D,z){var Ft,ee;if(D>z){Ft=mr[D],ee=hn[D];for(var ke=D;ke>z;ke--)mr[ke]=mr[ke-1],hn[ke]=hn[ke-1];mr[z]=Ft,hn[z]=ee,this.setPage(z)}else if(D<z){Ft=mr[D],ee=hn[D];for(var Fe=D;Fe<z;Fe++)mr[Fe]=mr[Fe+1],hn[Fe]=hn[Fe+1];mr[z]=Ft,hn[z]=ee,this.setPage(z)}return this},X.deletePage=function(){return so.apply(this,arguments),this},X.__private__.text=X.text=function(D,z,Ft,ee,ke){var Fe,vr,Cr,qr,$r,gn,Mn,An,oi,ei=(ee=ee||{}).scope||this;if(typeof D=="number"&&typeof z=="number"&&(typeof Ft=="string"||Array.isArray(Ft))){var qi=Ft;Ft=z,z=D,D=qi}if(arguments[3]instanceof nn?(gr("The transform parameter of text() with a Matrix value"),oi=ke):(Cr=arguments[4],qr=arguments[5],me()(Mn=arguments[3])==="object"&&Mn!==null||(typeof Cr=="string"&&(qr=Cr,Cr=null),typeof Mn=="string"&&(qr=Mn,Mn=null),typeof Mn=="number"&&(Cr=Mn,Mn=null),ee={flags:Mn,angle:Cr,align:qr})),isNaN(z)||isNaN(Ft)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return ei;var wi="",ja=!1,uo=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Sa,fl=ei.internal.scaleFactor;function bs(hi){return hi=hi.split("	").join(Array(ee.TabLen||9).join(" ")),Ni(hi,Mn)}function dl(hi){for(var Wn,Di=hi.concat(),ci=[],Yi=Di.length;Yi--;)typeof(Wn=Di.shift())=="string"?ci.push(Wn):Array.isArray(hi)&&(Wn.length===1||Wn[1]===void 0&&Wn[2]===void 0)?ci.push(Wn[0]):ci.push([Wn[0],Wn[1],Wn[2]]);return ci}function ho(hi,Wn){var Di;if(typeof hi=="string")Di=Wn(hi)[0];else if(Array.isArray(hi)){for(var ci,Yi,Wo=hi.concat(),Cs=[],Hl=Wo.length;Hl--;)typeof(ci=Wo.shift())=="string"?Cs.push(Wn(ci)[0]):Array.isArray(ci)&&typeof ci[0]=="string"&&(Yi=Wn(ci[0],ci[1],ci[2]),Cs.push([Yi[0],Yi[1],Yi[2]]));Di=Cs}return Di}var is=!1,js=!0;if(typeof D=="string")is=!0;else if(Array.isArray(D)){var pl=D.concat();vr=[];for(var co,oa=pl.length;oa--;)(typeof(co=pl.shift())!="string"||Array.isArray(co)&&typeof co[0]!="string")&&(js=!1);is=js}if(is===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Ui=Ir/ei.internal.scaleFactor,zs=Ui*(uo-1);switch(ee.baseline){case"bottom":Ft-=zs;break;case"top":Ft+=Ui-zs;break;case"hanging":Ft+=Ui-2*zs;break;case"middle":Ft+=Ui/2-zs}if((gn=ee.maxWidth||0)>0&&(typeof D=="string"?D=ei.splitTextToSize(D,gn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(hi,Wn){return hi.concat(ei.splitTextToSize(Wn,gn))},[]))),Fe={text:D,x:z,y:Ft,options:ee,mutex:{pdfEscape:Ni,activeFontKey:dn,fonts:bn,activeFontSize:Ir}},Un.publish("preProcessText",Fe),D=Fe.text,Cr=(ee=Fe.options).angle,!(oi instanceof nn)&&Cr&&typeof Cr=="number"){Cr*=Math.PI/180,ee.rotationDirection===0&&(Cr=-Cr),Ae===gt.ADVANCED&&(Cr=-Cr);var as=Math.cos(Cr),Mi=Math.sin(Cr);oi=new nn(as,Mi,-Mi,as,0,0)}else Cr&&Cr instanceof nn&&(oi=Cr);Ae!==gt.ADVANCED||oi||(oi=_a),($r=ee.charSpace||ys)!==void 0&&(wi+=Ge(zt($r))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=ee.horizontalScale)!==void 0&&(wi+=Ge(100*An)+` Tz
`),ee.lang;var Gi=-1,Wl=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,jo=ei.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var fo=jo.usedRenderingMode!==void 0?jo.usedRenderingMode:-1;Gi!==-1?wi+=Gi+` Tr
`:fo!==-1&&(wi+=`0 Tr
`),Gi!==-1&&(jo.usedRenderingMode=Gi),qr=ee.align||"left";var Ei,po=Ir*uo,vu=ei.internal.pageSize.getWidth(),zo=bn[dn];$r=ee.charSpace||ys,gn=ee.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var go=[];if(Object.prototype.toString.call(D)==="[object Array]"){var Ca;vr=dl(D),qr!=="left"&&(Ei=vr.map(function(hi){return ei.getStringUnitWidth(hi,{font:zo,charSpace:$r,fontSize:Ir,doKerning:!1})*Ir/fl}));var Xn,_s=0;if(qr==="right"){z-=Ei[0],D=[],oa=vr.length;for(var za=0;za<oa;za++)za===0?(Xn=ms(z),Ca=vs(Ft)):(Xn=zt(_s-Ei[za]),Ca=-po),D.push([vr[za],Xn,Ca]),_s=Ei[za]}else if(qr==="center"){z-=Ei[0]/2,D=[],oa=vr.length;for(var Pi=0;Pi<oa;Pi++)Pi===0?(Xn=ms(z),Ca=vs(Ft)):(Xn=zt((_s-Ei[Pi])/2),Ca=-po),D.push([vr[Pi],Xn,Ca]),_s=Ei[Pi]}else if(qr==="left"){D=[],oa=vr.length;for(var Us=0;Us<oa;Us++)D.push(vr[Us])}else{if(qr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');D=[],oa=vr.length,gn=gn!==0?gn:vu;for(var ta=0;ta<oa;ta++)Ca=ta===0?vs(Ft):-po,Xn=ta===0?ms(z):0,ta<oa-1?go.push(Ge(zt((gn-Ei[ta])/(vr[ta].split(" ").length-1)))):go.push(0),D.push([vr[ta],Xn,Ca])}}var ss=typeof ee.R2L=="boolean"?ee.R2L:Hr;ss===!0&&(D=ho(D,function(hi,Wn,Di){return[hi.split("").reverse().join(""),Wn,Di]})),Fe={text:D,x:z,y:Ft,options:ee,mutex:{pdfEscape:Ni,activeFontKey:dn,fonts:bn,activeFontSize:Ir}},Un.publish("postProcessText",Fe),D=Fe.text,ja=Fe.mutex.isHex||!1;var Ws=bn[dn].encoding;Ws!=="WinAnsiEncoding"&&Ws!=="StandardEncoding"||(D=ho(D,function(hi,Wn,Di){return[bs(hi),Wn,Di]})),vr=dl(D),D=[];for(var yi,os,Aa,Hs=0,Uo=1,ws=Array.isArray(vr[0])?Uo:Hs,qs="",xs=function(Wn,Di,ci){var Yi="";return ci instanceof nn?(ci=typeof ee.angle=="number"?Zi(ci,new nn(1,0,0,1,Wn,Di)):Zi(new nn(1,0,0,1,Wn,Di),ci),Ae===gt.ADVANCED&&(ci=Zi(new nn(1,0,0,-1,0,0),ci)),Yi=ci.join(" ")+` Tm
`):Yi=Ge(Wn)+" "+Ge(Di)+` Td
`,Yi},la=0;la<vr.length;la++){switch(qs="",ws){case Uo:Aa=(ja?"<":"(")+vr[la][0]+(ja?">":")"),yi=parseFloat(vr[la][1]),os=parseFloat(vr[la][2]);break;case Hs:Aa=(ja?"<":"(")+vr[la]+(ja?">":")"),yi=ms(z),os=vs(Ft)}go!==void 0&&go[la]!==void 0&&(qs=go[la]+` Tw
`),la===0?D.push(qs+xs(yi,os,oi)+Aa):ws===Hs?D.push(qs+Aa):ws===Uo&&D.push(qs+xs(yi,os,oi)+Aa)}D=ws===Hs?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ss=`BT
/`;return Ss+=dn+" "+Ir+` Tf
`,Ss+=Ge(Ir*uo)+` TL
`,Ss+=mt+`
`,Ss+=wi,Ss+=D,qt(Ss+="ET"),kt[dn]=!0,ei};var cn=X.__private__.clip=X.clip=function(D){return qt(D==="evenodd"?"W*":"W"),this};X.clipEvenOdd=function(){return cn("evenodd")},X.__private__.discardPath=X.discardPath=function(){return qt("n"),this};var Da=X.__private__.isValidStyle=function(D){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(z=!0),z};X.__private__.setDefaultPathOperation=X.setDefaultPathOperation=function(D){return Da(D)&&($=D),this};var Ml=X.__private__.getStyle=X.getStyle=function(D){var z=$;switch(D){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=D}return z},Dl=X.close=function(){return qt("h"),this};X.stroke=function(){return qt("S"),this},X.fill=function(D){return si("f",D),this},X.fillEvenOdd=function(D){return si("f*",D),this},X.fillStroke=function(D){return si("B",D),this},X.fillStrokeEvenOdd=function(D){return si("B*",D),this};var si=function(z,Ft){me()(Ft)==="object"?gu(Ft,z):qt(z)},_i=function(z){z===null||Ae===gt.ADVANCED&&z===void 0||(z=Ml(z),qt(z))};function pu(D,z,Ft,ee,ke){var Fe=new At(z||this.boundingBox,Ft||this.xStep,ee||this.yStep,this.gState,ke||this.matrix);Fe.stream=this.stream;var vr=D+"$$"+this.cloneIndex+++"$$";return fs(vr,Fe),Fe}var gu=function(z,Ft){var ee=Ka[z.key],ke=Bn[ee];if(ke instanceof W)qt("q"),qt(Rl(Ft)),ke.gState&&X.setGState(ke.gState),qt(z.matrix.toString()+" cm"),qt("/"+ee+" sh"),qt("Q");else if(ke instanceof At){var Fe=new nn(1,0,0,-1,0,ns());z.matrix&&(Fe=Fe.multiply(z.matrix||_a),ee=pu.call(ke,z.key,z.boundingBox,z.xStep,z.yStep,Fe).id),qt("q"),qt("/Pattern cs"),qt("/"+ee+" scn"),ke.gState&&X.setGState(ke.gState),qt(Ft),qt("Q")}},Rl=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},sl=X.moveTo=function(D,z){return qt(Ge(zt(D))+" "+Ge(ae(z))+" m"),this},No=X.lineTo=function(D,z){return qt(Ge(zt(D))+" "+Ge(ae(z))+" l"),this},xa=X.curveTo=function(D,z,Ft,ee,ke,Fe){return qt([Ge(zt(D)),Ge(ae(z)),Ge(zt(Ft)),Ge(ae(ee)),Ge(zt(ke)),Ge(ae(Fe)),"c"].join(" ")),this};X.__private__.line=X.line=function(D,z,Ft,ee,ke){if(isNaN(D)||isNaN(z)||isNaN(Ft)||isNaN(ee)||!Da(ke))throw new Error("Invalid arguments passed to jsPDF.line");return Ae===gt.COMPAT?this.lines([[Ft-D,ee-z]],D,z,[1,1],ke||"S"):this.lines([[Ft-D,ee-z]],D,z,[1,1]).stroke()},X.__private__.lines=X.lines=function(D,z,Ft,ee,ke,Fe){var vr,Cr,qr,$r,gn,Mn,An,oi,ei,qi,wi,ja;if(typeof D=="number"&&(ja=Ft,Ft=z,z=D,D=ja),ee=ee||[1,1],Fe=Fe||!1,isNaN(z)||isNaN(Ft)||!Array.isArray(D)||!Array.isArray(ee)||!Da(ke)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sl(z,Ft),vr=ee[0],Cr=ee[1],$r=D.length,qi=z,wi=Ft,qr=0;qr<$r;qr++)(gn=D[qr]).length===2?(qi=gn[0]*vr+qi,wi=gn[1]*Cr+wi,No(qi,wi)):(Mn=gn[0]*vr+qi,An=gn[1]*Cr+wi,oi=gn[2]*vr+qi,ei=gn[3]*Cr+wi,qi=gn[4]*vr+qi,wi=gn[5]*Cr+wi,xa(Mn,An,oi,ei,qi,wi));return Fe&&Dl(),_i(ke),this},X.path=function(D){for(var z=0;z<D.length;z++){var Ft=D[z],ee=Ft.c;switch(Ft.op){case"m":sl(ee[0],ee[1]);break;case"l":No(ee[0],ee[1]);break;case"c":xa.apply(this,ee);break;case"h":Dl()}}return this},X.__private__.rect=X.rect=function(D,z,Ft,ee,ke){if(isNaN(D)||isNaN(z)||isNaN(Ft)||isNaN(ee)||!Da(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return Ae===gt.COMPAT&&(ee=-ee),qt([Ge(zt(D)),Ge(ae(z)),Ge(zt(Ft)),Ge(zt(ee)),"re"].join(" ")),_i(ke),this},X.__private__.triangle=X.triangle=function(D,z,Ft,ee,ke,Fe,vr){if(isNaN(D)||isNaN(z)||isNaN(Ft)||isNaN(ee)||isNaN(ke)||isNaN(Fe)||!Da(vr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ft-D,ee-z],[ke-Ft,Fe-ee],[D-ke,z-Fe]],D,z,[1,1],vr,!0),this},X.__private__.roundedRect=X.roundedRect=function(D,z,Ft,ee,ke,Fe,vr){if(isNaN(D)||isNaN(z)||isNaN(Ft)||isNaN(ee)||isNaN(ke)||isNaN(Fe)||!Da(vr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Cr=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*Ft),Fe=Math.min(Fe,.5*ee),this.lines([[Ft-2*ke,0],[ke*Cr,0,ke,Fe-Fe*Cr,ke,Fe],[0,ee-2*Fe],[0,Fe*Cr,-ke*Cr,Fe,-ke,Fe],[2*ke-Ft,0],[-ke*Cr,0,-ke,-Fe*Cr,-ke,-Fe],[0,2*Fe-ee],[0,-Fe*Cr,ke*Cr,-Fe,ke,-Fe]],D+ke,z,[1,1],vr,!0),this},X.__private__.ellipse=X.ellipse=function(D,z,Ft,ee,ke){if(isNaN(D)||isNaN(z)||isNaN(Ft)||isNaN(ee)||!Da(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*Ft,vr=4/3*(Math.SQRT2-1)*ee;return sl(D+Ft,z),xa(D+Ft,z-vr,D+Fe,z-ee,D,z-ee),xa(D-Fe,z-ee,D-Ft,z-vr,D-Ft,z),xa(D-Ft,z+vr,D-Fe,z+ee,D,z+ee),xa(D+Fe,z+ee,D+Ft,z+vr,D+Ft,z),_i(ke),this},X.__private__.circle=X.circle=function(D,z,Ft,ee){if(isNaN(D)||isNaN(z)||isNaN(Ft)||!Da(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,z,Ft,Ft,ee)},X.setFont=function(D,z,Ft){return Ft&&(z=fr(z,Ft)),dn=il(D,z,{disableWarning:!1}),this};var Rs=X.__private__.getFont=X.getFont=function(){return bn[il.apply(X,arguments)]};X.__private__.getFontList=X.getFontList=function(){var D,z,Ft={};for(D in gi)if(gi.hasOwnProperty(D))for(z in Ft[D]=[],gi[D])gi[D].hasOwnProperty(z)&&Ft[D].push(z);return Ft},X.addFont=function(D,z,Ft,ee,ke){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(Ft=fr(Ft,ee)),ke=ke||"Identity-H",Dn.call(this,D,z,Ft,ke)};var Sa,gs=k.lineWidth||.200025,lo=X.__private__.getLineWidth=X.getLineWidth=function(){return gs},Mo=X.__private__.setLineWidth=X.setLineWidth=function(D){return gs=D,qt(Ge(zt(D))+" w"),this};X.__private__.setLineDash=V.API.setLineDash=V.API.setLineDashPattern=function(D,z){if(D=D||[],z=z||0,isNaN(z)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ft){return Ge(zt(Ft))}).join(" "),z=Ge(zt(z)),qt("["+D+"] "+z+" d"),this};var Ra=X.__private__.getLineHeight=X.getLineHeight=function(){return Ir*Sa};X.__private__.getLineHeight=X.getLineHeight=function(){return Ir*Sa};var Bl=X.__private__.setLineHeightFactor=X.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Sa=D),this},jl=X.__private__.getLineHeightFactor=X.getLineHeightFactor=function(){return Sa};Bl(k.lineHeight);var ms=X.__private__.getHorizontalCoordinate=function(D){return zt(D)},vs=X.__private__.getVerticalCoordinate=function(D){return Ae===gt.ADVANCED?D:hn[wt].mediaBox.topRightY-hn[wt].mediaBox.bottomLeftY-zt(D)},zl=X.__private__.getHorizontalCoordinateString=X.getHorizontalCoordinateString=function(D){return Ge(ms(D))},Do=X.__private__.getVerticalCoordinateString=X.getVerticalCoordinateString=function(D){return Ge(vs(D))},es=k.strokeColor||"0 G";X.__private__.getStrokeColor=X.getDrawColor=function(){return Qa(es)},X.__private__.setStrokeColor=X.setDrawColor=function(D,z,Ft,ee){return es=zi({ch1:D,ch2:z,ch3:Ft,ch4:ee,pdfColorType:"draw",precision:2}),qt(es),this};var Ba=k.fillColor||"0 g";X.__private__.getFillColor=X.getFillColor=function(){return Qa(Ba)},X.__private__.setFillColor=X.setFillColor=function(D,z,Ft,ee){return Ba=zi({ch1:D,ch2:z,ch3:Ft,ch4:ee,pdfColorType:"fill",precision:2}),qt(Ba),this};var mt=k.textColor||"0 g",Bs=X.__private__.getTextColor=X.getTextColor=function(){return Qa(mt)};X.__private__.setTextColor=X.setTextColor=function(D,z,Ft,ee){return mt=zi({ch1:D,ch2:z,ch3:Ft,ch4:ee,pdfColorType:"text",precision:3}),this};var ys=k.charSpace,Qi=X.__private__.getCharSpace=X.getCharSpace=function(){return parseFloat(ys||0)};X.__private__.setCharSpace=X.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ys=D,this};var wn=0;X.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},X.__private__.setLineCap=X.setLineCap=function(D){var z=X.CapJoinStyles[D];if(z===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wn=z,qt(z+" J"),this};var ol=0;X.__private__.setLineJoin=X.setLineJoin=function(D){var z=X.CapJoinStyles[D];if(z===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ol=z,qt(z+" j"),this},X.__private__.setLineMiterLimit=X.__private__.setMiterLimit=X.setLineMiterLimit=X.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return qt(Ge(zt(D))+" M"),this},X.GState=be,X.setGState=function(D){(D=typeof D=="string"?li[mi[D]]:Ul(null,D)).equals(na)||(qt("/"+D.id+" gs"),na=D)};var Ul=function(z,Ft){if(!z||!mi[z]){var ee=!1;for(var ke in li)if(li.hasOwnProperty(ke)&&li[ke].equals(Ft)){ee=!0;break}if(ee)Ft=li[ke];else{var Fe="GS"+(Object.keys(li).length+1).toString(10);li[Fe]=Ft,Ft.id=Fe}return z&&(mi[z]=Ft.id),Un.publish("addGState",Ft),Ft}};X.addGState=function(D,z){return Ul(D,z),this},X.saveGraphicsState=function(){return qt("q"),ba.push({key:dn,size:Ir,color:mt}),this},X.restoreGraphicsState=function(){qt("Q");var D=ba.pop();return dn=D.key,Ir=D.size,mt=D.color,na=null,this},X.setCurrentTransformationMatrix=function(D){return qt(D.toString()+" cm"),this},X.comment=function(D){return qt("#"+D),this};var Ro=function(z,Ft){var ee=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Cr){isNaN(Cr)||(ee=parseFloat(Cr))}});var ke=Ft||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(Cr){isNaN(Cr)||(ke=parseFloat(Cr))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Cr){Fe=Cr.toString()}}),this},rs=function(z,Ft,ee,ke){Ro.call(this,z,Ft),this.type="rect";var Fe=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(qr){isNaN(qr)||(Fe=parseFloat(qr))}});var vr=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return vr},set:function(qr){isNaN(qr)||(vr=parseFloat(qr))}}),this},ll=function(){this.page=$n,this.currentPage=wt,this.pages=mr.slice(0),this.pagesContext=hn.slice(0),this.x=Bi,this.y=Vn,this.matrix=Ci,this.width=hl(wt),this.height=ns(wt),this.outputDestination=Pr,this.id="",this.objectNumber=-1};ll.prototype.restore=function(){$n=this.page,wt=this.currentPage,hn=this.pagesContext,mr=this.pages,Bi=this.x,Vn=this.y,Ci=this.matrix,sa(wt,this.width),cl(wt,this.height),Pr=this.outputDestination};var ul=function(z,Ft,ee,ke,Fe){Ja.push(new ll),$n=wt=0,mr=[],Bi=z,Vn=Ft,Ci=Fe,ao([ee,ke])},mu=function(z){if(Za[z])Ja.pop().restore();else{var Ft=new ll,ee="Xo"+(Object.keys(ji).length+1).toString(10);Ft.id=ee,Za[z]=ee,ji[ee]=Ft,Un.publish("addFormObject",Ft),Ja.pop().restore()}};for(var Bo in X.beginFormObject=function(D,z,Ft,ee,ke){return ul(D,z,Ft,ee,ke),this},X.endFormObject=function(D){return mu(D),this},X.doFormObject=function(D,z){var Ft=ji[Za[D]];return qt("q"),qt(z.toString()+" cm"),qt("/"+Ft.id+" Do"),qt("Q"),this},X.getFormObject=function(D){var z=ji[Za[D]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},X.save=function(D,z){return D=D||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(e(wa(aa()),D),typeof e.unload=="function"&&ft.setTimeout&&setTimeout(e.unload,911),this):new Promise(function(Ft,ee){try{var ke=e(wa(aa()),D);typeof e.unload=="function"&&ft.setTimeout&&setTimeout(e.unload,911),Ft(ke)}catch(Fe){ee(Fe.message)}})},V.API)V.API.hasOwnProperty(Bo)&&(Bo==="events"&&V.API.events.length?function(D,z){var Ft,ee,ke;for(ke=z.length-1;ke!==-1;ke--)Ft=z[ke][0],ee=z[ke][1],D.subscribe.apply(D,[Ft].concat(typeof ee=="function"?[ee]:ee))}(Un,V.API.events):X[Bo]=V.API[Bo]);var hl=X.getPageWidth=function(D){return(hn[D=D||wt].mediaBox.topRightX-hn[D].mediaBox.bottomLeftX)/Nr},sa=X.setPageWidth=function(D,z){hn[D].mediaBox.topRightX=z*Nr+hn[D].mediaBox.bottomLeftX},ns=X.getPageHeight=function(D){return(hn[D=D||wt].mediaBox.topRightY-hn[D].mediaBox.bottomLeftY)/Nr},cl=X.setPageHeight=function(D,z){hn[D].mediaBox.topRightY=z*Nr+hn[D].mediaBox.bottomLeftY};return X.internal={pdfEscape:Ni,getStyle:Ml,getFont:Rs,getFontSize:zr,getCharSpace:Qi,getTextColor:Bs,getLineHeight:Ra,getLineHeightFactor:jl,getLineWidth:lo,write:sr,getHorizontalCoordinate:ms,getVerticalCoordinate:vs,getCoordinateString:zl,getVerticalCoordinateString:Do,collections:{},newObject:ii,newAdditionalObject:$a,newObjectDeferred:Ai,newObjectDeferredBegin:ai,getFilters:vi,putStream:ia,events:Un,scaleFactor:Nr,pageSize:{getWidth:function(){return hl(wt)},setWidth:function(z){sa(wt,z)},getHeight:function(){return ns(wt)},setHeight:function(z){cl(wt,z)}},encryptionOptions:bt,encryption:Ti,getEncryptor:du,output:Fo,getNumberOfPages:ko,pages:mr,out:qt,f2:Ve,f3:ie,getPageInfo:oo,getPageInfoByObjId:Io,getCurrentPageInfo:al,getPDFVersion:It,Point:Ro,Rectangle:rs,Matrix:nn,hasHotfix:Nl},Object.defineProperty(X.internal.pageSize,"width",{get:function(){return hl(wt)},set:function(z){sa(wt,z)},enumerable:!0,configurable:!0}),Object.defineProperty(X.internal.pageSize,"height",{get:function(){return ns(wt)},set:function(z){cl(wt,z)},enumerable:!0,configurable:!0}),fu.call(X,ir),dn="F1",ps(T,y),Un.publish("initialized"),X}_t.prototype.lsbFirstWord=function(k){return String.fromCharCode(k>>0&255,k>>8&255,k>>16&255,k>>24&255)},_t.prototype.toHexString=function(k){return k.split("").map(function(g){return("0"+(255&g.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_t.prototype.hexToBytes=function(k){for(var g=[],y=0;y<k.length;y+=2)g.push(String.fromCharCode(parseInt(k.substr(y,2),16)));return g.join("")},_t.prototype.processOwnerPassword=function(k,g){return fe(xt(g).substr(0,5),k)},_t.prototype.encryptor=function(k,g){var y=xt(this.encryptionKey+String.fromCharCode(255&k,k>>8&255,k>>16&255,255&g,g>>8&255)).substr(0,10);return function(w){return fe(y,w)}},be.prototype.equals=function(k){var g,y="id,objectNumber,equals";if(!k||me()(k)!==me()(this))return!1;var w=0;for(g in this)if(!(y.indexOf(g)>=0)){if(this.hasOwnProperty(g)&&!k.hasOwnProperty(g)||this[g]!==k[g])return!1;w++}for(g in k)k.hasOwnProperty(g)&&y.indexOf(g)<0&&w--;return w===0},V.API={events:[]},V.version="2.5.1";var it=V.API,et=1,F=function(g){return g.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},K=function(g){return g.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(g){return g.toFixed(2)},dt=function(g){return g.toFixed(5)};it.__acroform__={};var Wt=function(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g},Tt=function(g){return g*et},jt=function(g){var y=new Ke,w=Mr.internal.getHeight(g)||0,T=Mr.internal.getWidth(g)||0;return y.BBox=[0,0,Number(ht(T)),Number(ht(w))],y},ce=it.__acroform__.setBit=function(k,g){if(k=k||0,g=g||0,isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return k|=1<<g},ve=it.__acroform__.clearBit=function(k,g){if(k=k||0,g=g||0,isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return k&=~(1<<g)},re=it.__acroform__.getBit=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(k&1<<g)==0?0:1},Yt=it.__acroform__.getBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return re(k,g-1)},de=it.__acroform__.setBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ce(k,g-1)},N=it.__acroform__.clearBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ve(k,g-1)},Bt=it.__acroform__.calculateCoordinates=function(k,g){var y=g.internal.getHorizontalCoordinate,w=g.internal.getVerticalCoordinate,T=k[0],S=k[1],L=k[2],j=k[3],I={};return I.lowerLeft_X=y(T)||0,I.lowerLeft_Y=w(S+j)||0,I.upperRight_X=y(T+L)||0,I.upperRight_Y=w(S)||0,[Number(ht(I.lowerLeft_X)),Number(ht(I.lowerLeft_Y)),Number(ht(I.upperRight_X)),Number(ht(I.upperRight_Y))]},U=function(g){if(g.appearanceStreamContent)return g.appearanceStreamContent;if(g.V||g.DV){var y=[],w=g._V||g.DV,T=C(g,w),S=g.scope.internal.getFont(g.fontName,g.fontStyle).id;y.push("/Tx BMC"),y.push("q"),y.push("BT"),y.push(g.scope.__private__.encodeColorString(g.color)),y.push("/"+S+" "+ht(T.fontSize)+" Tf"),y.push("1 0 0 1 0 0 Tm"),y.push(T.text),y.push("ET"),y.push("Q"),y.push("EMC");var L=jt(g);return L.scope=g.scope,L.stream=y.join(`
`),L}},C=function(g,y){var w=g.fontSize===0?g.maxFontSize:g.fontSize,T={text:"",fontSize:""},S=(y=(y=y.substr(0,1)=="("?y.substr(1):y).substr(y.length-1)==")"?y.substr(0,y.length-1):y).split(" ");S=g.multiline?S.map(function(zt){return zt.split(`
`)}):S.map(function(zt){return[zt]});var L=w,j=Mr.internal.getHeight(g)||0;j=j<0?-j:j;var I=Mr.internal.getWidth(g)||0;I=I<0?-I:I;var $=function(se,ae,$e){if(se+1<S.length){var Ze=ae+" "+S[se+1][0];return A(Ze,g,$e).width<=I-4}return!1};L++;t:for(;L>0;){y="",L--;var bt,vt,kt=A("3",g,L).height,X=g.multiline?j-L:(j-kt)/2,Kt=X+=2,It=0,$t=0,Mt=0;if(L<=0){y=`(...) Tj
`,y+="% Width of Text: "+A(y,g,L=12).width+", FieldWidth:"+I+`
`;break}for(var gt="",Ae=0,Be=0;Be<S.length;Be++)if(S.hasOwnProperty(Be)){var tr=!1;if(S[Be].length!==1&&Mt!==S[Be].length-1){if((kt+2)*(Ae+2)+2>j)continue t;gt+=S[Be][Mt],tr=!0,$t=Be,Be--}else{gt=(gt+=S[Be][Mt]+" ").substr(gt.length-1)==" "?gt.substr(0,gt.length-1):gt;var fr=parseInt(Be),Ge=$(fr,gt,L),gr=Be>=S.length-1;if(Ge&&!gr){gt+=" ",Mt=0;continue}if(Ge||gr){if(gr)$t=fr;else if(g.multiline&&(kt+2)*(Ae+2)+2>j)continue t}else{if(!g.multiline||(kt+2)*(Ae+2)+2>j)continue t;$t=fr}}for(var oe="",Ve=It;Ve<=$t;Ve++){var ie=S[Ve];if(g.multiline){if(Ve===$t){oe+=ie[Mt]+" ",Mt=(Mt+1)%ie.length;continue}if(Ve===It){oe+=ie[ie.length-1]+" ";continue}}oe+=ie[0]+" "}switch(oe=oe.substr(oe.length-1)==" "?oe.substr(0,oe.length-1):oe,vt=A(oe,g,L).width,g.textAlign){case"right":bt=I-vt-2;break;case"center":bt=(I-vt)/2;break;case"left":default:bt=2}y+=ht(bt)+" "+ht(Kt)+` Td
`,y+="("+F(oe)+`) Tj
`,y+=-ht(bt)+` 0 Td
`,Kt=-(L+2),vt=0,It=tr?$t:$t+1,Ae++,gt=""}break}return T.text=y,T.fontSize=L,T},A=function(g,y,w){var T=y.scope.internal.getFont(y.fontName,y.fontStyle),S=y.scope.getStringUnitWidth(g,{font:T,fontSize:parseFloat(w),charSpace:0})*parseFloat(w);return{height:y.scope.getStringUnitWidth("3",{font:T,fontSize:parseFloat(w),charSpace:0})*parseFloat(w)*1.5,width:S}},q={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},at=function(g,y){var w={type:"reference",object:g};y.internal.getPageInfo(g.page).pageContext.annotations.find(function(T){return T.type===w.type&&T.object===w.object})===void 0&&y.internal.getPageInfo(g.page).pageContext.annotations.push(w)},Ot=function(g,y){for(var w in g)if(g.hasOwnProperty(w)){var T=w,S=g[w];y.internal.newObjectDeferredBegin(S.objId,!0),me()(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete g[T]}},St=function(g,y){if(y.scope=g,g.internal!==void 0&&(g.internal.acroformPlugin===void 0||g.internal.acroformPlugin.isInitialized===!1)){if(Or.FieldNum=0,g.internal.acroformPlugin=JSON.parse(JSON.stringify(q)),g.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");et=g.internal.scaleFactor,g.internal.acroformPlugin.acroFormDictionaryRoot=new xr,g.internal.acroformPlugin.acroFormDictionaryRoot.scope=g,g.internal.acroformPlugin.acroFormDictionaryRoot._eventID=g.internal.events.subscribe("postPutResources",function(){(function(w){w.internal.events.unsubscribe(w.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete w.internal.acroformPlugin.acroFormDictionaryRoot._eventID,w.internal.acroformPlugin.printedOut=!0})(g)}),g.internal.events.subscribe("buildDocument",function(){(function(w){w.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var T=w.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var S in T)if(T.hasOwnProperty(S)){var L=T[S];L.objId=void 0,L.hasAnnotation&&at(L,w)}})(g)}),g.internal.events.subscribe("putCatalog",function(){(function(w){if(w.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");w.internal.write("/AcroForm "+w.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(g)}),g.internal.events.subscribe("postPutPages",function(w){(function(T,S){var L=!T;for(var j in T||(S.internal.newObjectDeferredBegin(S.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),S.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),T=T||S.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(T.hasOwnProperty(j)){var I=T[j],$=[],bt=I.Rect;if(I.Rect&&(I.Rect=Bt(I.Rect,S)),S.internal.newObjectDeferredBegin(I.objId,!0),I.DA=Mr.createDefaultAppearanceStream(I),me()(I)==="object"&&typeof I.getKeyValueListForStream=="function"&&($=I.getKeyValueListForStream()),I.Rect=bt,I.hasAppearanceStream&&!I.appearanceStreamContent){var vt=U(I);$.push({key:"AP",value:"<</N "+vt+">>"}),S.internal.acroformPlugin.xForms.push(vt)}if(I.appearanceStreamContent){var kt="";for(var X in I.appearanceStreamContent)if(I.appearanceStreamContent.hasOwnProperty(X)){var Kt=I.appearanceStreamContent[X];if(kt+="/"+X+" ",kt+="<<",Object.keys(Kt).length>=1||Array.isArray(Kt)){for(var j in Kt)if(Kt.hasOwnProperty(j)){var It=Kt[j];typeof It=="function"&&(It=It.call(S,I)),kt+="/"+j+" "+It+" ",S.internal.acroformPlugin.xForms.indexOf(It)>=0||S.internal.acroformPlugin.xForms.push(It)}}else typeof(It=Kt)=="function"&&(It=It.call(S,I)),kt+="/"+j+" "+It,S.internal.acroformPlugin.xForms.indexOf(It)>=0||S.internal.acroformPlugin.xForms.push(It);kt+=">>"}$.push({key:"AP",value:`<<
`+kt+">>"})}S.internal.putStream({additionalKeyValues:$,objectId:I.objId}),S.internal.out("endobj")}L&&Ot(S.internal.acroformPlugin.xForms,S)})(w,g)}),g.internal.acroformPlugin.isInitialized=!0}},xe=it.__acroform__.arrayToPdfArray=function(k,g,y){var w=function(j){return j};if(Array.isArray(k)){for(var T="[",S=0;S<k.length;S++)switch(S!==0&&(T+=" "),me()(k[S])){case"boolean":case"number":case"object":T+=k[S].toString();break;case"string":k[S].substr(0,1)!=="/"?(g!==void 0&&y&&(w=y.internal.getEncryptor(g)),T+="("+F(w(k[S].toString()))+")"):T+=k[S].toString()}return T+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ne=function(g,y,w){var T=function(L){return L};return y!==void 0&&w&&(T=w.internal.getEncryptor(y)),(g=g||"").toString(),g="("+F(T(g))+")"},we=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(y){this._objId=y}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};we.prototype.toString=function(){return this.objId+" 0 R"},we.prototype.putStream=function(){var k=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:k,objectId:this.objId}),this.scope.internal.out("endobj")},we.prototype.getKeyValueListForStream=function(){var k=[],g=Object.getOwnPropertyNames(this).filter(function(S){return S!="content"&&S!="appearanceStreamContent"&&S!="scope"&&S!="objId"&&S.substring(0,1)!="_"});for(var y in g)if(Object.getOwnPropertyDescriptor(this,g[y]).configurable===!1){var w=g[y],T=this[w];T&&(Array.isArray(T)?k.push({key:w,value:xe(T,this.objId,this.scope)}):T instanceof we?(T.scope=this.scope,k.push({key:w,value:T.objId+" 0 R"})):typeof T!="function"&&k.push({key:w,value:T}))}return k};var Ke=function(){we.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var g,y=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return y},set:function(T){y=T}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(T){g=T.trim()},get:function(){return g||null}})};Wt(Ke,we);var xr=function(){we.call(this);var g,y=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return y.length>0?y:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return y}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(g){var T=function(L){return L};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+F(T(g))+")"}},set:function(T){g=T}})};Wt(xr,we);var Or=function k(){we.call(this);var g=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return g},set:function(gt){if(isNaN(gt))throw new Error('Invalid value "'+gt+'" for attribute F supplied.');g=gt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(g,3))},set:function(gt){Boolean(gt)===!0?this.F=de(g,3):this.F=N(g,3)}});var y=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return y},set:function(gt){if(isNaN(gt))throw new Error('Invalid value "'+gt+'" for attribute Ff supplied.');y=gt}});var w=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(w.length!==0)return w},set:function(gt){w=gt!==void 0?gt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[0])?0:w[0]},set:function(gt){w[0]=gt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[1])?0:w[1]},set:function(gt){w[1]=gt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[2])?0:w[2]},set:function(gt){w[2]=gt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[3])?0:w[3]},set:function(gt){w[3]=gt}});var T="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return T},set:function(gt){switch(gt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":T=gt;break;default:throw new Error('Invalid value "'+gt+'" for attribute FT supplied.')}}});var S=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!S||S.length<1){if(this instanceof Jn)return;S="FieldObject"+k.FieldNum++}var gt=function(Be){return Be};return this.scope&&(gt=this.scope.internal.getEncryptor(this.objId)),"("+F(gt(S))+")"},set:function(gt){S=gt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return S},set:function(gt){S=gt}});var L="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return L},set:function(gt){L=gt}});var j="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return j},set:function(gt){j=gt}});var I=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return I},set:function(gt){I=gt}});var $=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return $===void 0?50/et:$},set:function(gt){$=gt}});var bt="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return bt},set:function(gt){bt=gt}});var vt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!vt||this instanceof Jn||this instanceof ni))return Ne(vt,this.objId,this.scope)},set:function(gt){gt=gt.toString(),vt=gt}});var kt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(kt)return this instanceof Yr?kt:Ne(kt,this.objId,this.scope)},set:function(gt){gt=gt.toString(),kt=this instanceof Yr?gt:gt.substr(0,1)==="("?K(gt.substr(1,gt.length-2)):K(gt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr?K(kt.substr(1,kt.length-1)):kt},set:function(gt){gt=gt.toString(),kt=this instanceof Yr?"/"+gt:gt}});var X=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(X)return X},set:function(gt){this.V=gt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(X)return this instanceof Yr?X:Ne(X,this.objId,this.scope)},set:function(gt){gt=gt.toString(),X=this instanceof Yr?gt:gt.substr(0,1)==="("?K(gt.substr(1,gt.length-2)):K(gt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr?K(X.substr(1,X.length-1)):X},set:function(gt){gt=gt.toString(),X=this instanceof Yr?"/"+gt:gt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Kt,It=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return It},set:function(gt){gt=Boolean(gt),It=gt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Kt)return Kt},set:function(gt){Kt=gt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,1))},set:function(gt){Boolean(gt)===!0?this.Ff=de(this.Ff,1):this.Ff=N(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,2))},set:function(gt){Boolean(gt)===!0?this.Ff=de(this.Ff,2):this.Ff=N(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,3))},set:function(gt){Boolean(gt)===!0?this.Ff=de(this.Ff,3):this.Ff=N(this.Ff,3)}});var $t=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($t!==null)return $t},set:function(gt){if([0,1,2].indexOf(gt)===-1)throw new Error('Invalid value "'+gt+'" for attribute Q supplied.');$t=gt}}),Object.defineProperty(this,"textAlign",{get:function(){var gt;switch($t){case 0:default:gt="left";break;case 1:gt="center";break;case 2:gt="right"}return gt},configurable:!0,enumerable:!0,set:function(gt){switch(gt){case"right":case 2:$t=2;break;case"center":case 1:$t=1;break;case"left":case 0:default:$t=0}}})};Wt(Or,we);var Jr=function(){Or.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var g=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return g},set:function(T){g=T}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return g},set:function(T){g=T}});var y=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return xe(y,this.objId,this.scope)},set:function(T){var S,L;L=[],typeof(S=T)=="string"&&(L=function(j,I,$){$||($=1);for(var bt,vt=[];bt=I.exec(j);)vt.push(bt[$]);return vt}(S,/\((.*?)\)/g)),y=L}}),this.getOptions=function(){return y},this.setOptions=function(w){y=w,this.sort&&y.sort()},this.addOption=function(w){w=(w=w||"").toString(),y.push(w),this.sort&&y.sort()},this.removeOption=function(w,T){for(T=T||!1,w=(w=w||"").toString();y.indexOf(w)!==-1&&(y.splice(y.indexOf(w),1),T!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,18))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,18):this.Ff=N(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,19))},set:function(T){this.combo===!0&&(Boolean(T)===!0?this.Ff=de(this.Ff,19):this.Ff=N(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,20))},set:function(T){Boolean(T)===!0?(this.Ff=de(this.Ff,20),y.sort()):this.Ff=N(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,22))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,22):this.Ff=N(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,23))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,27))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,27):this.Ff=N(this.Ff,27)}}),this.hasAppearanceStream=!1};Wt(Jr,Or);var fn=function(){Jr.call(this),this.fontName="helvetica",this.combo=!1};Wt(fn,Jr);var En=function(){fn.call(this),this.combo=!0};Wt(En,fn);var ri=function(){En.call(this),this.edit=!0};Wt(ri,En);var Yr=function(){Or.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,15))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,15):this.Ff=N(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,16))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,16):this.Ff=N(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,17))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,17):this.Ff=N(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,26))},set:function(T){Boolean(T)===!0?this.Ff=de(this.Ff,26):this.Ff=N(this.Ff,26)}});var g,y={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var T=function(I){return I};if(this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),Object.keys(y).length!==0){var S,L=[];for(S in L.push("<<"),y)L.push("/"+S+" ("+F(T(y[S]))+")");return L.push(">>"),L.join(`
`)}},set:function(T){me()(T)==="object"&&(y=T)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return y.CA||""},set:function(T){typeof T=="string"&&(y.CA=T)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return g},set:function(T){g=T}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return g.substr(1,g.length-1)},set:function(T){g="/"+T}})};Wt(Yr,Or);var zn=function(){Yr.call(this),this.pushButton=!0};Wt(zn,Yr);var pi=function(){Yr.call(this),this.radio=!0,this.pushButton=!1;var g=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return g},set:function(w){g=w!==void 0?w:[]}})};Wt(pi,Yr);var Jn=function(){var g,y;Or.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return g},set:function(L){g=L}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return y},set:function(L){y=L}});var w,T={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var L=function(bt){return bt};this.scope&&(L=this.scope.internal.getEncryptor(this.objId));var j,I=[];for(j in I.push("<<"),T)I.push("/"+j+" ("+F(L(T[j]))+")");return I.push(">>"),I.join(`
`)},set:function(L){me()(L)==="object"&&(T=L)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return T.CA||""},set:function(L){typeof L=="string"&&(T.CA=L)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return w},set:function(L){w=L}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return w.substr(1,w.length-1)},set:function(L){w="/"+L}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Wt(Jn,Or),pi.prototype.setAppearance=function(k){if(!("createAppearanceStream"in k)||!("getCA"in k))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var g in this.Kids)if(this.Kids.hasOwnProperty(g)){var y=this.Kids[g];y.appearanceStreamContent=k.createAppearanceStream(y.optionName),y.caption=k.getCA()}},pi.prototype.createOption=function(k){var g=new Jn;return g.Parent=this,g.optionName=k,this.Kids.push(g),Ki.call(this.scope,g),g};var ki=function(){Yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mr.CheckBox.createAppearanceStream()};Wt(ki,Yr);var ni=function(){Or.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,13))},set:function(w){Boolean(w)===!0?this.Ff=de(this.Ff,13):this.Ff=N(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,21))},set:function(w){Boolean(w)===!0?this.Ff=de(this.Ff,21):this.Ff=N(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,23))},set:function(w){Boolean(w)===!0?this.Ff=de(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,24))},set:function(w){Boolean(w)===!0?this.Ff=de(this.Ff,24):this.Ff=N(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,25))},set:function(w){Boolean(w)===!0?this.Ff=de(this.Ff,25):this.Ff=N(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,26))},set:function(w){Boolean(w)===!0?this.Ff=de(this.Ff,26):this.Ff=N(this.Ff,26)}});var g=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return g},set:function(w){g=w}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){Number.isInteger(w)&&(g=w)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Wt(ni,Or);var Ia=function(){ni.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Yt(this.Ff,14))},set:function(y){Boolean(y)===!0?this.Ff=de(this.Ff,14):this.Ff=N(this.Ff,14)}}),this.password=!0};Wt(Ia,ni);var Mr={CheckBox:{createAppearanceStream:function(){return{N:{On:Mr.CheckBox.YesNormal},D:{On:Mr.CheckBox.YesPushDown,Off:Mr.CheckBox.OffPushDown}}},YesPushDown:function(g){var y=jt(g);y.scope=g.scope;var w=[],T=g.scope.internal.getFont(g.fontName,g.fontStyle).id,S=g.scope.__private__.encodeColorString(g.color),L=C(g,g.caption);return w.push("0.749023 g"),w.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),w.push("f"),w.push("BMC"),w.push("q"),w.push("0 0 1 rg"),w.push("/"+T+" "+ht(L.fontSize)+" Tf "+S),w.push("BT"),w.push(L.text),w.push("ET"),w.push("Q"),w.push("EMC"),y.stream=w.join(`
`),y},YesNormal:function(g){var y=jt(g);y.scope=g.scope;var w=g.scope.internal.getFont(g.fontName,g.fontStyle).id,T=g.scope.__private__.encodeColorString(g.color),S=[],L=Mr.internal.getHeight(g),j=Mr.internal.getWidth(g),I=C(g,g.caption);return S.push("1 g"),S.push("0 0 "+ht(j)+" "+ht(L)+" re"),S.push("f"),S.push("q"),S.push("0 0 1 rg"),S.push("0 0 "+ht(j-1)+" "+ht(L-1)+" re"),S.push("W"),S.push("n"),S.push("0 g"),S.push("BT"),S.push("/"+w+" "+ht(I.fontSize)+" Tf "+T),S.push(I.text),S.push("ET"),S.push("Q"),y.stream=S.join(`
`),y},OffPushDown:function(g){var y=jt(g);y.scope=g.scope;var w=[];return w.push("0.749023 g"),w.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),w.push("f"),y.stream=w.join(`
`),y}},RadioButton:{Circle:{createAppearanceStream:function(g){var y={D:{Off:Mr.RadioButton.Circle.OffPushDown},N:{}};return y.N[g]=Mr.RadioButton.Circle.YesNormal,y.D[g]=Mr.RadioButton.Circle.YesPushDown,y},getCA:function(){return"l"},YesNormal:function(g){var y=jt(g);y.scope=g.scope;var w=[],T=Mr.internal.getWidth(g)<=Mr.internal.getHeight(g)?Mr.internal.getWidth(g)/4:Mr.internal.getHeight(g)/4;T=Number((.9*T).toFixed(5));var S=Mr.internal.Bezier_C,L=Number((T*S).toFixed(5));return w.push("q"),w.push("1 0 0 1 "+dt(Mr.internal.getWidth(g)/2)+" "+dt(Mr.internal.getHeight(g)/2)+" cm"),w.push(T+" 0 m"),w.push(T+" "+L+" "+L+" "+T+" 0 "+T+" c"),w.push("-"+L+" "+T+" -"+T+" "+L+" -"+T+" 0 c"),w.push("-"+T+" -"+L+" -"+L+" -"+T+" 0 -"+T+" c"),w.push(L+" -"+T+" "+T+" -"+L+" "+T+" 0 c"),w.push("f"),w.push("Q"),y.stream=w.join(`
`),y},YesPushDown:function(g){var y=jt(g);y.scope=g.scope;var w=[],T=Mr.internal.getWidth(g)<=Mr.internal.getHeight(g)?Mr.internal.getWidth(g)/4:Mr.internal.getHeight(g)/4;T=Number((.9*T).toFixed(5));var S=Number((2*T).toFixed(5)),L=Number((S*Mr.internal.Bezier_C).toFixed(5)),j=Number((T*Mr.internal.Bezier_C).toFixed(5));return w.push("0.749023 g"),w.push("q"),w.push("1 0 0 1 "+dt(Mr.internal.getWidth(g)/2)+" "+dt(Mr.internal.getHeight(g)/2)+" cm"),w.push(S+" 0 m"),w.push(S+" "+L+" "+L+" "+S+" 0 "+S+" c"),w.push("-"+L+" "+S+" -"+S+" "+L+" -"+S+" 0 c"),w.push("-"+S+" -"+L+" -"+L+" -"+S+" 0 -"+S+" c"),w.push(L+" -"+S+" "+S+" -"+L+" "+S+" 0 c"),w.push("f"),w.push("Q"),w.push("0 g"),w.push("q"),w.push("1 0 0 1 "+dt(Mr.internal.getWidth(g)/2)+" "+dt(Mr.internal.getHeight(g)/2)+" cm"),w.push(T+" 0 m"),w.push(T+" "+j+" "+j+" "+T+" 0 "+T+" c"),w.push("-"+j+" "+T+" -"+T+" "+j+" -"+T+" 0 c"),w.push("-"+T+" -"+j+" -"+j+" -"+T+" 0 -"+T+" c"),w.push(j+" -"+T+" "+T+" -"+j+" "+T+" 0 c"),w.push("f"),w.push("Q"),y.stream=w.join(`
`),y},OffPushDown:function(g){var y=jt(g);y.scope=g.scope;var w=[],T=Mr.internal.getWidth(g)<=Mr.internal.getHeight(g)?Mr.internal.getWidth(g)/4:Mr.internal.getHeight(g)/4;T=Number((.9*T).toFixed(5));var S=Number((2*T).toFixed(5)),L=Number((S*Mr.internal.Bezier_C).toFixed(5));return w.push("0.749023 g"),w.push("q"),w.push("1 0 0 1 "+dt(Mr.internal.getWidth(g)/2)+" "+dt(Mr.internal.getHeight(g)/2)+" cm"),w.push(S+" 0 m"),w.push(S+" "+L+" "+L+" "+S+" 0 "+S+" c"),w.push("-"+L+" "+S+" -"+S+" "+L+" -"+S+" 0 c"),w.push("-"+S+" -"+L+" -"+L+" -"+S+" 0 -"+S+" c"),w.push(L+" -"+S+" "+S+" -"+L+" "+S+" 0 c"),w.push("f"),w.push("Q"),y.stream=w.join(`
`),y}},Cross:{createAppearanceStream:function(g){var y={D:{Off:Mr.RadioButton.Cross.OffPushDown},N:{}};return y.N[g]=Mr.RadioButton.Cross.YesNormal,y.D[g]=Mr.RadioButton.Cross.YesPushDown,y},getCA:function(){return"8"},YesNormal:function(g){var y=jt(g);y.scope=g.scope;var w=[],T=Mr.internal.calculateCross(g);return w.push("q"),w.push("1 1 "+ht(Mr.internal.getWidth(g)-2)+" "+ht(Mr.internal.getHeight(g)-2)+" re"),w.push("W"),w.push("n"),w.push(ht(T.x1.x)+" "+ht(T.x1.y)+" m"),w.push(ht(T.x2.x)+" "+ht(T.x2.y)+" l"),w.push(ht(T.x4.x)+" "+ht(T.x4.y)+" m"),w.push(ht(T.x3.x)+" "+ht(T.x3.y)+" l"),w.push("s"),w.push("Q"),y.stream=w.join(`
`),y},YesPushDown:function(g){var y=jt(g);y.scope=g.scope;var w=Mr.internal.calculateCross(g),T=[];return T.push("0.749023 g"),T.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),T.push("f"),T.push("q"),T.push("1 1 "+ht(Mr.internal.getWidth(g)-2)+" "+ht(Mr.internal.getHeight(g)-2)+" re"),T.push("W"),T.push("n"),T.push(ht(w.x1.x)+" "+ht(w.x1.y)+" m"),T.push(ht(w.x2.x)+" "+ht(w.x2.y)+" l"),T.push(ht(w.x4.x)+" "+ht(w.x4.y)+" m"),T.push(ht(w.x3.x)+" "+ht(w.x3.y)+" l"),T.push("s"),T.push("Q"),y.stream=T.join(`
`),y},OffPushDown:function(g){var y=jt(g);y.scope=g.scope;var w=[];return w.push("0.749023 g"),w.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),w.push("f"),y.stream=w.join(`
`),y}}},createDefaultAppearanceStream:function(g){var y=g.scope.internal.getFont(g.fontName,g.fontStyle).id,w=g.scope.__private__.encodeColorString(g.color);return"/"+y+" "+g.fontSize+" Tf "+w}};Mr.internal={Bezier_C:.551915024494,calculateCross:function(g){var y=Mr.internal.getWidth(g),w=Mr.internal.getHeight(g),T=Math.min(y,w);return{x1:{x:(y-T)/2,y:(w-T)/2+T},x2:{x:(y-T)/2+T,y:(w-T)/2},x3:{x:(y-T)/2,y:(w-T)/2},x4:{x:(y-T)/2+T,y:(w-T)/2+T}}}},Mr.internal.getWidth=function(k){var g=0;return me()(k)==="object"&&(g=Tt(k.Rect[2])),g},Mr.internal.getHeight=function(k){var g=0;return me()(k)==="object"&&(g=Tt(k.Rect[3])),g};var Ki=it.addField=function(k){if(St(this,k),!(k instanceof Or))throw new Error("Invalid argument passed to jsPDF.addField.");var g;return(g=k).scope.internal.acroformPlugin.printedOut&&(g.scope.internal.acroformPlugin.printedOut=!1,g.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),g.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(g),k.page=k.scope.internal.getCurrentPageInfo().pageNumber,this};it.AcroFormChoiceField=Jr,it.AcroFormListBox=fn,it.AcroFormComboBox=En,it.AcroFormEditBox=ri,it.AcroFormButton=Yr,it.AcroFormPushButton=zn,it.AcroFormRadioButton=pi,it.AcroFormCheckBox=ki,it.AcroFormTextField=ni,it.AcroFormPasswordField=Ia,it.AcroFormAppearance=Mr,it.AcroForm={ChoiceField:Jr,ListBox:fn,ComboBox:En,EditBox:ri,Button:Yr,PushButton:zn,RadioButton:pi,CheckBox:ki,TextField:ni,PasswordField:Ia,Appearance:Mr},V.AcroForm={ChoiceField:Jr,ListBox:fn,ComboBox:En,EditBox:ri,Button:Yr,PushButton:zn,RadioButton:pi,CheckBox:ki,TextField:ni,PasswordField:Ia,Appearance:Mr};var va=V.AcroForm;function ya(k){return k.reduce(function(g,y,w){return g[y]=w,g},{})}(function(k){k.__addimage__={};var g="UNKNOWN",y={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},w=k.__addimage__.getImageFileTypeByImageData=function(ie,zt){var se,ae,$e,Ze,pr,Re=g;if((zt=zt||g)==="RGBA"||ie.data!==void 0&&ie.data instanceof Uint8ClampedArray&&"height"in ie&&"width"in ie)return"RGBA";if(fr(ie))for(pr in y)for($e=y[pr],se=0;se<$e.length;se+=1){for(Ze=!0,ae=0;ae<$e[se].length;ae+=1)if($e[se][ae]!==void 0&&$e[se][ae]!==ie[ae]){Ze=!1;break}if(Ze===!0){Re=pr;break}}else for(pr in y)for($e=y[pr],se=0;se<$e.length;se+=1){for(Ze=!0,ae=0;ae<$e[se].length;ae+=1)if($e[se][ae]!==void 0&&$e[se][ae]!==ie.charCodeAt(ae)){Ze=!1;break}if(Ze===!0){Re=pr;break}}return Re===g&&zt!==g&&(Re=zt),Re},T=function ie(zt){for(var se=this.internal.write,ae=this.internal.putStream,$e=(0,this.internal.getFilters)();$e.indexOf("FlateEncode")!==-1;)$e.splice($e.indexOf("FlateEncode"),1);zt.objectId=this.internal.newObject();var Ze=[];if(Ze.push({key:"Type",value:"/XObject"}),Ze.push({key:"Subtype",value:"/Image"}),Ze.push({key:"Width",value:zt.width}),Ze.push({key:"Height",value:zt.height}),zt.colorSpace===$t.INDEXED?Ze.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(zt.palette.length/3-1)+" "+("sMask"in zt&&zt.sMask!==void 0?zt.objectId+2:zt.objectId+1)+" 0 R]"}):(Ze.push({key:"ColorSpace",value:"/"+zt.colorSpace}),zt.colorSpace===$t.DEVICE_CMYK&&Ze.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ze.push({key:"BitsPerComponent",value:zt.bitsPerComponent}),"decodeParameters"in zt&&zt.decodeParameters!==void 0&&Ze.push({key:"DecodeParms",value:"<<"+zt.decodeParameters+">>"}),"transparency"in zt&&Array.isArray(zt.transparency)){for(var pr="",Re=0,br=zt.transparency.length;Re<br;Re++)pr+=zt.transparency[Re]+" "+zt.transparency[Re]+" ";Ze.push({key:"Mask",value:"["+pr+"]"})}zt.sMask!==void 0&&Ze.push({key:"SMask",value:zt.objectId+1+" 0 R"});var er=zt.filter!==void 0?["/"+zt.filter]:void 0;if(ae({data:zt.data,additionalKeyValues:Ze,alreadyAppliedFilters:er,objectId:zt.objectId}),se("endobj"),"sMask"in zt&&zt.sMask!==void 0){var Ar="/Predictor "+zt.predictor+" /Colors 1 /BitsPerComponent "+zt.bitsPerComponent+" /Columns "+zt.width,te={width:zt.width,height:zt.height,colorSpace:"DeviceGray",bitsPerComponent:zt.bitsPerComponent,decodeParameters:Ar,data:zt.sMask};"filter"in zt&&(te.filter=zt.filter),ie.call(this,te)}if(zt.colorSpace===$t.INDEXED){var wt=this.internal.newObject();ae({data:gr(new Uint8Array(zt.palette)),objectId:wt}),se("endobj")}},S=function(){var zt=this.internal.collections.addImage_images;for(var se in zt)T.call(this,zt[se])},L=function(){var zt,se=this.internal.collections.addImage_images,ae=this.internal.write;for(var $e in se)ae("/I"+(zt=se[$e]).index,zt.objectId,"0","R")},j=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",S),this.internal.events.subscribe("putXobjectDict",L))},I=function(){var zt=this.internal.collections.addImage_images;return j.call(this),zt},$=function(){return Object.keys(this.internal.collections.addImage_images).length},bt=function(zt){return typeof k["process"+zt.toUpperCase()]=="function"},vt=function(zt){return me()(zt)==="object"&&zt.nodeType===1},kt=function(zt,se){if(zt.nodeName==="IMG"&&zt.hasAttribute("src")){var ae=""+zt.getAttribute("src");if(ae.indexOf("data:image/")===0)return u(unescape(ae).split("base64,").pop());var $e=k.loadFile(ae,!0);if($e!==void 0)return $e}if(zt.nodeName==="CANVAS"){if(zt.width===0||zt.height===0)throw new Error("Given canvas must have data. Canvas width: "+zt.width+", height: "+zt.height);var Ze;switch(se){case"PNG":Ze="image/png";break;case"WEBP":Ze="image/webp";break;case"JPEG":case"JPG":default:Ze="image/jpeg"}return u(zt.toDataURL(Ze,1).split("base64,").pop())}},X=function(zt){var se=this.internal.collections.addImage_images;if(se){for(var ae in se)if(zt===se[ae].alias)return se[ae]}},Kt=function(zt,se,ae){return zt||se||(zt=-96,se=-96),zt<0&&(zt=-1*ae.width*72/zt/this.internal.scaleFactor),se<0&&(se=-1*ae.height*72/se/this.internal.scaleFactor),zt===0&&(zt=se*ae.width/ae.height),se===0&&(se=zt*ae.height/ae.width),[zt,se]},It=function(zt,se,ae,$e,Ze,pr){var Re=Kt.call(this,ae,$e,Ze),br=this.internal.getCoordinateString,er=this.internal.getVerticalCoordinateString,Ar=I.call(this);if(ae=Re[0],$e=Re[1],Ar[Ze.index]=Ze,pr){pr*=Math.PI/180;var te=Math.cos(pr),wt=Math.sin(pr),Qt=function(Ie){return Ie.toFixed(4)},ge=[Qt(te),Qt(wt),Qt(-1*wt),Qt(te),0,0,"cm"]}this.internal.write("q"),pr?(this.internal.write([1,"0","0",1,br(zt),er(se+$e),"cm"].join(" ")),this.internal.write(ge.join(" ")),this.internal.write([br(ae),"0","0",br($e),"0","0","cm"].join(" "))):this.internal.write([br(ae),"0","0",br($e),br(zt),er(se+$e),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ze.index+" Do"),this.internal.write("Q")},$t=k.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};k.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Mt=k.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},gt=k.__addimage__.sHashCode=function(ie){var zt,se,ae=0;if(typeof ie=="string")for(se=ie.length,zt=0;zt<se;zt++)ae=(ae<<5)-ae+ie.charCodeAt(zt),ae|=0;else if(fr(ie))for(se=ie.byteLength/2,zt=0;zt<se;zt++)ae=(ae<<5)-ae+ie[zt],ae|=0;return ae},Ae=k.__addimage__.validateStringAsBase64=function(ie){(ie=ie||"").toString().trim();var zt=!0;return ie.length===0&&(zt=!1),ie.length%4!=0&&(zt=!1),/^[A-Za-z0-9+/]+$/.test(ie.substr(0,ie.length-2))===!1&&(zt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ie.substr(-2))===!1&&(zt=!1),zt},Be=k.__addimage__.extractImageFromDataUrl=function(ie){var zt=(ie=ie||"").split("base64,"),se=null;if(zt.length===2){var ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(zt[0]);Array.isArray(ae)&&(se={mimeType:ae[1],charset:ae[2],data:zt[1]})}return se},tr=k.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};k.__addimage__.isArrayBuffer=function(ie){return tr()&&ie instanceof ArrayBuffer};var fr=k.__addimage__.isArrayBufferView=function(ie){return tr()&&typeof Uint32Array!="undefined"&&(ie instanceof Int8Array||ie instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&ie instanceof Uint8ClampedArray||ie instanceof Int16Array||ie instanceof Uint16Array||ie instanceof Int32Array||ie instanceof Uint32Array||ie instanceof Float32Array||ie instanceof Float64Array)},Ge=k.__addimage__.binaryStringToUint8Array=function(ie){for(var zt=ie.length,se=new Uint8Array(zt),ae=0;ae<zt;ae++)se[ae]=ie.charCodeAt(ae);return se},gr=k.__addimage__.arrayBufferToBinaryString=function(ie){for(var zt="",se=fr(ie)?ie:new Uint8Array(ie),ae=0;ae<se.length;ae+=8192)zt+=String.fromCharCode.apply(null,se.subarray(ae,ae+8192));return zt};k.addImage=function(){var ie,zt,se,ae,$e,Ze,pr,Re,br;if(typeof arguments[1]=="number"?(zt=g,se=arguments[1],ae=arguments[2],$e=arguments[3],Ze=arguments[4],pr=arguments[5],Re=arguments[6],br=arguments[7]):(zt=arguments[1],se=arguments[2],ae=arguments[3],$e=arguments[4],Ze=arguments[5],pr=arguments[6],Re=arguments[7],br=arguments[8]),me()(ie=arguments[0])==="object"&&!vt(ie)&&"imageData"in ie){var er=ie;ie=er.imageData,zt=er.format||zt||g,se=er.x||se||0,ae=er.y||ae||0,$e=er.w||er.width||$e,Ze=er.h||er.height||Ze,pr=er.alias||pr,Re=er.compression||Re,br=er.rotation||er.angle||br}var Ar=this.internal.getFilters();if(Re===void 0&&Ar.indexOf("FlateEncode")!==-1&&(Re="SLOW"),isNaN(se)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");j.call(this);var te=oe.call(this,ie,zt,pr,Re);return It.call(this,se,ae,$e,Ze,te,br),this};var oe=function(zt,se,ae,$e){var Ze,pr,Re;if(typeof zt=="string"&&w(zt)===g){zt=unescape(zt);var br=Ve(zt,!1);(br!==""||(br=k.loadFile(zt,!0))!==void 0)&&(zt=br)}if(vt(zt)&&(zt=kt(zt,se)),se=w(zt,se),!bt(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(((Re=ae)==null||Re.length===0)&&(ae=function(er){return typeof er=="string"||fr(er)?gt(er):fr(er.data)?gt(er.data):null}(zt)),(Ze=X.call(this,ae))||(tr()&&(zt instanceof Uint8Array||se==="RGBA"||(pr=zt,zt=Ge(zt))),Ze=this["process"+se.toUpperCase()](zt,$.call(this),ae,function(er){return er&&typeof er=="string"&&(er=er.toUpperCase()),er in k.image_compression?er:Mt.NONE}($e),pr)),!Ze)throw new Error("An unknown error occurred whilst processing the image.");return Ze},Ve=k.__addimage__.convertBase64ToBinaryString=function(ie,zt){var se;zt=typeof zt!="boolean"||zt;var ae,$e="";if(typeof ie=="string"){ae=(se=Be(ie))!==null?se.data:ie;try{$e=u(ae)}catch(Ze){if(zt)throw Ae(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ze.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $e};k.getImageProperties=function(ie){var zt,se,ae="";if(vt(ie)&&(ie=kt(ie)),typeof ie=="string"&&w(ie)===g&&((ae=Ve(ie,!1))===""&&(ae=k.loadFile(ie)||""),ie=ae),se=w(ie),!bt(se))throw new Error("addImage does not support files of type '"+se+"', please ensure that a plugin for '"+se+"' support is added.");if(!tr()||ie instanceof Uint8Array||(ie=Ge(ie)),!(zt=this["process"+se.toUpperCase()](ie)))throw new Error("An unknown error occurred whilst processing the image");return zt.fileType=se,zt}})(V.API),function(k){var g=function(w){if(w!==void 0&&w!="")return!0};V.API.events.push(["addPage",function(y){this.internal.getPageInfo(y.pageNumber).pageContext.annotations=[]}]),k.events.push(["putPage",function(y){for(var w,T,S,L=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString,I=this.internal.getPageInfoByObjId(y.objId),$=y.pageContext.annotations,bt=!1,vt=0;vt<$.length&&!bt;vt++)switch((w=$[vt]).type){case"link":(g(w.options.url)||g(w.options.pageNumber))&&(bt=!0);break;case"reference":case"text":case"freetext":bt=!0}if(bt!=0){this.internal.write("/Annots [");for(var kt=0;kt<$.length;kt++){w=$[kt];var X=this.internal.pdfEscape,Kt=this.internal.getEncryptor(y.objId);switch(w.type){case"reference":this.internal.write(" "+w.object.objId+" 0 R ");break;case"text":var It=this.internal.newAdditionalObject(),$t=this.internal.newAdditionalObject(),Mt=this.internal.getEncryptor(It.objId),gt=w.title||"Note";S="<</Type /Annot /Subtype /Text "+(T="/Rect ["+L(w.bounds.x)+" "+j(w.bounds.y+w.bounds.h)+" "+L(w.bounds.x+w.bounds.w)+" "+j(w.bounds.y)+"] ")+"/Contents ("+X(Mt(w.contents))+")",S+=" /Popup "+$t.objId+" 0 R",S+=" /P "+I.objId+" 0 R",S+=" /T ("+X(Mt(gt))+") >>",It.content=S;var Ae=It.objId+" 0 R";S="<</Type /Annot /Subtype /Popup "+(T="/Rect ["+L(w.bounds.x+30)+" "+j(w.bounds.y+w.bounds.h)+" "+L(w.bounds.x+w.bounds.w+30)+" "+j(w.bounds.y)+"] ")+" /Parent "+Ae,w.open&&(S+=" /Open true"),S+=" >>",$t.content=S,this.internal.write(It.objId,"0 R",$t.objId,"0 R");break;case"freetext":T="/Rect ["+L(w.bounds.x)+" "+j(w.bounds.y)+" "+L(w.bounds.x+w.bounds.w)+" "+j(w.bounds.y+w.bounds.h)+"] ";var Be=w.color||"#000000";S="<</Type /Annot /Subtype /FreeText "+T+"/Contents ("+X(Kt(w.contents))+")",S+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Be+")",S+=" /Border [0 0 0]",S+=" >>",this.internal.write(S);break;case"link":if(w.options.name){var tr=this.annotations._nameMap[w.options.name];w.options.pageNumber=tr.page,w.options.top=tr.y}else w.options.top||(w.options.top=0);if(T="/Rect ["+w.finalBounds.x+" "+w.finalBounds.y+" "+w.finalBounds.w+" "+w.finalBounds.h+"] ",S="",w.options.url)S="<</Type /Annot /Subtype /Link "+T+"/Border [0 0 0] /A <</S /URI /URI ("+X(Kt(w.options.url))+") >>";else if(w.options.pageNumber)switch(S="<</Type /Annot /Subtype /Link "+T+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(w.options.pageNumber).objId+" 0 R",w.options.magFactor=w.options.magFactor||"XYZ",w.options.magFactor){case"Fit":S+=" /Fit]";break;case"FitH":S+=" /FitH "+w.options.top+"]";break;case"FitV":w.options.left=w.options.left||0,S+=" /FitV "+w.options.left+"]";break;case"XYZ":default:var fr=j(w.options.top);w.options.left=w.options.left||0,w.options.zoom===void 0&&(w.options.zoom=0),S+=" /XYZ "+w.options.left+" "+fr+" "+w.options.zoom+"]"}S!=""&&(S+=" >>",this.internal.write(S))}}this.internal.write("]")}}]),k.createAnnotation=function(y){var w=this.internal.getCurrentPageInfo();switch(y.type){case"link":this.link(y.bounds.x,y.bounds.y,y.bounds.w,y.bounds.h,y);break;case"text":case"freetext":w.pageContext.annotations.push(y)}},k.link=function(y,w,T,S,L){var j=this.internal.getCurrentPageInfo(),I=this.internal.getCoordinateString,$=this.internal.getVerticalCoordinateString;j.pageContext.annotations.push({finalBounds:{x:I(y),y:$(w),w:I(y+T),h:$(w+S)},options:L,type:"link"})},k.textWithLink=function(y,w,T,S){var L,j,I=this.getTextWidth(y),$=this.internal.getLineHeight()/this.internal.scaleFactor;if(S.maxWidth!==void 0){j=S.maxWidth;var bt=this.splitTextToSize(y,j).length;L=Math.ceil($*bt)}else j=I,L=$;return this.text(y,w,T,S),T+=.2*$,S.align==="center"&&(w-=I/2),S.align==="right"&&(w-=I),this.link(w,T-$,j,L,S),I},k.getTextWidth=function(y){var w=this.internal.getFontSize();return this.getStringUnitWidth(y)*w/this.internal.scaleFactor}}(V.API),function(k){var g={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},y={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},w={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},T=[1570,1571,1573,1575];k.__arabicParser__={};var S=k.__arabicParser__.isInArabicSubstitutionA=function(It){return g[It.charCodeAt(0)]!==void 0},L=k.__arabicParser__.isArabicLetter=function(It){return typeof It=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(It)},j=k.__arabicParser__.isArabicEndLetter=function(It){return L(It)&&S(It)&&g[It.charCodeAt(0)].length<=2},I=k.__arabicParser__.isArabicAlfLetter=function(It){return L(It)&&T.indexOf(It.charCodeAt(0))>=0};k.__arabicParser__.arabicLetterHasIsolatedForm=function(It){return L(It)&&S(It)&&g[It.charCodeAt(0)].length>=1};var $=k.__arabicParser__.arabicLetterHasFinalForm=function(It){return L(It)&&S(It)&&g[It.charCodeAt(0)].length>=2};k.__arabicParser__.arabicLetterHasInitialForm=function(It){return L(It)&&S(It)&&g[It.charCodeAt(0)].length>=3};var bt=k.__arabicParser__.arabicLetterHasMedialForm=function(It){return L(It)&&S(It)&&g[It.charCodeAt(0)].length==4},vt=k.__arabicParser__.resolveLigatures=function(It){var $t=0,Mt=y,gt="",Ae=0;for($t=0;$t<It.length;$t+=1)Mt[It.charCodeAt($t)]!==void 0?(Ae++,typeof(Mt=Mt[It.charCodeAt($t)])=="number"&&(gt+=String.fromCharCode(Mt),Mt=y,Ae=0),$t===It.length-1&&(Mt=y,gt+=It.charAt($t-(Ae-1)),$t-=Ae-1,Ae=0)):(Mt=y,gt+=It.charAt($t-Ae),$t-=Ae,Ae=0);return gt};k.__arabicParser__.isArabicDiacritic=function(It){return It!==void 0&&w[It.charCodeAt(0)]!==void 0};var kt=k.__arabicParser__.getCorrectForm=function(It,$t,Mt){return L(It)?S(It)===!1?-1:!$(It)||!L($t)&&!L(Mt)||!L(Mt)&&j($t)||j(It)&&!L($t)||j(It)&&I($t)||j(It)&&j($t)?0:bt(It)&&L($t)&&!j($t)&&L(Mt)&&$(Mt)?3:j(It)||!L(Mt)?1:2:-1},X=function($t){var Mt=0,gt=0,Ae=0,Be="",tr="",fr="",Ge=($t=$t||"").split("\\s+"),gr=[];for(Mt=0;Mt<Ge.length;Mt+=1){for(gr.push(""),gt=0;gt<Ge[Mt].length;gt+=1)Be=Ge[Mt][gt],tr=Ge[Mt][gt-1],fr=Ge[Mt][gt+1],L(Be)?(Ae=kt(Be,tr,fr),gr[Mt]+=Ae!==-1?String.fromCharCode(g[Be.charCodeAt(0)][Ae]):Be):gr[Mt]+=Be;gr[Mt]=vt(gr[Mt])}return gr.join(" ")},Kt=k.__arabicParser__.processArabic=k.processArabic=function(){var It,$t=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Mt=[];if(Array.isArray($t)){var gt=0;for(Mt=[],gt=0;gt<$t.length;gt+=1)Array.isArray($t[gt])?Mt.push([X($t[gt][0]),$t[gt][1],$t[gt][2]]):Mt.push([X($t[gt])]);It=Mt}else It=X($t);return typeof arguments[0]=="string"?It:(arguments[0].text=It,arguments[0])};k.events.push(["preProcessText",Kt])}(V.API),V.API.autoPrint=function(k){var g;switch((k=k||{}).variant=k.variant||"non-conform",k.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+g+" 0 R")})}return this},function(k){var g=function(){var w=void 0;Object.defineProperty(this,"pdf",{get:function(){return w},set:function($){w=$}});var T=150;Object.defineProperty(this,"width",{get:function(){return T},set:function($){T=isNaN($)||Number.isInteger($)===!1||$<0?150:$,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=T+1)}});var S=300;Object.defineProperty(this,"height",{get:function(){return S},set:function($){S=isNaN($)||Number.isInteger($)===!1||$<0?300:$,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=S+1)}});var L=[];Object.defineProperty(this,"childNodes",{get:function(){return L},set:function($){L=$}});var j={};Object.defineProperty(this,"style",{get:function(){return j},set:function($){j=$}}),Object.defineProperty(this,"parentNode",{})};g.prototype.getContext=function(y,w){var T;if((y=y||"2d")!=="2d")return null;for(T in w)this.pdf.context2d.hasOwnProperty(T)&&(this.pdf.context2d[T]=w[T]);return this.pdf.context2d._canvas=this,this.pdf.context2d},g.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},k.events.push(["initialized",function(){this.canvas=new g,this.canvas.pdf=this}])}(V.API),function(k){var g={left:0,top:0,bottom:0,right:0},y=!1,w=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},g),this.internal.__cell__.margins.width=this.getPageWidth(),T.call(this))},T=function(){this.internal.__cell__.lastCell=new S,this.internal.__cell__.pages=1},S=function(){var $=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(Mt){$=Mt}});var bt=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return bt},set:function(Mt){bt=Mt}});var vt=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return vt},set:function(Mt){vt=Mt}});var kt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return kt},set:function(Mt){kt=Mt}});var X=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return X},set:function(Mt){X=Mt}});var Kt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Kt},set:function(Mt){Kt=Mt}});var It=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return It},set:function(Mt){It=Mt}}),this};S.prototype.clone=function(){return new S(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},S.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},k.setHeaderFunction=function(I){return w.call(this),this.internal.__cell__.headerFunction=typeof I=="function"?I:void 0,this},k.getTextDimensions=function(I,$){w.call(this);var bt=($=$||{}).fontSize||this.getFontSize(),vt=$.font||this.getFont(),kt=$.scaleFactor||this.internal.scaleFactor,X=0,Kt=0,It=0,$t=this;if(!Array.isArray(I)&&typeof I!="string"){if(typeof I!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");I=String(I)}var Mt=$.maxWidth;Mt>0?typeof I=="string"?I=this.splitTextToSize(I,Mt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Ae,Be){return Ae.concat($t.splitTextToSize(Be,Mt))},[])):I=Array.isArray(I)?I:[I];for(var gt=0;gt<I.length;gt++)X<(It=this.getStringUnitWidth(I[gt],{font:vt})*bt)&&(X=It);return X!==0&&(Kt=I.length),{w:X/=kt,h:Math.max((Kt*bt*this.getLineHeightFactor()-bt*(this.getLineHeightFactor()-1))/kt,0)}},k.cellAddPage=function(){w.call(this),this.addPage();var I=this.internal.__cell__.margins||g;return this.internal.__cell__.lastCell=new S(I.left,I.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var L=k.cell=function(){var I;I=arguments[0]instanceof S?arguments[0]:new S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),w.call(this);var $=this.internal.__cell__.lastCell,bt=this.internal.__cell__.padding,vt=this.internal.__cell__.margins||g,kt=this.internal.__cell__.tableHeaderRow,X=this.internal.__cell__.printHeaders;return $.lineNumber!==void 0&&($.lineNumber===I.lineNumber?(I.x=($.x||0)+($.width||0),I.y=$.y||0):$.y+$.height+I.height+vt.bottom>this.getPageHeight()?(this.cellAddPage(),I.y=vt.top,X&&kt&&(this.printHeaderRow(I.lineNumber,!0),I.y+=kt[0].height)):I.y=$.y+$.height||I.y),I.text[0]!==void 0&&(this.rect(I.x,I.y,I.width,I.height,y===!0?"FD":void 0),I.align==="right"?this.text(I.text,I.x+I.width-bt,I.y+bt,{align:"right",baseline:"top"}):I.align==="center"?this.text(I.text,I.x+I.width/2,I.y+bt,{align:"center",baseline:"top",maxWidth:I.width-bt-bt}):this.text(I.text,I.x+bt,I.y+bt,{align:"left",baseline:"top",maxWidth:I.width-bt-bt})),this.internal.__cell__.lastCell=I,this};k.table=function(I,$,bt,vt,kt){if(w.call(this),!bt)throw new Error("No data for PDF table.");var X,Kt,It,$t,Mt=[],gt=[],Ae=[],Be={},tr={},fr=[],Ge=[],gr=(kt=kt||{}).autoSize||!1,oe=kt.printHeaders!==!1,Ve=kt.css&&kt.css["font-size"]!==void 0?16*kt.css["font-size"]:kt.fontSize||12,ie=kt.margins||Object.assign({width:this.getPageWidth()},g),zt=typeof kt.padding=="number"?kt.padding:3,se=kt.headerBackgroundColor||"#c8c8c8",ae=kt.headerTextColor||"#000";if(T.call(this),this.internal.__cell__.printHeaders=oe,this.internal.__cell__.margins=ie,this.internal.__cell__.table_font_size=Ve,this.internal.__cell__.padding=zt,this.internal.__cell__.headerBackgroundColor=se,this.internal.__cell__.headerTextColor=ae,this.setFontSize(Ve),vt==null)gt=Mt=Object.keys(bt[0]),Ae=Mt.map(function(){return"left"});else if(Array.isArray(vt)&&me()(vt[0])==="object")for(Mt=vt.map(function(er){return er.name}),gt=vt.map(function(er){return er.prompt||er.name||""}),Ae=vt.map(function(er){return er.align||"left"}),X=0;X<vt.length;X+=1)tr[vt[X].name]=vt[X].width*(19.049976/25.4);else Array.isArray(vt)&&typeof vt[0]=="string"&&(gt=Mt=vt,Ae=Mt.map(function(){return"left"}));if(gr||Array.isArray(vt)&&typeof vt[0]=="string")for(X=0;X<Mt.length;X+=1){for(Be[$t=Mt[X]]=bt.map(function(er){return er[$t]}),this.setFont(void 0,"bold"),fr.push(this.getTextDimensions(gt[X],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Kt=Be[$t],this.setFont(void 0,"normal"),It=0;It<Kt.length;It+=1)fr.push(this.getTextDimensions(Kt[It],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);tr[$t]=Math.max.apply(null,fr)+zt+zt,fr=[]}if(oe){var $e={};for(X=0;X<Mt.length;X+=1)$e[Mt[X]]={},$e[Mt[X]].text=gt[X],$e[Mt[X]].align=Ae[X];var Ze=j.call(this,$e,tr);Ge=Mt.map(function(er){return new S(I,$,tr[er],Ze,$e[er].text,void 0,$e[er].align)}),this.setTableHeaderRow(Ge),this.printHeaderRow(1,!1)}var pr=vt.reduce(function(er,Ar){return er[Ar.name]=Ar.align,er},{});for(X=0;X<bt.length;X+=1){"rowStart"in kt&&kt.rowStart instanceof Function&&kt.rowStart({row:X,data:bt[X]},this);var Re=j.call(this,bt[X],tr);for(It=0;It<Mt.length;It+=1){var br=bt[X][Mt[It]];"cellStart"in kt&&kt.cellStart instanceof Function&&kt.cellStart({row:X,col:It,data:br},this),L.call(this,new S(I,$,tr[Mt[It]],Re,br,X+2,pr[Mt[It]]))}}return this.internal.__cell__.table_x=I,this.internal.__cell__.table_y=$,this};var j=function($,bt){var vt=this.internal.__cell__.padding,kt=this.internal.__cell__.table_font_size,X=this.internal.scaleFactor;return Object.keys($).map(function(Kt){var It=$[Kt];return this.splitTextToSize(It.hasOwnProperty("text")?It.text:It,bt[Kt]-vt-vt)},this).map(function(Kt){return this.getLineHeightFactor()*Kt.length*kt/X+vt+vt},this).reduce(function(Kt,It){return Math.max(Kt,It)},0)};k.setTableHeaderRow=function(I){w.call(this),this.internal.__cell__.tableHeaderRow=I},k.printHeaderRow=function(I,$){if(w.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var bt;if(y=!0,typeof this.internal.__cell__.headerFunction=="function"){var vt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new S(vt[0],vt[1],vt[2],vt[3],void 0,-1)}this.setFont(void 0,"bold");for(var kt=[],X=0;X<this.internal.__cell__.tableHeaderRow.length;X+=1){bt=this.internal.__cell__.tableHeaderRow[X].clone(),$&&(bt.y=this.internal.__cell__.margins.top||0,kt.push(bt)),bt.lineNumber=I;var Kt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),L.call(this,bt),this.setTextColor(Kt)}kt.length>0&&this.setTableHeaderRow(kt),this.setFont(void 0,"normal"),y=!1}}(V.API);var $o={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Qs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Va=ya(Qs),Co=[100,200,300,400,500,600,700,800,900],Ao=ya(Co);function hs(k){var g=k.family.replace(/"|'/g,"").toLowerCase(),y=function(S){return $o[S=S||"normal"]?S:"normal"}(k.style),w=function(S){if(!S)return 400;if(typeof S=="number")return S>=100&&S<=900&&S%100==0?S:400;if(/^\d00$/.test(S))return parseInt(S);switch(S){case"bold":return 700;case"normal":default:return 400}}(k.weight),T=function(S){return typeof Va[S=S||"normal"]=="number"?S:"normal"}(k.stretch);return{family:g,style:y,weight:w,stretch:T,src:k.src||[],ref:k.ref||{name:g,style:[T,y,w].join(" ")}}}function cs(k,g,y,w){var T;for(T=y;T>=0&&T<g.length;T+=w)if(k[g[T]])return k[g[T]];for(T=y;T>=0&&T<g.length;T-=w)if(k[g[T]])return k[g[T]]}var Ll={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},to={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ks(k){return[k.stretch,k.style,k.weight,k.family].join(" ")}function Es(k,g,y){for(var w=(y=y||{}).defaultFontFamily||"times",T=Object.assign({},Ll,y.genericFontFamilies||{}),S=null,L=null,j=0;j<g.length;++j)if(T[(S=hs(g[j])).family]&&(S.family=T[S.family]),k.hasOwnProperty(S.family)){L=k[S.family];break}if(!(L=L||k[w]))throw new Error("Could not find a font-family for the rule '"+ks(S)+"' and default family '"+w+"'.");if(L=function(I,$){if($[I])return $[I];var bt=Va[I],vt=bt<=Va.normal?-1:1,kt=cs($,Qs,bt,vt);if(!kt)throw new Error("Could not find a matching font-stretch value for "+I);return kt}(S.stretch,L),L=function(I,$){if($[I])return $[I];for(var bt=$o[I],vt=0;vt<bt.length;++vt)if($[bt[vt]])return $[bt[vt]];throw new Error("Could not find a matching font-style for "+I)}(S.style,L),!(L=function(I,$){if($[I])return $[I];if(I===400&&$[500])return $[500];if(I===500&&$[400])return $[400];var bt=Ao[I],vt=cs($,Co,bt,I<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+I);return vt}(S.weight,L)))throw new Error("Failed to resolve a font for the rule '"+ks(S)+"'.");return L}function To(k){return k.trimLeft()}function Qo(k,g){for(var y=0;y<k.length;){if(k.charAt(y)===g)return[k.substring(0,y),k.substring(y+1)];y+=1}return null}function Fs(k){var g=k.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return g===null?null:[g[0],k.substring(g[0].length)]}var Xa,tl,el,Z=["times"];(function(k){var g,y,w,T,S,L,j,I,$,bt=function(wt){return wt=wt||{},this.isStrokeTransparent=wt.isStrokeTransparent||!1,this.strokeOpacity=wt.strokeOpacity||1,this.strokeStyle=wt.strokeStyle||"#000000",this.fillStyle=wt.fillStyle||"#000000",this.isFillTransparent=wt.isFillTransparent||!1,this.fillOpacity=wt.fillOpacity||1,this.font=wt.font||"10px sans-serif",this.textBaseline=wt.textBaseline||"alphabetic",this.textAlign=wt.textAlign||"left",this.lineWidth=wt.lineWidth||1,this.lineJoin=wt.lineJoin||"miter",this.lineCap=wt.lineCap||"butt",this.path=wt.path||[],this.transform=wt.transform!==void 0?wt.transform.clone():new I,this.globalCompositeOperation=wt.globalCompositeOperation||"normal",this.globalAlpha=wt.globalAlpha||1,this.clip_path=wt.clip_path||[],this.currentPoint=wt.currentPoint||new L,this.miterLimit=wt.miterLimit||10,this.lastPoint=wt.lastPoint||new L,this.lineDashOffset=wt.lineDashOffset||0,this.lineDash=wt.lineDash||[],this.margin=wt.margin||[0,0,0,0],this.prevPageLastElemOffset=wt.prevPageLastElemOffset||0,this.ignoreClearRect=typeof wt.ignoreClearRect!="boolean"||wt.ignoreClearRect,this};k.events.push(["initialized",function(){this.context2d=new vt(this),g=this.internal.f2,y=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString,T=this.internal.getHorizontalCoordinate,S=this.internal.getVerticalCoordinate,L=this.internal.Point,j=this.internal.Rectangle,I=this.internal.Matrix,$=new bt}]);var vt=function(wt){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Qt=wt;Object.defineProperty(this,"pdf",{get:function(){return Qt}});var ge=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ge},set:function(sr){ge=Boolean(sr)}});var Pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Pe},set:function(sr){Pe=Boolean(sr)}});var Ie=0;Object.defineProperty(this,"posX",{get:function(){return Ie},set:function(sr){isNaN(sr)||(Ie=sr)}});var ar=0;Object.defineProperty(this,"posY",{get:function(){return ar},set:function(sr){isNaN(sr)||(ar=sr)}}),Object.defineProperty(this,"margin",{get:function(){return $.margin},set:function(sr){var Fr;typeof sr=="number"?Fr=[sr,sr,sr,sr]:((Fr=new Array(4))[0]=sr[0],Fr[1]=sr.length>=2?sr[1]:Fr[0],Fr[2]=sr.length>=3?sr[2]:Fr[0],Fr[3]=sr.length>=4?sr[3]:Fr[1]),$.margin=Fr}});var We=!1;Object.defineProperty(this,"autoPaging",{get:function(){return We},set:function(sr){We=sr}});var Ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ye},set:function(sr){Ye=sr}});var mr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return mr},set:function(sr){mr=sr}}),Object.defineProperty(this,"ctx",{get:function(){return $},set:function(sr){sr instanceof bt&&($=sr)}}),Object.defineProperty(this,"path",{get:function(){return $.path},set:function(sr){$.path=sr}});var Wr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wr},set:function(sr){Wr=sr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(sr){var Fr;Fr=kt(sr),this.ctx.fillStyle=Fr.style,this.ctx.isFillTransparent=Fr.a===0,this.ctx.fillOpacity=Fr.a,this.pdf.setFillColor(Fr.r,Fr.g,Fr.b,{a:Fr.a}),this.pdf.setTextColor(Fr.r,Fr.g,Fr.b,{a:Fr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(sr){var Fr=kt(sr);this.ctx.strokeStyle=Fr.style,this.ctx.isStrokeTransparent=Fr.a===0,this.ctx.strokeOpacity=Fr.a,Fr.a===0?this.pdf.setDrawColor(255,255,255):(Fr.a,this.pdf.setDrawColor(Fr.r,Fr.g,Fr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(sr){["butt","round","square"].indexOf(sr)!==-1&&(this.ctx.lineCap=sr,this.pdf.setLineCap(sr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(sr){isNaN(sr)||(this.ctx.lineWidth=sr,this.pdf.setLineWidth(sr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(sr){["bevel","round","miter"].indexOf(sr)!==-1&&(this.ctx.lineJoin=sr,this.pdf.setLineJoin(sr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(sr){isNaN(sr)||(this.ctx.miterLimit=sr,this.pdf.setMiterLimit(sr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(sr){this.ctx.textBaseline=sr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(sr){["right","end","center","left","start"].indexOf(sr)!==-1&&(this.ctx.textAlign=sr)}});var Pr=null;function rn(qt,sr){if(Pr===null){var Fr=function(ir){var Ir=[];return Object.keys(ir).forEach(function(Tr){ir[Tr].forEach(function(zr){var Hr=null;switch(zr){case"bold":Hr={family:Tr,weight:"bold"};break;case"italic":Hr={family:Tr,style:"italic"};break;case"bolditalic":Hr={family:Tr,weight:"bold",style:"italic"};break;case"":case"normal":Hr={family:Tr}}Hr!==null&&(Hr.ref={name:Tr,style:zr},Ir.push(Hr))})}),Ir}(qt.getFontList());Pr=function(ir){for(var Ir={},Tr=0;Tr<ir.length;++Tr){var zr=hs(ir[Tr]),Hr=zr.family,Xr=zr.stretch,In=zr.style,en=zr.weight;Ir[Hr]=Ir[Hr]||{},Ir[Hr][Xr]=Ir[Hr][Xr]||{},Ir[Hr][Xr][In]=Ir[Hr][Xr][In]||{},Ir[Hr][Xr][In][en]=zr}return Ir}(Fr.concat(sr))}return Pr}var Vr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Vr},set:function(sr){Pr=null,Vr=sr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(sr){var Fr;if(this.ctx.font=sr,(Fr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(sr))!==null){var ir=Fr[1],Ir=(Fr[2],Fr[3]),Tr=Fr[4],zr=(Fr[5],Fr[6]),Hr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Tr)[2];Tr=Math.floor(Hr==="px"?parseFloat(Tr)*this.pdf.internal.scaleFactor:Hr==="em"?parseFloat(Tr)*this.pdf.getFontSize():parseFloat(Tr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Tr);var Xr=function(Nr){var Bi,Vn,Ci=[],bn=Nr.trim();if(bn==="")return Z;if(bn in to)return[to[bn]];for(;bn!=="";){switch(Vn=null,Bi=(bn=To(bn)).charAt(0)){case'"':case"'":Vn=Qo(bn.substring(1),Bi);break;default:Vn=Fs(bn)}if(Vn===null||(Ci.push(Vn[0]),(bn=To(Vn[1]))!==""&&bn.charAt(0)!==","))return Z;bn=bn.replace(/^,/,"")}return Ci}(zr);if(this.fontFaces){var In=Es(rn(this.pdf,this.fontFaces),Xr.map(function(Nr){return{family:Nr,stretch:"normal",weight:Ir,style:ir}}));this.pdf.setFont(In.ref.name,In.ref.style)}else{var en="";(Ir==="bold"||parseInt(Ir,10)>=700||ir==="bold")&&(en="bold"),ir==="italic"&&(en+="italic"),en.length===0&&(en="normal");for(var Tn="",qn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Kr=0;Kr<Xr.length;Kr++){if(this.pdf.internal.getFont(Xr[Kr],en,{noFallback:!0,disableWarning:!0})!==void 0){Tn=Xr[Kr];break}if(en==="bolditalic"&&this.pdf.internal.getFont(Xr[Kr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tn=Xr[Kr],en="bold";else if(this.pdf.internal.getFont(Xr[Kr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tn=Xr[Kr],en="normal";break}}if(Tn===""){for(var dn=0;dn<Xr.length;dn++)if(qn[Xr[dn]]){Tn=qn[Xr[dn]];break}}Tn=Tn===""?"Times":Tn,this.pdf.setFont(Tn,en)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(sr){this.ctx.globalCompositeOperation=sr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(sr){this.ctx.globalAlpha=sr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(sr){this.ctx.lineDashOffset=sr,Ar.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(sr){this.ctx.lineDash=sr,Ar.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(sr){this.ctx.ignoreClearRect=Boolean(sr)}})};vt.prototype.setLineDash=function(te){this.lineDash=te},vt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},vt.prototype.fill=function(){Be.call(this,"fill",!1)},vt.prototype.stroke=function(){Be.call(this,"stroke",!1)},vt.prototype.beginPath=function(){this.path=[{type:"begin"}]},vt.prototype.moveTo=function(te,wt){if(isNaN(te)||isNaN(wt))throw tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Qt=this.ctx.transform.applyToPoint(new L(te,wt));this.path.push({type:"mt",x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new L(te,wt)},vt.prototype.closePath=function(){var te=new L(0,0),wt=0;for(wt=this.path.length-1;wt!==-1;wt--)if(this.path[wt].type==="begin"&&me()(this.path[wt+1])==="object"&&typeof this.path[wt+1].x=="number"){te=new L(this.path[wt+1].x,this.path[wt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new L(te.x,te.y)},vt.prototype.lineTo=function(te,wt){if(isNaN(te)||isNaN(wt))throw tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Qt=this.ctx.transform.applyToPoint(new L(te,wt));this.path.push({type:"lt",x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new L(Qt.x,Qt.y)},vt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Be.call(this,null,!0)},vt.prototype.quadraticCurveTo=function(te,wt,Qt,ge){if(isNaN(Qt)||isNaN(ge)||isNaN(te)||isNaN(wt))throw tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Pe=this.ctx.transform.applyToPoint(new L(Qt,ge)),Ie=this.ctx.transform.applyToPoint(new L(te,wt));this.path.push({type:"qct",x1:Ie.x,y1:Ie.y,x:Pe.x,y:Pe.y}),this.ctx.lastPoint=new L(Pe.x,Pe.y)},vt.prototype.bezierCurveTo=function(te,wt,Qt,ge,Pe,Ie){if(isNaN(Pe)||isNaN(Ie)||isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge))throw tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ar=this.ctx.transform.applyToPoint(new L(Pe,Ie)),We=this.ctx.transform.applyToPoint(new L(te,wt)),Ye=this.ctx.transform.applyToPoint(new L(Qt,ge));this.path.push({type:"bct",x1:We.x,y1:We.y,x2:Ye.x,y2:Ye.y,x:ar.x,y:ar.y}),this.ctx.lastPoint=new L(ar.x,ar.y)},vt.prototype.arc=function(te,wt,Qt,ge,Pe,Ie){if(isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge)||isNaN(Pe))throw tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ie=Boolean(Ie),!this.ctx.transform.isIdentity){var ar=this.ctx.transform.applyToPoint(new L(te,wt));te=ar.x,wt=ar.y;var We=this.ctx.transform.applyToPoint(new L(0,Qt)),Ye=this.ctx.transform.applyToPoint(new L(0,0));Qt=Math.sqrt(Math.pow(We.x-Ye.x,2)+Math.pow(We.y-Ye.y,2))}Math.abs(Pe-ge)>=2*Math.PI&&(ge=0,Pe=2*Math.PI),this.path.push({type:"arc",x:te,y:wt,radius:Qt,startAngle:ge,endAngle:Pe,counterclockwise:Ie})},vt.prototype.arcTo=function(te,wt,Qt,ge,Pe){throw new Error("arcTo not implemented.")},vt.prototype.rect=function(te,wt,Qt,ge){if(isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge))throw tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(te,wt),this.lineTo(te+Qt,wt),this.lineTo(te+Qt,wt+ge),this.lineTo(te,wt+ge),this.lineTo(te,wt),this.lineTo(te+Qt,wt),this.lineTo(te,wt)},vt.prototype.fillRect=function(te,wt,Qt,ge){if(isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge))throw tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!X.call(this)){var Pe={};this.lineCap!=="butt"&&(Pe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Pe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(te,wt,Qt,ge),this.fill(),Pe.hasOwnProperty("lineCap")&&(this.lineCap=Pe.lineCap),Pe.hasOwnProperty("lineJoin")&&(this.lineJoin=Pe.lineJoin)}},vt.prototype.strokeRect=function(te,wt,Qt,ge){if(isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge))throw tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Kt.call(this)||(this.beginPath(),this.rect(te,wt,Qt,ge),this.stroke())},vt.prototype.clearRect=function(te,wt,Qt,ge){if(isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge))throw tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(te,wt,Qt,ge))},vt.prototype.save=function(te){te=typeof te!="boolean"||te;for(var wt=this.pdf.internal.getCurrentPageInfo().pageNumber,Qt=0;Qt<this.pdf.internal.getNumberOfPages();Qt++)this.pdf.setPage(Qt+1),this.pdf.internal.out("q");if(this.pdf.setPage(wt),te){this.ctx.fontSize=this.pdf.internal.getFontSize();var ge=new bt(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ge}},vt.prototype.restore=function(te){te=typeof te!="boolean"||te;for(var wt=this.pdf.internal.getCurrentPageInfo().pageNumber,Qt=0;Qt<this.pdf.internal.getNumberOfPages();Qt++)this.pdf.setPage(Qt+1),this.pdf.internal.out("Q");this.pdf.setPage(wt),te&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},vt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var kt=function(wt){var Qt,ge,Pe,Ie;if(wt.isCanvasGradient===!0&&(wt=wt.getColor()),!wt)return{r:0,g:0,b:0,a:0,style:wt};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(wt))Qt=0,ge=0,Pe=0,Ie=0;else{var ar=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(wt);if(ar!==null)Qt=parseInt(ar[1]),ge=parseInt(ar[2]),Pe=parseInt(ar[3]),Ie=1;else if((ar=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(wt))!==null)Qt=parseInt(ar[1]),ge=parseInt(ar[2]),Pe=parseInt(ar[3]),Ie=parseFloat(ar[4]);else{if(Ie=1,typeof wt=="string"&&wt.charAt(0)!=="#"){var We=new n(wt);wt=We.ok?We.toHex():"#000000"}wt.length===4?(Qt=wt.substring(1,2),Qt+=Qt,ge=wt.substring(2,3),ge+=ge,Pe=wt.substring(3,4),Pe+=Pe):(Qt=wt.substring(1,3),ge=wt.substring(3,5),Pe=wt.substring(5,7)),Qt=parseInt(Qt,16),ge=parseInt(ge,16),Pe=parseInt(Pe,16)}}return{r:Qt,g:ge,b:Pe,a:Ie,style:wt}},X=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Kt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};vt.prototype.fillText=function(te,wt,Qt,ge){if(isNaN(wt)||isNaN(Qt)||typeof te!="string")throw tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ge=isNaN(ge)?void 0:ge,!X.call(this)){var Pe=Re(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;zt.call(this,{text:te,x:wt,y:Qt,scale:Ie,angle:Pe,align:this.textAlign,maxWidth:ge})}},vt.prototype.strokeText=function(te,wt,Qt,ge){if(isNaN(wt)||isNaN(Qt)||typeof te!="string")throw tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Kt.call(this)){ge=isNaN(ge)?void 0:ge;var Pe=Re(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;zt.call(this,{text:te,x:wt,y:Qt,scale:Ie,renderingMode:"stroke",angle:Pe,align:this.textAlign,maxWidth:ge})}},vt.prototype.measureText=function(te){if(typeof te!="string")throw tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var wt=this.pdf,Qt=this.pdf.internal.scaleFactor,ge=wt.internal.getFontSize(),Pe=wt.getStringUnitWidth(te)*ge/wt.internal.scaleFactor,Ie=function(We){var Ye=(We=We||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ye}}),this};return new Ie({width:Pe*=Math.round(96*Qt/72*1e4)/1e4})},vt.prototype.scale=function(te,wt){if(isNaN(te)||isNaN(wt))throw tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Qt=new I(te,0,0,wt,0,0);this.ctx.transform=this.ctx.transform.multiply(Qt)},vt.prototype.rotate=function(te){if(isNaN(te))throw tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var wt=new I(Math.cos(te),Math.sin(te),-Math.sin(te),Math.cos(te),0,0);this.ctx.transform=this.ctx.transform.multiply(wt)},vt.prototype.translate=function(te,wt){if(isNaN(te)||isNaN(wt))throw tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Qt=new I(1,0,0,1,te,wt);this.ctx.transform=this.ctx.transform.multiply(Qt)},vt.prototype.transform=function(te,wt,Qt,ge,Pe,Ie){if(isNaN(te)||isNaN(wt)||isNaN(Qt)||isNaN(ge)||isNaN(Pe)||isNaN(Ie))throw tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ar=new I(te,wt,Qt,ge,Pe,Ie);this.ctx.transform=this.ctx.transform.multiply(ar)},vt.prototype.setTransform=function(te,wt,Qt,ge,Pe,Ie){te=isNaN(te)?1:te,wt=isNaN(wt)?0:wt,Qt=isNaN(Qt)?0:Qt,ge=isNaN(ge)?1:ge,Pe=isNaN(Pe)?0:Pe,Ie=isNaN(Ie)?0:Ie,this.ctx.transform=new I(te,wt,Qt,ge,Pe,Ie)};var It=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};vt.prototype.drawImage=function(te,wt,Qt,ge,Pe,Ie,ar,We,Ye){var mr=this.pdf.getImageProperties(te),Wr=1,Pr=1,rn=1,Vr=1;ge!==void 0&&We!==void 0&&(rn=We/ge,Vr=Ye/Pe,Wr=mr.width/ge*We/ge,Pr=mr.height/Pe*Ye/Pe),Ie===void 0&&(Ie=wt,ar=Qt,wt=0,Qt=0),ge!==void 0&&We===void 0&&(We=ge,Ye=Pe),ge===void 0&&We===void 0&&(We=mr.width,Ye=mr.height);for(var qt,sr=this.ctx.transform.decompose(),Fr=Re(sr.rotate.shx),ir=new I,Ir=(ir=(ir=(ir=ir.multiply(sr.translate)).multiply(sr.skew)).multiply(sr.scale)).applyToRectangle(new j(Ie-wt*rn,ar-Qt*Vr,ge*Wr,Pe*Pr)),Tr=$t.call(this,Ir),zr=[],Hr=0;Hr<Tr.length;Hr+=1)zr.indexOf(Tr[Hr])===-1&&zr.push(Tr[Hr]);if(Ae(zr),this.autoPaging)for(var Xr=zr[0],In=zr[zr.length-1],en=Xr;en<In+1;en++){this.pdf.setPage(en);var Tn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qn=en===1?this.posY+this.margin[0]:this.margin[0],Kr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nr=en===1?0:Kr+(en-2)*dn;if(this.ctx.clip_path.length!==0){var Bi=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(qt,this.posX+this.margin[3],-Nr+qn+this.ctx.prevPageLastElemOffset),tr.call(this,"fill",!0),this.path=Bi}var Vn=JSON.parse(JSON.stringify(Ir));Vn=gt([Vn],this.posX+this.margin[3],-Nr+qn+this.ctx.prevPageLastElemOffset)[0];var Ci=(en>Xr||en<In)&&It.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tn,dn,null).clip().discardPath()),this.pdf.addImage(te,"JPEG",Vn.x,Vn.y,Vn.w,Vn.h,null,null,Fr),Ci&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(te,"JPEG",Ir.x,Ir.y,Ir.w,Ir.h,null,null,Fr)};var $t=function(wt,Qt,ge){var Pe=[];Qt=Qt||this.pdf.internal.pageSize.width,ge=ge||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ie=this.posY+this.ctx.prevPageLastElemOffset;switch(wt.type){default:case"mt":case"lt":Pe.push(Math.floor((wt.y+Ie)/ge)+1);break;case"arc":Pe.push(Math.floor((wt.y+Ie-wt.radius)/ge)+1),Pe.push(Math.floor((wt.y+Ie+wt.radius)/ge)+1);break;case"qct":var ar=br(this.ctx.lastPoint.x,this.ctx.lastPoint.y,wt.x1,wt.y1,wt.x,wt.y);Pe.push(Math.floor((ar.y+Ie)/ge)+1),Pe.push(Math.floor((ar.y+ar.h+Ie)/ge)+1);break;case"bct":var We=er(this.ctx.lastPoint.x,this.ctx.lastPoint.y,wt.x1,wt.y1,wt.x2,wt.y2,wt.x,wt.y);Pe.push(Math.floor((We.y+Ie)/ge)+1),Pe.push(Math.floor((We.y+We.h+Ie)/ge)+1);break;case"rect":Pe.push(Math.floor((wt.y+Ie)/ge)+1),Pe.push(Math.floor((wt.y+wt.h+Ie)/ge)+1)}for(var Ye=0;Ye<Pe.length;Ye+=1)for(;this.pdf.internal.getNumberOfPages()<Pe[Ye];)Mt.call(this);return Pe},Mt=function(){var wt=this.fillStyle,Qt=this.strokeStyle,ge=this.font,Pe=this.lineCap,Ie=this.lineWidth,ar=this.lineJoin;this.pdf.addPage(),this.fillStyle=wt,this.strokeStyle=Qt,this.font=ge,this.lineCap=Pe,this.lineWidth=Ie,this.lineJoin=ar},gt=function(wt,Qt,ge){for(var Pe=0;Pe<wt.length;Pe++)switch(wt[Pe].type){case"bct":wt[Pe].x2+=Qt,wt[Pe].y2+=ge;case"qct":wt[Pe].x1+=Qt,wt[Pe].y1+=ge;case"mt":case"lt":case"arc":default:wt[Pe].x+=Qt,wt[Pe].y+=ge}return wt},Ae=function(wt){return wt.sort(function(Qt,ge){return Qt-ge})},Be=function(wt,Qt){for(var ge,Pe,Ie=this.fillStyle,ar=this.strokeStyle,We=this.lineCap,Ye=this.lineWidth,mr=Math.abs(Ye*this.ctx.transform.scaleX),Wr=this.lineJoin,Pr=JSON.parse(JSON.stringify(this.path)),rn=JSON.parse(JSON.stringify(this.path)),Vr=[],qt=0;qt<rn.length;qt++)if(rn[qt].x!==void 0)for(var sr=$t.call(this,rn[qt]),Fr=0;Fr<sr.length;Fr+=1)Vr.indexOf(sr[Fr])===-1&&Vr.push(sr[Fr]);for(var ir=0;ir<Vr.length;ir++)for(;this.pdf.internal.getNumberOfPages()<Vr[ir];)Mt.call(this);if(Ae(Vr),this.autoPaging)for(var Ir=Vr[0],Tr=Vr[Vr.length-1],zr=Ir;zr<Tr+1;zr++){this.pdf.setPage(zr),this.fillStyle=Ie,this.strokeStyle=ar,this.lineCap=We,this.lineWidth=mr,this.lineJoin=Wr;var Hr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xr=zr===1?this.posY+this.margin[0]:this.margin[0],In=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tn=zr===1?0:In+(zr-2)*en;if(this.ctx.clip_path.length!==0){var qn=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(ge,this.posX+this.margin[3],-Tn+Xr+this.ctx.prevPageLastElemOffset),tr.call(this,wt,!0),this.path=qn}if(Pe=JSON.parse(JSON.stringify(Pr)),this.path=gt(Pe,this.posX+this.margin[3],-Tn+Xr+this.ctx.prevPageLastElemOffset),Qt===!1||zr===0){var Kr=(zr>Ir||zr<Tr)&&It.call(this);Kr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hr,en,null).clip().discardPath()),tr.call(this,wt,Qt),Kr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ye}else this.lineWidth=mr,tr.call(this,wt,Qt),this.lineWidth=Ye;this.path=Pr},tr=function(wt,Qt){if((wt!=="stroke"||Qt||!Kt.call(this))&&(wt==="stroke"||Qt||!X.call(this))){for(var ge,Pe,Ie=[],ar=this.path,We=0;We<ar.length;We++){var Ye=ar[We];switch(Ye.type){case"begin":Ie.push({begin:!0});break;case"close":Ie.push({close:!0});break;case"mt":Ie.push({start:Ye,deltas:[],abs:[]});break;case"lt":var mr=Ie.length;if(ar[We-1]&&!isNaN(ar[We-1].x)&&(ge=[Ye.x-ar[We-1].x,Ye.y-ar[We-1].y],mr>0)){for(;mr>=0;mr--)if(Ie[mr-1].close!==!0&&Ie[mr-1].begin!==!0){Ie[mr-1].deltas.push(ge),Ie[mr-1].abs.push(Ye);break}}break;case"bct":ge=[Ye.x1-ar[We-1].x,Ye.y1-ar[We-1].y,Ye.x2-ar[We-1].x,Ye.y2-ar[We-1].y,Ye.x-ar[We-1].x,Ye.y-ar[We-1].y],Ie[Ie.length-1].deltas.push(ge);break;case"qct":var Wr=ar[We-1].x+2/3*(Ye.x1-ar[We-1].x),Pr=ar[We-1].y+2/3*(Ye.y1-ar[We-1].y),rn=Ye.x+2/3*(Ye.x1-Ye.x),Vr=Ye.y+2/3*(Ye.y1-Ye.y),qt=Ye.x,sr=Ye.y;ge=[Wr-ar[We-1].x,Pr-ar[We-1].y,rn-ar[We-1].x,Vr-ar[We-1].y,qt-ar[We-1].x,sr-ar[We-1].y],Ie[Ie.length-1].deltas.push(ge);break;case"arc":Ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ie[Ie.length-1].abs)&&Ie[Ie.length-1].abs.push(Ye)}}Pe=Qt?null:wt==="stroke"?"stroke":"fill";for(var Fr=!1,ir=0;ir<Ie.length;ir++)if(Ie[ir].arc)for(var Ir=Ie[ir].abs,Tr=0;Tr<Ir.length;Tr++){var zr=Ir[Tr];zr.type==="arc"?gr.call(this,zr.x,zr.y,zr.radius,zr.startAngle,zr.endAngle,zr.counterclockwise,void 0,Qt,!Fr):se.call(this,zr.x,zr.y),Fr=!0}else if(Ie[ir].close===!0)this.pdf.internal.out("h"),Fr=!1;else if(Ie[ir].begin!==!0){var Hr=Ie[ir].start.x,Xr=Ie[ir].start.y;ae.call(this,Ie[ir].deltas,Hr,Xr),Fr=!0}Pe&&oe.call(this,Pe),Qt&&Ve.call(this)}},fr=function(wt){var Qt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ge=Qt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return wt-ge;case"top":return wt+Qt-ge;case"hanging":return wt+Qt-2*ge;case"middle":return wt+Qt/2-ge;case"ideographic":return wt;case"alphabetic":default:return wt}},Ge=function(wt){return wt+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};vt.prototype.createLinearGradient=function(){var te=function(){};return te.colorStops=[],te.addColorStop=function(wt,Qt){this.colorStops.push([wt,Qt])},te.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},te.isCanvasGradient=!0,te},vt.prototype.createPattern=function(){return this.createLinearGradient()},vt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var gr=function(wt,Qt,ge,Pe,Ie,ar,We,Ye,mr){for(var Wr=Ze.call(this,ge,Pe,Ie,ar),Pr=0;Pr<Wr.length;Pr++){var rn=Wr[Pr];Pr===0&&(mr?ie.call(this,rn.x1+wt,rn.y1+Qt):se.call(this,rn.x1+wt,rn.y1+Qt)),$e.call(this,wt,Qt,rn.x2,rn.y2,rn.x3,rn.y3,rn.x4,rn.y4)}Ye?Ve.call(this):oe.call(this,We)},oe=function(wt){switch(wt){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ve=function(){this.pdf.clip(),this.pdf.discardPath()},ie=function(wt,Qt){this.pdf.internal.out(y(wt)+" "+w(Qt)+" m")},zt=function(wt){var Qt;switch(wt.align){case"right":case"end":Qt="right";break;case"center":Qt="center";break;case"left":case"start":default:Qt="left"}var ge=this.pdf.getTextDimensions(wt.text),Pe=fr.call(this,wt.y),Ie=Ge.call(this,Pe)-ge.h,ar=this.ctx.transform.applyToPoint(new L(wt.x,Pe)),We=this.ctx.transform.decompose(),Ye=new I;Ye=(Ye=(Ye=Ye.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var mr,Wr,Pr,rn=this.ctx.transform.applyToRectangle(new j(wt.x,Pe,ge.w,ge.h)),Vr=Ye.applyToRectangle(new j(wt.x,Ie,ge.w,ge.h)),qt=$t.call(this,Vr),sr=[],Fr=0;Fr<qt.length;Fr+=1)sr.indexOf(qt[Fr])===-1&&sr.push(qt[Fr]);if(Ae(sr),this.autoPaging)for(var ir=sr[0],Ir=sr[sr.length-1],Tr=ir;Tr<Ir+1;Tr++){this.pdf.setPage(Tr);var zr=Tr===1?this.posY+this.margin[0]:this.margin[0],Hr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xr=this.pdf.internal.pageSize.height-this.margin[2],In=Xr-this.margin[0],en=this.pdf.internal.pageSize.width-this.margin[1],Tn=en-this.margin[3],qn=Tr===1?0:Hr+(Tr-2)*In;if(this.ctx.clip_path.length!==0){var Kr=this.path;mr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(mr,this.posX+this.margin[3],-1*qn+zr),tr.call(this,"fill",!0),this.path=Kr}var dn=gt([JSON.parse(JSON.stringify(Vr))],this.posX+this.margin[3],-qn+zr+this.ctx.prevPageLastElemOffset)[0];wt.scale>=.01&&(Wr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wr*wt.scale),Pr=this.lineWidth,this.lineWidth=Pr*wt.scale);var Nr=this.autoPaging!=="text";if(Nr||dn.y+dn.h<=Xr){if(Nr||dn.y>=zr&&dn.x<=en){var Bi=Nr?wt.text:this.pdf.splitTextToSize(wt.text,wt.maxWidth||en-dn.x)[0],Vn=gt([JSON.parse(JSON.stringify(rn))],this.posX+this.margin[3],-qn+zr+this.ctx.prevPageLastElemOffset)[0],Ci=Nr&&(Tr>ir||Tr<Ir)&&It.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tn,In,null).clip().discardPath()),this.pdf.text(Bi,Vn.x,Vn.y,{angle:wt.angle,align:Qt,renderingMode:wt.renderingMode}),Ci&&this.pdf.restoreGraphicsState()}}else dn.y<Xr&&(this.ctx.prevPageLastElemOffset+=Xr-dn.y);wt.scale>=.01&&(this.pdf.setFontSize(Wr),this.lineWidth=Pr)}else wt.scale>=.01&&(Wr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wr*wt.scale),Pr=this.lineWidth,this.lineWidth=Pr*wt.scale),this.pdf.text(wt.text,ar.x+this.posX,ar.y+this.posY,{angle:wt.angle,align:Qt,renderingMode:wt.renderingMode,maxWidth:wt.maxWidth}),wt.scale>=.01&&(this.pdf.setFontSize(Wr),this.lineWidth=Pr)},se=function(wt,Qt,ge,Pe){ge=ge||0,Pe=Pe||0,this.pdf.internal.out(y(wt+ge)+" "+w(Qt+Pe)+" l")},ae=function(wt,Qt,ge){return this.pdf.lines(wt,Qt,ge,null,null)},$e=function(wt,Qt,ge,Pe,Ie,ar,We,Ye){this.pdf.internal.out([g(T(ge+wt)),g(S(Pe+Qt)),g(T(Ie+wt)),g(S(ar+Qt)),g(T(We+wt)),g(S(Ye+Qt)),"c"].join(" "))},Ze=function(wt,Qt,ge,Pe){for(var Ie=2*Math.PI,ar=Math.PI/2;Qt>ge;)Qt-=Ie;var We=Math.abs(ge-Qt);We<Ie&&Pe&&(We=Ie-We);for(var Ye=[],mr=Pe?-1:1,Wr=Qt;We>1e-5;){var Pr=Wr+mr*Math.min(We,ar);Ye.push(pr.call(this,wt,Wr,Pr)),We-=Math.abs(Pr-Wr),Wr=Pr}return Ye},pr=function(wt,Qt,ge){var Pe=(ge-Qt)/2,Ie=wt*Math.cos(Pe),ar=wt*Math.sin(Pe),We=Ie,Ye=-ar,mr=We*We+Ye*Ye,Wr=mr+We*Ie+Ye*ar,Pr=4/3*(Math.sqrt(2*mr*Wr)-Wr)/(We*ar-Ye*Ie),rn=We-Pr*Ye,Vr=Ye+Pr*We,qt=rn,sr=-Vr,Fr=Pe+Qt,ir=Math.cos(Fr),Ir=Math.sin(Fr);return{x1:wt*Math.cos(Qt),y1:wt*Math.sin(Qt),x2:rn*ir-Vr*Ir,y2:rn*Ir+Vr*ir,x3:qt*ir-sr*Ir,y3:qt*Ir+sr*ir,x4:wt*Math.cos(ge),y4:wt*Math.sin(ge)}},Re=function(wt){return 180*wt/Math.PI},br=function(wt,Qt,ge,Pe,Ie,ar){var We=wt+.5*(ge-wt),Ye=Qt+.5*(Pe-Qt),mr=Ie+.5*(ge-Ie),Wr=ar+.5*(Pe-ar),Pr=Math.min(wt,Ie,We,mr),rn=Math.max(wt,Ie,We,mr),Vr=Math.min(Qt,ar,Ye,Wr),qt=Math.max(Qt,ar,Ye,Wr);return new j(Pr,Vr,rn-Pr,qt-Vr)},er=function(wt,Qt,ge,Pe,Ie,ar,We,Ye){var mr,Wr,Pr,rn,Vr,qt,sr,Fr,ir,Ir,Tr,zr,Hr,Xr,In=ge-wt,en=Pe-Qt,Tn=Ie-ge,qn=ar-Pe,Kr=We-Ie,dn=Ye-ar;for(Wr=0;Wr<41;Wr++)ir=(sr=(Pr=wt+(mr=Wr/40)*In)+mr*((Vr=ge+mr*Tn)-Pr))+mr*(Vr+mr*(Ie+mr*Kr-Vr)-sr),Ir=(Fr=(rn=Qt+mr*en)+mr*((qt=Pe+mr*qn)-rn))+mr*(qt+mr*(ar+mr*dn-qt)-Fr),Wr==0?(Tr=ir,zr=Ir,Hr=ir,Xr=Ir):(Tr=Math.min(Tr,ir),zr=Math.min(zr,Ir),Hr=Math.max(Hr,ir),Xr=Math.max(Xr,Ir));return new j(Math.round(Tr),Math.round(zr),Math.round(Hr-Tr),Math.round(Xr-zr))},Ar=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var wt,Qt,ge=(wt=this.ctx.lineDash,Qt=this.ctx.lineDashOffset,JSON.stringify({lineDash:wt,lineDashOffset:Qt}));this.prevLineDash!==ge&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ge)}}})(V.API),function(k){var g=function(L){var j,I,$,bt,vt,kt,X,Kt,It,$t;for(/[^\x00-\xFF]/.test(L),I=[],$=0,bt=(L+=j="\0\0\0\0".slice(L.length%4||4)).length;bt>$;$+=4)(vt=(L.charCodeAt($)<<24)+(L.charCodeAt($+1)<<16)+(L.charCodeAt($+2)<<8)+L.charCodeAt($+3))!==0?(kt=(vt=((vt=((vt=((vt=(vt-($t=vt%85))/85)-(It=vt%85))/85)-(Kt=vt%85))/85)-(X=vt%85))/85)%85,I.push(kt+33,X+33,Kt+33,It+33,$t+33)):I.push(122);return function(Mt,gt){for(var Ae=gt;Ae>0;Ae--)Mt.pop()}(I,j.length),String.fromCharCode.apply(String,I)+"~>"},y=function(L){var j,I,$,bt,vt,kt=String,X="length",Kt=255,It="charCodeAt",$t="slice",Mt="replace";for(L[$t](-2),L=L[$t](0,-2)[Mt](/\s/g,"")[Mt]("z","!!!!!"),$=[],bt=0,vt=(L+=j="uuuuu"[$t](L[X]%5||5))[X];vt>bt;bt+=5)I=52200625*(L[It](bt)-33)+614125*(L[It](bt+1)-33)+7225*(L[It](bt+2)-33)+85*(L[It](bt+3)-33)+(L[It](bt+4)-33),$.push(Kt&I>>24,Kt&I>>16,Kt&I>>8,Kt&I);return function(gt,Ae){for(var Be=Ae;Be>0;Be--)gt.pop()}($,j[X]),kt.fromCharCode.apply(kt,$)},w=function(L){var j=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((L=L.replace(/\s/g,"")).indexOf(">")!==-1&&(L=L.substr(0,L.indexOf(">"))),L.length%2&&(L+="0"),j.test(L)===!1)return"";for(var I="",$=0;$<L.length;$+=2)I+=String.fromCharCode("0x"+(L[$]+L[$+1]));return I},T=function(L){for(var j=new Uint8Array(L.length),I=L.length;I--;)j[I]=L.charCodeAt(I);return L=(j=Object(pt.b)(j)).reduce(function($,bt){return $+String.fromCharCode(bt)},"")};k.processDataByFilters=function(S,L){var j=0,I=S||"",$=[];for(typeof(L=L||[])=="string"&&(L=[L]),j=0;j<L.length;j+=1)switch(L[j]){case"ASCII85Decode":case"/ASCII85Decode":I=y(I),$.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":I=g(I),$.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":I=w(I),$.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":I=I.split("").map(function(bt){return("0"+bt.charCodeAt().toString(16)).slice(-2)}).join("")+">",$.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":I=T(I),$.push("/FlateDecode");break;default:throw new Error('The filter: "'+L[j]+'" is not implemented')}return{data:I,reverseChain:$.reverse().join(" ")}}}(V.API),function(k){k.loadFile=function(g,y,w){return function(T,S,L){S=S!==!1,L=typeof L=="function"?L:function(){};var j=void 0;try{j=function(I,$,bt){var vt=new XMLHttpRequest,kt=0,X=function(It){var $t=It.length,Mt=[],gt=String.fromCharCode;for(kt=0;kt<$t;kt+=1)Mt.push(gt(255&It.charCodeAt(kt)));return Mt.join("")};if(vt.open("GET",I,!$),vt.overrideMimeType("text/plain; charset=x-user-defined"),$===!1&&(vt.onload=function(){vt.status===200?bt(X(this.responseText)):bt(void 0)}),vt.send(null),$&&vt.status===200)return X(vt.responseText)}(T,S,L)}catch(I){}return j}(g,y,w)},k.loadImageFile=k.loadFile}(V.API),function(k){function g(){return(ft.html2canvas?Promise.resolve(ft.html2canvas):De.e(66).then(De.t.bind(null,"wOnQ",7))).catch(function(L){return Promise.reject(new Error("Could not load html2canvas: "+L))}).then(function(L){return L.default?L.default:L})}function y(){return(ft.DOMPurify?Promise.resolve(ft.DOMPurify):De.e(65).then(De.t.bind(null,"wMS7",7))).catch(function(L){return Promise.reject(new Error("Could not load dompurify: "+L))}).then(function(L){return L.default?L.default:L})}var w=function(j){var I=me()(j);return I==="undefined"?"undefined":I==="string"||j instanceof String?"string":I==="number"||j instanceof Number?"number":I==="function"||j instanceof Function?"function":j&&j.constructor===Array?"array":j&&j.nodeType===1?"element":I==="object"?"object":"unknown"},T=function(j,I){var $=document.createElement(j);for(var bt in I.className&&($.className=I.className),I.innerHTML&&I.dompurify&&($.innerHTML=I.dompurify.sanitize(I.innerHTML)),I.style)$.style[bt]=I.style[bt];return $},S=function L(j){var I=Object.assign(L.convert(Promise.resolve()),JSON.parse(JSON.stringify(L.template))),$=L.convert(Promise.resolve(),I);return $=($=$.setProgress(1,L,1,[L])).set(j)};(S.prototype=Object.create(Promise.prototype)).constructor=S,S.convert=function(L,j){return L.__proto__=j||S.prototype,L},S.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},S.prototype.from=function(L,j){return this.then(function(){switch(j=j||function(I){switch(w(I)){case"string":return"string";case"element":return I.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(L)){case"string":return this.then(y).then(function(I){return this.set({src:T("div",{innerHTML:L,dompurify:I})})});case"element":return this.set({src:L});case"canvas":return this.set({canvas:L});case"img":return this.set({img:L});default:return this.error("Unknown source type.")}})},S.prototype.to=function(L){switch(L){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},S.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var L={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},j=function I($,bt){for(var vt=$.nodeType===3?document.createTextNode($.nodeValue):$.cloneNode(!1),kt=$.firstChild;kt;kt=kt.nextSibling)bt!==!0&&kt.nodeType===1&&kt.nodeName==="SCRIPT"||vt.appendChild(I(kt,bt));return $.nodeType===1&&($.nodeName==="CANVAS"?(vt.width=$.width,vt.height=$.height,vt.getContext("2d").drawImage($,0,0)):$.nodeName!=="TEXTAREA"&&$.nodeName!=="SELECT"||(vt.value=$.value),vt.addEventListener("load",function(){vt.scrollTop=$.scrollTop,vt.scrollLeft=$.scrollLeft},!0)),vt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);j.tagName==="BODY"&&(L.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=T("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=T("div",{className:"html2pdf__container",style:L}),this.prop.container.appendChild(j),this.prop.container.firstChild.appendChild(T("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},S.prototype.toCanvas=function(){var L=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(L).then(g).then(function(j){var I=Object.assign({},this.opt.html2canvas);return delete I.onrendered,j(this.prop.container,I)}).then(function(j){(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},S.prototype.toContext2d=function(){var L=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(L).then(g).then(function(j){var I=this.opt.jsPDF,$=this.opt.fontFaces,bt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,vt=Object.assign({async:!0,allowTaint:!0,scale:bt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete vt.onrendered,I.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,I.context2d.posX=this.opt.x,I.context2d.posY=this.opt.y,I.context2d.margin=this.opt.margin,I.context2d.fontFaces=$,$)for(var kt=0;kt<$.length;++kt){var X=$[kt],Kt=X.src.find(function(It){return It.format==="truetype"});Kt&&I.addFont(Kt.url,X.ref.name,X.ref.style)}return vt.windowHeight=vt.windowHeight||0,vt.windowHeight=vt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):vt.windowHeight,I.context2d.save(!0),j(this.prop.container,vt)}).then(function(j){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},S.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var L=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=L})},S.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},S.prototype.output=function(L,j,I){return(I=I||"pdf").toLowerCase()==="img"||I.toLowerCase()==="image"?this.outputImg(L,j):this.outputPdf(L,j)},S.prototype.outputPdf=function(L,j){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(L,j)})},S.prototype.outputImg=function(L){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(L){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+L+'" is not supported.'}})},S.prototype.save=function(L){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(L?{filename:L}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},S.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},S.prototype.set=function(L){if(w(L)!=="object")return this;var j=Object.keys(L||{}).map(function(I){if(I in S.template.prop)return function(){this.prop[I]=L[I]};switch(I){case"margin":return this.setMargin.bind(this,L.margin);case"jsPDF":return function(){return this.opt.jsPDF=L.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,L.pageSize);default:return function(){this.opt[I]=L[I]}}},this);return this.then(function(){return this.thenList(j)})},S.prototype.get=function(L,j){return this.then(function(){var I=L in S.template.prop?this.prop[L]:this.opt[L];return j?j(I):I})},S.prototype.setMargin=function(L){return this.then(function(){switch(w(L)){case"number":L=[L,L,L,L];case"array":if(L.length===2&&(L=[L[0],L[1],L[0],L[1]]),L.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=L}).then(this.setPageSize)},S.prototype.setPageSize=function(L){function j(I,$){return Math.floor(I*$/72*96)}return this.then(function(){(L=L||V.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(L.inner={width:L.width-this.opt.margin[1]-this.opt.margin[3],height:L.height-this.opt.margin[0]-this.opt.margin[2]},L.inner.px={width:j(L.inner.width,L.k),height:j(L.inner.height,L.k)},L.inner.ratio=L.inner.height/L.inner.width),this.prop.pageSize=L})},S.prototype.setProgress=function(L,j,I,$){return L!=null&&(this.progress.val=L),j!=null&&(this.progress.state=j),I!=null&&(this.progress.n=I),$!=null&&(this.progress.stack=$),this.progress.ratio=this.progress.val/this.progress.state,this},S.prototype.updateProgress=function(L,j,I,$){return this.setProgress(L?this.progress.val+L:null,j||null,I?this.progress.n+I:null,$?this.progress.stack.concat($):null)},S.prototype.then=function(L,j){var I=this;return this.thenCore(L,j,function($,bt){return I.updateProgress(null,null,1,[$]),Promise.prototype.then.call(this,function(vt){return I.updateProgress(null,$),vt}).then($,bt).then(function(vt){return I.updateProgress(1),vt})})},S.prototype.thenCore=function(L,j,I){I=I||Promise.prototype.then,L&&(L=L.bind(this)),j&&(j=j.bind(this));var $=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:S.convert(Object.assign({},this),Promise.prototype),bt=I.call($,L,j);return S.convert(bt,this.__proto__)},S.prototype.thenExternal=function(L,j){return Promise.prototype.then.call(this,L,j)},S.prototype.thenList=function(L){var j=this;return L.forEach(function(I){j=j.thenCore(I)}),j},S.prototype.catch=function(L){L&&(L=L.bind(this));var j=Promise.prototype.catch.call(this,L);return S.convert(j,this)},S.prototype.catchExternal=function(L){return Promise.prototype.catch.call(this,L)},S.prototype.error=function(L){return this.then(function(){throw new Error(L)})},S.prototype.using=S.prototype.set,S.prototype.saveAs=S.prototype.save,S.prototype.export=S.prototype.output,S.prototype.run=S.prototype.then,V.getPageSize=function(L,j,I){if(me()(L)==="object"){var $=L;L=$.orientation,j=$.unit||j,I=$.format||I}j=j||"mm",I=I||"a4",L=(""+(L||"P")).toLowerCase();var bt,vt=(""+I).toLowerCase(),kt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(j){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=.75;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:throw"Invalid unit: "+j}var X,Kt=0,It=0;if(kt.hasOwnProperty(vt))Kt=kt[vt][1]/bt,It=kt[vt][0]/bt;else try{Kt=I[1],It=I[0]}catch($t){throw new Error("Invalid format: "+I)}if(L==="p"||L==="portrait")L="p",It>Kt&&(X=It,It=Kt,Kt=X);else{if(L!=="l"&&L!=="landscape")throw"Invalid orientation: "+L;L="l",Kt>It&&(X=It,It=Kt,Kt=X)}return{width:It,height:Kt,unit:j,k:bt,orientation:L}},k.html=function(L,j){(j=j||{}).callback=j.callback||function(){},j.html2canvas=j.html2canvas||{},j.html2canvas.canvas=j.html2canvas.canvas||this.canvas,j.jsPDF=j.jsPDF||this,j.fontFaces=j.fontFaces?j.fontFaces.map(hs):null;var I=new S(j);return j.worker?I:I.from(L).doCallback()}}(V.API),V.API.addJS=function(k){return el=k,this.internal.events.subscribe("postPutResources",function(){Xa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xa+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+el+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xa!==void 0&&tl!==void 0&&this.internal.out("/Names <</JavaScript "+Xa+" 0 R>>")}),this},function(k){var g;k.events.push(["postPutResources",function(){var y=this,w=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var T=y.outline.render().split(/\r\n/),S=0;S<T.length;S++){var L=T[S],j=w.exec(L);if(j!=null){var I=j[1];y.internal.newObjectDeferredBegin(I,!1)}y.internal.write(L)}if(this.outline.createNamedDestinations){var $=this.internal.pages.length,bt=[];for(S=0;S<$;S++){var vt=y.internal.newObject();bt.push(vt);var kt=y.internal.getPageInfo(S+1);y.internal.write("<< /D["+kt.objId+" 0 R /XYZ null null null]>> endobj")}var X=y.internal.newObject();for(y.internal.write("<< /Names [ "),S=0;S<bt.length;S++)y.internal.write("(page_"+(S+1)+")"+bt[S]+" 0 R");y.internal.write(" ] >>","endobj"),g=y.internal.newObject(),y.internal.write("<< /Dests "+X+" 0 R"),y.internal.write(">>","endobj")}}]),k.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+g+" 0 R"))}]),k.events.push(["initialized",function(){var y=this;y.outline={createNamedDestinations:!1,root:{children:[]}},y.outline.add=function(w,T,S){var L={title:T,options:S,children:[]};return w==null&&(w=this.root),w.children.push(L),L},y.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=y,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},y.outline.genIds_r=function(w){w.id=y.internal.newObjectDeferred();for(var T=0;T<w.children.length;T++)this.genIds_r(w.children[T])},y.outline.renderRoot=function(w){this.objStart(w),this.line("/Type /Outlines"),w.children.length>0&&(this.line("/First "+this.makeRef(w.children[0])),this.line("/Last "+this.makeRef(w.children[w.children.length-1]))),this.line("/Count "+this.count_r({count:0},w)),this.objEnd()},y.outline.renderItems=function(w){for(var T=this.ctx.pdf.internal.getVerticalCoordinateString,S=0;S<w.children.length;S++){var L=w.children[S];this.objStart(L),this.line("/Title "+this.makeString(L.title)),this.line("/Parent "+this.makeRef(w)),S>0&&this.line("/Prev "+this.makeRef(w.children[S-1])),S<w.children.length-1&&this.line("/Next "+this.makeRef(w.children[S+1])),L.children.length>0&&(this.line("/First "+this.makeRef(L.children[0])),this.line("/Last "+this.makeRef(L.children[L.children.length-1])));var j=this.count=this.count_r({count:0},L);if(j>0&&this.line("/Count "+j),L.options&&L.options.pageNumber){var I=y.internal.getPageInfo(L.options.pageNumber);this.line("/Dest ["+I.objId+" 0 R /XYZ 0 "+T(0)+" 0]")}this.objEnd()}for(var $=0;$<w.children.length;$++)this.renderItems(w.children[$])},y.outline.line=function(w){this.ctx.val+=w+`\r
`},y.outline.makeRef=function(w){return w.id+" 0 R"},y.outline.makeString=function(w){return"("+y.internal.pdfEscape(w)+")"},y.outline.objStart=function(w){this.ctx.val+=`\r
`+w.id+` 0 obj\r
<<\r
`},y.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},y.outline.count_r=function(w,T){for(var S=0;S<T.children.length;S++)w.count++,this.count_r(w,T.children[S]);return w.count}}])}(V.API),function(k){var g=[192,193,194,195,196,197,198,199];k.processJPEG=function(y,w,T,S,L,j){var I,$=this.decode.DCT_DECODE,bt=null;if(typeof y=="string"||this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y)){switch(y=L||y,y=this.__addimage__.isArrayBuffer(y)?new Uint8Array(y):y,(I=function(vt){for(var kt,X=256*vt.charCodeAt(4)+vt.charCodeAt(5),Kt=vt.length,It={width:0,height:0,numcomponents:1},$t=4;$t<Kt;$t+=2){if($t+=X,g.indexOf(vt.charCodeAt($t+1))!==-1){kt=256*vt.charCodeAt($t+5)+vt.charCodeAt($t+6),It={width:256*vt.charCodeAt($t+7)+vt.charCodeAt($t+8),height:kt,numcomponents:vt.charCodeAt($t+9)};break}X=256*vt.charCodeAt($t+2)+vt.charCodeAt($t+3)}return It}(y=this.__addimage__.isArrayBufferView(y)?this.__addimage__.arrayBufferToBinaryString(y):y)).numcomponents){case 1:j=this.color_spaces.DEVICE_GRAY;break;case 4:j=this.color_spaces.DEVICE_CMYK;break;case 3:j=this.color_spaces.DEVICE_RGB}bt={data:y,width:I.width,height:I.height,colorSpace:j,bitsPerComponent:8,filter:$,index:w,alias:T}}return bt}}(V.API);var B,P,G,st,Lt,Ht=function(){var k,g,y;function w(S){var L,j,I,$,bt,vt,kt,X,Kt,It,$t,Mt,gt,Ae;for(this.data=S,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},vt=null;;){switch(L=this.readUInt32(),Kt=function(){var Be,tr;for(tr=[],Be=0;Be<4;++Be)tr.push(String.fromCharCode(this.data[this.pos++]));return tr}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(L);break;case"fcTL":vt&&this.animation.frames.push(vt),this.pos+=4,vt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},bt=this.readUInt16(),$=this.readUInt16()||100,vt.delay=1e3*bt/$,vt.disposeOp=this.data[this.pos++],vt.blendOp=this.data[this.pos++],vt.data=[];break;case"IDAT":case"fdAT":for(Kt==="fdAT"&&(this.pos+=4,L-=4),S=(vt!=null?vt.data:void 0)||this.imgData,Mt=0;0<=L?Mt<L:Mt>L;0<=L?++Mt:--Mt)S.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(I=this.palette.length/3,this.transparency.indexed=this.read(L),this.transparency.indexed.length>I)throw new Error("More transparent colors than palette size");if((It=I-this.transparency.indexed.length)>0)for(gt=0;0<=It?gt<It:gt>It;0<=It?++gt:--gt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(L)[0];break;case 2:this.transparency.rgb=this.read(L)}break;case"tEXt":kt=($t=this.read(L)).indexOf(0),X=String.fromCharCode.apply(String,$t.slice(0,kt)),this.text[X]=String.fromCharCode.apply(String,$t.slice(kt+1));break;case"IEND":return vt&&this.animation.frames.push(vt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Ae=this.colorType)===4||Ae===6,j=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*j,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=L}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}w.prototype.read=function(S){var L,j;for(j=[],L=0;0<=S?L<S:L>S;0<=S?++L:--L)j.push(this.data[this.pos++]);return j},w.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},w.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},w.prototype.decodePixels=function(S){var L=this.pixelBitlength/8,j=new Uint8Array(this.width*this.height*L),I=0,$=this;if(S==null&&(S=this.imgData),S.length===0)return new Uint8Array(0);function bt(vt,kt,X,Kt){var It,$t,Mt,gt,Ae,Be,tr,fr,Ge,gr,oe,Ve,ie,zt,se,ae,$e,Ze,pr,Re,br,er=Math.ceil(($.width-vt)/X),Ar=Math.ceil(($.height-kt)/Kt),te=$.width==er&&$.height==Ar;for(zt=L*er,Ve=te?j:new Uint8Array(zt*Ar),Be=S.length,ie=0,$t=0;ie<Ar&&I<Be;){switch(S[I++]){case 0:for(gt=$e=0;$e<zt;gt=$e+=1)Ve[$t++]=S[I++];break;case 1:for(gt=Ze=0;Ze<zt;gt=Ze+=1)It=S[I++],Ae=gt<L?0:Ve[$t-L],Ve[$t++]=(It+Ae)%256;break;case 2:for(gt=pr=0;pr<zt;gt=pr+=1)It=S[I++],Mt=(gt-gt%L)/L,se=ie&&Ve[(ie-1)*zt+Mt*L+gt%L],Ve[$t++]=(se+It)%256;break;case 3:for(gt=Re=0;Re<zt;gt=Re+=1)It=S[I++],Mt=(gt-gt%L)/L,Ae=gt<L?0:Ve[$t-L],se=ie&&Ve[(ie-1)*zt+Mt*L+gt%L],Ve[$t++]=(It+Math.floor((Ae+se)/2))%256;break;case 4:for(gt=br=0;br<zt;gt=br+=1)It=S[I++],Mt=(gt-gt%L)/L,Ae=gt<L?0:Ve[$t-L],ie===0?se=ae=0:(se=Ve[(ie-1)*zt+Mt*L+gt%L],ae=Mt&&Ve[(ie-1)*zt+(Mt-1)*L+gt%L]),tr=Ae+se-ae,fr=Math.abs(tr-Ae),gr=Math.abs(tr-se),oe=Math.abs(tr-ae),Ge=fr<=gr&&fr<=oe?Ae:gr<=oe?se:ae,Ve[$t++]=(It+Ge)%256;break;default:throw new Error("Invalid filter algorithm: "+S[I-1])}if(!te){var wt=((kt+ie*Kt)*$.width+vt)*L,Qt=ie*zt;for(gt=0;gt<er;gt+=1){for(var ge=0;ge<L;ge+=1)j[wt++]=Ve[Qt++];wt+=(X-1)*L}}ie++}}return S=Object(pt.a)(S),$.interlaceMethod==1?(bt(0,0,8,8),bt(4,0,8,8),bt(0,4,4,8),bt(2,0,4,4),bt(0,2,2,4),bt(1,0,2,2),bt(0,1,1,2)):bt(0,0,1,1),j},w.prototype.decodePalette=function(){var S,L,j,I,$,bt,vt,kt,X;for(j=this.palette,bt=this.transparency.indexed||[],$=new Uint8Array((bt.length||0)+j.length),I=0,S=0,L=vt=0,kt=j.length;vt<kt;L=vt+=3)$[I++]=j[L],$[I++]=j[L+1],$[I++]=j[L+2],$[I++]=(X=bt[S++])!=null?X:255;return $},w.prototype.copyToImageData=function(S,L){var j,I,$,bt,vt,kt,X,Kt,It,$t,Mt;if(I=this.colors,It=null,j=this.hasAlphaChannel,this.palette.length&&(It=(Mt=this._decodedPalette)!=null?Mt:this._decodedPalette=this.decodePalette(),I=4,j=!0),Kt=($=S.data||S).length,vt=It||L,bt=kt=0,I===1)for(;bt<Kt;)X=It?4*L[bt/4]:kt,$t=vt[X++],$[bt++]=$t,$[bt++]=$t,$[bt++]=$t,$[bt++]=j?vt[X++]:255,kt=X;else for(;bt<Kt;)X=It?4*L[bt/4]:kt,$[bt++]=vt[X++],$[bt++]=vt[X++],$[bt++]=vt[X++],$[bt++]=j?vt[X++]:255,kt=X},w.prototype.decode=function(){var S;return S=new Uint8Array(this.width*this.height*4),this.copyToImageData(S,this.decodePixels()),S};var T=function(){if(Object.prototype.toString.call(ft)==="[object Window]"){try{g=ft.document.createElement("canvas"),y=g.getContext("2d")}catch(L){return!1}return!0}return!1};return T(),k=function(L){var j;if(T()===!0)return y.width=L.width,y.height=L.height,y.clearRect(0,0,L.width,L.height),y.putImageData(L,0,0),(j=new Image).src=g.toDataURL(),j;throw new Error("This method requires a Browser with Canvas-capability.")},w.prototype.decodeFrames=function(S){var L,j,I,$,bt,vt,kt,X;if(this.animation){for(X=[],j=bt=0,vt=(kt=this.animation.frames).length;bt<vt;j=++bt)L=kt[j],I=S.createImageData(L.width,L.height),$=this.decodePixels(new Uint8Array(L.data)),this.copyToImageData(I,$),L.imageData=I,X.push(L.image=k(I));return X}},w.prototype.renderFrame=function(S,L){var j,I,$;return j=(I=this.animation.frames)[L],$=I[L-1],L===0&&S.clearRect(0,0,this.width,this.height),($!=null?$.disposeOp:void 0)===1?S.clearRect($.xOffset,$.yOffset,$.width,$.height):($!=null?$.disposeOp:void 0)===2&&S.putImageData($.imageData,$.xOffset,$.yOffset),j.blendOp===0&&S.clearRect(j.xOffset,j.yOffset,j.width,j.height),S.drawImage(j.image,j.xOffset,j.yOffset)},w.prototype.animate=function(S){var L,j,I,$,bt,vt,kt=this;return j=0,vt=this.animation,$=vt.numFrames,I=vt.frames,bt=vt.numPlays,(L=function(){var Kt,It;if(Kt=j++%$,It=I[Kt],kt.renderFrame(S,Kt),$>1&&j/$<bt)return kt.animation._timeout=setTimeout(L,It.delay)})()},w.prototype.stopAnimation=function(){var S;return clearTimeout((S=this.animation)!=null?S._timeout:void 0)},w.prototype.render=function(S){var L,j;return S._png&&S._png.stopAnimation(),S._png=this,S.width=this.width,S.height=this.height,L=S.getContext("2d"),this.animation?(this.decodeFrames(L),this.animate(L)):(j=L.createImageData(this.width,this.height),this.copyToImageData(j,this.decodePixels()),L.putImageData(j,0,0))},w}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Xt(k){var g=0;if(k[g++]!==71||k[g++]!==73||k[g++]!==70||k[g++]!==56||(k[g++]+1&253)!=56||k[g++]!==97)throw new Error("Invalid GIF 87a/89a header.");var y=k[g++]|k[g++]<<8,w=k[g++]|k[g++]<<8,T=k[g++],S=T>>7,L=1<<(7&T)+1;k[g++],k[g++];var j=null,I=null;S&&(j=g,I=L,g+=3*L);var $=!0,bt=[],vt=0,kt=null,X=0,Kt=null;for(this.width=y,this.height=w;$&&g<k.length;)switch(k[g++]){case 33:switch(k[g++]){case 255:if(k[g]!==11||k[g+1]==78&&k[g+2]==69&&k[g+3]==84&&k[g+4]==83&&k[g+5]==67&&k[g+6]==65&&k[g+7]==80&&k[g+8]==69&&k[g+9]==50&&k[g+10]==46&&k[g+11]==48&&k[g+12]==3&&k[g+13]==1&&k[g+16]==0)g+=14,Kt=k[g++]|k[g++]<<8,g++;else for(g+=12;;){if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}break;case 249:if(k[g++]!==4||k[g+4]!==0)throw new Error("Invalid graphics extension block.");var It=k[g++];vt=k[g++]|k[g++]<<8,kt=k[g++],(1&It)==0&&(kt=null),X=It>>2&7,g++;break;case 254:for(;;){if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}break;default:throw new Error("Unknown graphic control label: 0x"+k[g-1].toString(16))}break;case 44:var $t=k[g++]|k[g++]<<8,Mt=k[g++]|k[g++]<<8,gt=k[g++]|k[g++]<<8,Ae=k[g++]|k[g++]<<8,Be=k[g++],tr=Be>>6&1,fr=1<<(7&Be)+1,Ge=j,gr=I,oe=!1;Be>>7&&(oe=!0,Ge=g,gr=fr,g+=3*fr);var Ve=g;for(g++;;){var ie;if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}bt.push({x:$t,y:Mt,width:gt,height:Ae,has_local_palette:oe,palette_offset:Ge,palette_size:gr,data_offset:Ve,data_length:g-Ve,transparent_index:kt,interlaced:!!tr,delay:vt,disposal:X});break;case 59:$=!1;break;default:throw new Error("Unknown gif block: 0x"+k[g-1].toString(16))}this.numFrames=function(){return bt.length},this.loopCount=function(){return Kt},this.frameInfo=function(zt){if(zt<0||zt>=bt.length)throw new Error("Frame index out of range.");return bt[zt]},this.decodeAndBlitFrameBGRA=function(zt,se){var ae=this.frameInfo(zt),$e=ae.width*ae.height,Ze=new Uint8Array($e);ye(k,ae.data_offset,Ze,$e);var pr=ae.palette_offset,Re=ae.transparent_index;Re===null&&(Re=256);var br=ae.width,er=y-br,Ar=br,te=4*(ae.y*y+ae.x),wt=4*((ae.y+ae.height)*y+ae.x),Qt=te,ge=4*er;ae.interlaced===!0&&(ge+=4*y*7);for(var Pe=8,Ie=0,ar=Ze.length;Ie<ar;++Ie){var We=Ze[Ie];if(Ar===0&&(Ar=br,(Qt+=ge)>=wt&&(ge=4*er+4*y*(Pe-1),Qt=te+(br+er)*(Pe<<1),Pe>>=1)),We===Re)Qt+=4;else{var Ye=k[pr+3*We],mr=k[pr+3*We+1],Wr=k[pr+3*We+2];se[Qt++]=Wr,se[Qt++]=mr,se[Qt++]=Ye,se[Qt++]=255}--Ar}},this.decodeAndBlitFrameRGBA=function(zt,se){var ae=this.frameInfo(zt),$e=ae.width*ae.height,Ze=new Uint8Array($e);ye(k,ae.data_offset,Ze,$e);var pr=ae.palette_offset,Re=ae.transparent_index;Re===null&&(Re=256);var br=ae.width,er=y-br,Ar=br,te=4*(ae.y*y+ae.x),wt=4*((ae.y+ae.height)*y+ae.x),Qt=te,ge=4*er;ae.interlaced===!0&&(ge+=4*y*7);for(var Pe=8,Ie=0,ar=Ze.length;Ie<ar;++Ie){var We=Ze[Ie];if(Ar===0&&(Ar=br,(Qt+=ge)>=wt&&(ge=4*er+4*y*(Pe-1),Qt=te+(br+er)*(Pe<<1),Pe>>=1)),We===Re)Qt+=4;else{var Ye=k[pr+3*We],mr=k[pr+3*We+1],Wr=k[pr+3*We+2];se[Qt++]=Ye,se[Qt++]=mr,se[Qt++]=Wr,se[Qt++]=255}--Ar}}}function ye(k,g,y,w){for(var T=k[g++],S=1<<T,L=S+1,j=L+1,I=T+1,$=(1<<I)-1,bt=0,vt=0,kt=0,X=k[g++],Kt=new Int32Array(4096),It=null;;){for(;bt<16&&X!==0;)vt|=k[g++]<<bt,bt+=8,X===1?X=k[g++]:--X;if(bt<I)break;var $t=vt&$;if(vt>>=I,bt-=I,$t!==S){if($t===L)break;for(var Mt=$t<j?$t:It,gt=0,Ae=Mt;Ae>S;)Ae=Kt[Ae]>>8,++gt;var Be=Ae;if(kt+gt+(Mt!==$t?1:0)>w)return void tt.log("Warning, gif stream longer than expected.");y[kt++]=Be;var tr=kt+=gt;for(Mt!==$t&&(y[kt++]=Be),Ae=Mt;gt--;)Ae=Kt[Ae],y[--tr]=255&Ae,Ae>>=8;It!==null&&j<4096&&(Kt[j++]=It<<8|Be,j>=$+1&&I<12&&(++I,$=$<<1|1)),It=$t}else j=L+1,$=(1<<(I=T+1))-1,It=null}return kt!==w&&tt.log("Warning, gif stream shorter than expected."),y}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Me(k){var g,y,w,T,S,L=Math.floor,j=new Array(64),I=new Array(64),$=new Array(64),bt=new Array(64),vt=new Array(65535),kt=new Array(65535),X=new Array(64),Kt=new Array(64),It=[],$t=0,Mt=7,gt=new Array(64),Ae=new Array(64),Be=new Array(64),tr=new Array(256),fr=new Array(2048),Ge=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],gr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],oe=[0,1,2,3,4,5,6,7,8,9,10,11],Ve=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ie=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],zt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],se=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ze(te,wt){for(var Qt=0,ge=0,Pe=new Array,Ie=1;Ie<=16;Ie++){for(var ar=1;ar<=te[Ie];ar++)Pe[wt[ge]]=[],Pe[wt[ge]][0]=Qt,Pe[wt[ge]][1]=Ie,ge++,Qt++;Qt*=2}return Pe}function pr(te){for(var wt=te[0],Qt=te[1]-1;Qt>=0;)wt&1<<Qt&&($t|=1<<Mt),Qt--,--Mt<0&&($t==255?(Re(255),Re(0)):Re($t),Mt=7,$t=0)}function Re(te){It.push(te)}function br(te){Re(te>>8&255),Re(255&te)}function er(te,wt,Qt,ge,Pe){for(var Ie,ar=Pe[0],We=Pe[240],Ye=function(ir,Ir){var Tr,zr,Hr,Xr,In,en,Tn,qn,Kr,dn,Nr=0;for(Kr=0;Kr<8;++Kr){Tr=ir[Nr],zr=ir[Nr+1],Hr=ir[Nr+2],Xr=ir[Nr+3],In=ir[Nr+4],en=ir[Nr+5],Tn=ir[Nr+6];var Bi=Tr+(qn=ir[Nr+7]),Vn=Tr-qn,Ci=zr+Tn,bn=zr-Tn,gi=Hr+en,ba=Hr-en,Bn=Xr+In,Ka=Xr-In,li=Bi+Bn,mi=Bi-Bn,na=Ci+gi,$n=Ci-gi;ir[Nr]=li+na,ir[Nr+4]=li-na;var hn=.707106781*($n+mi);ir[Nr+2]=mi+hn,ir[Nr+6]=mi-hn;var Un=.382683433*((li=Ka+ba)-($n=bn+Vn)),eo=.5411961*li+Un,ji=1.306562965*$n+Un,Za=.707106781*(na=ba+bn),Ja=Vn+Za,nn=Vn-Za;ir[Nr+5]=nn+eo,ir[Nr+3]=nn-eo,ir[Nr+1]=Ja+ji,ir[Nr+7]=Ja-ji,Nr+=8}for(Nr=0,Kr=0;Kr<8;++Kr){Tr=ir[Nr],zr=ir[Nr+8],Hr=ir[Nr+16],Xr=ir[Nr+24],In=ir[Nr+32],en=ir[Nr+40],Tn=ir[Nr+48];var Zi=Tr+(qn=ir[Nr+56]),_a=Tr-qn,fs=zr+Tn,ii=zr-Tn,Ai=Hr+en,ai=Hr-en,$a=Xr+In,Is=Xr-In,Na=Zi+$a,Qa=Zi-$a,zi=fs+Ai,vi=fs-Ai;ir[Nr]=Na+zi,ir[Nr+32]=Na-zi;var ia=.707106781*(vi+Qa);ir[Nr+16]=Qa+ia,ir[Nr+48]=Qa-ia;var ro=.382683433*((Na=Is+ai)-(vi=ii+_a)),ts=.5411961*Na+ro,no=1.306562965*vi+ro,Po=.707106781*(zi=ai+ii),Oo=_a+Po,ds=_a-Po;ir[Nr+40]=ds+ts,ir[Nr+24]=ds-ts,ir[Nr+8]=Oo+no,ir[Nr+56]=Oo-no,Nr++}for(Kr=0;Kr<64;++Kr)dn=ir[Kr]*Ir[Kr],X[Kr]=dn>0?dn+.5|0:dn-.5|0;return X}(te,wt),mr=0;mr<64;++mr)Kt[Ge[mr]]=Ye[mr];var Wr=Kt[0]-Qt;Qt=Kt[0],Wr==0?pr(ge[0]):(pr(ge[kt[Ie=32767+Wr]]),pr(vt[Ie]));for(var Pr=63;Pr>0&&Kt[Pr]==0;)Pr--;if(Pr==0)return pr(ar),Qt;for(var rn,Vr=1;Vr<=Pr;){for(var qt=Vr;Kt[Vr]==0&&Vr<=Pr;)++Vr;var sr=Vr-qt;if(sr>=16){rn=sr>>4;for(var Fr=1;Fr<=rn;++Fr)pr(We);sr&=15}Ie=32767+Kt[Vr],pr(Pe[(sr<<4)+kt[Ie]]),pr(vt[Ie]),Vr++}return Pr!=63&&pr(ar),Qt}function Ar(te){te=Math.min(Math.max(te,1),100),S!=te&&(function(wt){for(var Qt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ge=0;ge<64;ge++){var Pe=L((Qt[ge]*wt+50)/100);Pe=Math.min(Math.max(Pe,1),255),j[Ge[ge]]=Pe}for(var Ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ar=0;ar<64;ar++){var We=L((Ie[ar]*wt+50)/100);We=Math.min(Math.max(We,1),255),I[Ge[ar]]=We}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],mr=0,Wr=0;Wr<8;Wr++)for(var Pr=0;Pr<8;Pr++)$[mr]=1/(j[Ge[mr]]*Ye[Wr]*Ye[Pr]*8),bt[mr]=1/(I[Ge[mr]]*Ye[Wr]*Ye[Pr]*8),mr++}(te<50?Math.floor(5e3/te):Math.floor(200-2*te)),S=te)}this.encode=function(te,wt){wt&&Ar(wt),It=new Array,$t=0,Mt=7,br(65496),br(65504),br(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),br(1),br(1),Re(0),Re(0),function(){br(65499),br(132),Re(0);for(var zr=0;zr<64;zr++)Re(j[zr]);Re(1);for(var Hr=0;Hr<64;Hr++)Re(I[Hr])}(),function(zr,Hr){br(65472),br(17),Re(8),br(Hr),br(zr),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1)}(te.width,te.height),function(){br(65476),br(418),Re(0);for(var zr=0;zr<16;zr++)Re(gr[zr+1]);for(var Hr=0;Hr<=11;Hr++)Re(oe[Hr]);Re(16);for(var Xr=0;Xr<16;Xr++)Re(Ve[Xr+1]);for(var In=0;In<=161;In++)Re(ie[In]);Re(1);for(var en=0;en<16;en++)Re(zt[en+1]);for(var Tn=0;Tn<=11;Tn++)Re(se[Tn]);Re(17);for(var qn=0;qn<16;qn++)Re(ae[qn+1]);for(var Kr=0;Kr<=161;Kr++)Re($e[Kr])}(),br(65498),br(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var Qt=0,ge=0,Pe=0;$t=0,Mt=7,this.encode.displayName="_encode_";for(var Ie,ar,We,Ye,mr,Wr,Pr,rn,Vr,qt=te.data,sr=te.width,Fr=te.height,ir=4*sr,Ir=0;Ir<Fr;){for(Ie=0;Ie<ir;){for(mr=ir*Ir+Ie,Pr=-1,rn=0,Vr=0;Vr<64;Vr++)Wr=mr+(rn=Vr>>3)*ir+(Pr=4*(7&Vr)),Ir+rn>=Fr&&(Wr-=ir*(Ir+1+rn-Fr)),Ie+Pr>=ir&&(Wr-=Ie+Pr-ir+4),ar=qt[Wr++],We=qt[Wr++],Ye=qt[Wr++],gt[Vr]=(fr[ar]+fr[We+256>>0]+fr[Ye+512>>0]>>16)-128,Ae[Vr]=(fr[ar+768>>0]+fr[We+1024>>0]+fr[Ye+1280>>0]>>16)-128,Be[Vr]=(fr[ar+1280>>0]+fr[We+1536>>0]+fr[Ye+1792>>0]>>16)-128;Qt=er(gt,$,Qt,g,w),ge=er(Ae,bt,ge,y,T),Pe=er(Be,bt,Pe,y,T),Ie+=32}Ir+=8}if(Mt>=0){var Tr=[];Tr[1]=Mt+1,Tr[0]=(1<<Mt+1)-1,pr(Tr)}return br(65497),new Uint8Array(It)},k=k||50,function(){for(var te=String.fromCharCode,wt=0;wt<256;wt++)tr[wt]=te(wt)}(),g=Ze(gr,oe),y=Ze(zt,se),w=Ze(Ve,ie),T=Ze(ae,$e),function(){for(var te=1,wt=2,Qt=1;Qt<=15;Qt++){for(var ge=te;ge<wt;ge++)kt[32767+ge]=Qt,vt[32767+ge]=[],vt[32767+ge][1]=Qt,vt[32767+ge][0]=ge;for(var Pe=-(wt-1);Pe<=-te;Pe++)kt[32767+Pe]=Qt,vt[32767+Pe]=[],vt[32767+Pe][1]=Qt,vt[32767+Pe][0]=wt-1+Pe;te<<=1,wt<<=1}}(),function(){for(var te=0;te<256;te++)fr[te]=19595*te,fr[te+256>>0]=38470*te,fr[te+512>>0]=7471*te+32768,fr[te+768>>0]=-11059*te,fr[te+1024>>0]=-21709*te,fr[te+1280>>0]=32768*te+8421375,fr[te+1536>>0]=-27439*te,fr[te+1792>>0]=-5329*te}(),Ar(k)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ne(k,g){if(this.pos=0,this.buffer=k,this.datav=new DataView(k.buffer),this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function je(k){function g(gr){if(!gr)throw Error("assert :P")}function y(gr,oe,Ve){for(var ie=0;4>ie;ie++)if(gr[oe+ie]!=Ve.charCodeAt(ie))return!0;return!1}function w(gr,oe,Ve,ie,zt){for(var se=0;se<zt;se++)gr[oe+se]=Ve[ie+se]}function T(gr,oe,Ve,ie){for(var zt=0;zt<ie;zt++)gr[oe+zt]=Ve}function S(gr){return new Int32Array(gr)}function L(gr,oe){for(var Ve=[],ie=0;ie<gr;ie++)Ve.push(new oe);return Ve}function j(gr,oe){var Ve=[];return function ie(zt,se,ae){for(var $e=ae[se],Ze=0;Ze<$e&&(zt.push(ae.length>se+1?[]:new oe),!(ae.length<se+1));Ze++)ie(zt[Ze],se+1,ae)}(Ve,0,gr),Ve}var I=function(){var oe=this;function Ve(d,v){for(var E=1<<v-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function ie(d,v,E,H,ot){g(!(H%E));do d[v+(H-=E)]=ot;while(0<H)}function zt(d,v,E,H,ot){if(g(2328>=ot),512>=ot)var ut=S(512);else if((ut=S(ot))==null)return 0;return function(ct,yt,Ct,Nt,ue,Ee){var Le,Ce,ur=yt,qe=1<<Ct,he=S(16),_e=S(16);for(g(ue!=0),g(Nt!=null),g(ct!=null),g(0<Ct),Ce=0;Ce<ue;++Ce){if(15<Nt[Ce])return 0;++he[Nt[Ce]]}if(he[0]==ue)return 0;for(_e[1]=0,Le=1;15>Le;++Le){if(he[Le]>1<<Le)return 0;_e[Le+1]=_e[Le]+he[Le]}for(Ce=0;Ce<ue;++Ce)Le=Nt[Ce],0<Nt[Ce]&&(Ee[_e[Le]++]=Ce);if(_e[15]==1)return(Nt=new se).g=0,Nt.value=Ee[0],ie(ct,ur,1,qe,Nt),qe;var or,hr=-1,lr=qe-1,Rr=0,Lr=1,Zr=1,kr=1<<Ct;for(Ce=0,Le=1,ue=2;Le<=Ct;++Le,ue<<=1){if(Lr+=Zr<<=1,0>(Zr-=he[Le]))return 0;for(;0<he[Le];--he[Le])(Nt=new se).g=Le,Nt.value=Ee[Ce++],ie(ct,ur+Rr,ue,kr,Nt),Rr=Ve(Rr,Le)}for(Le=Ct+1,ue=2;15>=Le;++Le,ue<<=1){if(Lr+=Zr<<=1,0>(Zr-=he[Le]))return 0;for(;0<he[Le];--he[Le]){if(Nt=new se,(Rr&lr)!=hr){for(ur+=kr,or=1<<(hr=Le)-Ct;15>hr&&!(0>=(or-=he[hr]));)++hr,or<<=1;qe+=kr=1<<(or=hr-Ct),ct[yt+(hr=Rr&lr)].g=or+Ct,ct[yt+hr].value=ur-yt-hr}Nt.g=Le-Ct,Nt.value=Ee[Ce++],ie(ct,ur+(Rr>>Ct),ue,kr,Nt),Rr=Ve(Rr,Le)}}return Lr!=2*_e[15]-1?0:qe}(d,v,E,H,ot,ut)}function se(){this.value=this.g=0}function ae(){this.value=this.g=0}function $e(){this.G=L(5,se),this.H=S(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=L(Ui,ae)}function Ze(d,v,E,H){g(d!=null),g(v!=null),g(2147483648>H),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=v,d.pa=E,d.Jd=v,d.Yc=E+H,d.Zc=4<=H?E+H-4+1:E,ar(d)}function pr(d,v){for(var E=0;0<v--;)E|=Ye(d,128)<<v;return E}function Re(d,v){var E=pr(d,v);return We(d)?-E:E}function br(d,v,E,H){var ot,ut=0;for(g(d!=null),g(v!=null),g(4294967288>H),d.Sb=H,d.Ra=0,d.u=0,d.h=0,4<H&&(H=4),ot=0;ot<H;++ot)ut+=v[E+ot]<<8*ot;d.Ra=ut,d.bb=H,d.oa=v,d.pa=E}function er(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Mi-8>>>0,++d.bb,d.u-=8;ge(d)&&(d.h=1,d.u=0)}function Ar(d,v){if(g(0<=v),!d.h&&v<=as){var E=Qt(d)&zs[v];return d.u+=v,er(d),E}return d.h=1,d.u=0}function te(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function wt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Qt(d){return d.Ra>>>(d.u&Mi-1)>>>0}function ge(d){return g(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Mi}function Pe(d,v){d.u=v,d.h=ge(d)}function Ie(d){d.u>=Gi&&(g(d.u>=Gi),er(d))}function ar(d){g(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(g(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function We(d){return pr(d,1)}function Ye(d,v){var E=d.Ca;0>d.b&&ar(d);var H=d.b,ot=E*v>>>8,ut=(d.I>>>H>ot)+0;for(ut?(E-=ot,d.I-=ot+1<<H>>>0):E=ot+1,H=E,ot=0;256<=H;)ot+=8,H>>=8;return H=7^ot+Wl[H],d.b-=H,d.Ca=(E<<H)-1,ut}function mr(d,v,E){d[v+0]=E>>24&255,d[v+1]=E>>16&255,d[v+2]=E>>8&255,d[v+3]=E>>0&255}function Wr(d,v){return d[v+0]<<0|d[v+1]<<8}function Pr(d,v){return Wr(d,v)|d[v+2]<<16}function rn(d,v){return Wr(d,v)|Wr(d,v+2)<<16}function Vr(d,v){var E=1<<v;return g(d!=null),g(0<v),d.X=S(E),d.X==null?0:(d.Mb=32-v,d.Xa=v,1)}function qt(d,v){g(d!=null),g(v!=null),g(d.Xa==v.Xa),w(v.X,0,d.X,0,1<<v.Xa)}function sr(){this.X=[],this.Xa=this.Mb=0}function Fr(d,v,E,H){g(E!=null),g(H!=null);var ot=E[0],ut=H[0];return ot==0&&(ot=(d*ut+v/2)/v),ut==0&&(ut=(v*ot+d/2)/d),0>=ot||0>=ut?0:(E[0]=ot,H[0]=ut,1)}function ir(d,v){return d+(1<<v)-1>>>v}function Ir(d,v){return((4278255360&d)+(4278255360&v)>>>0&4278255360)+((16711935&d)+(16711935&v)>>>0&16711935)>>>0}function Tr(d,v){oe[v]=function(E,H,ot,ut,ct,yt,Ct){var Nt;for(Nt=0;Nt<ct;++Nt){var ue=oe[d](yt[Ct+Nt-1],ot,ut+Nt);yt[Ct+Nt]=Ir(E[H+Nt],ue)}}}function zr(){this.ud=this.hd=this.jd=0}function Hr(d,v){return((4278124286&(d^v))>>>1)+(d&v)>>>0}function Xr(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function In(d,v){return Xr(d+(d-v+.5>>1))}function en(d,v,E){return Math.abs(v-E)-Math.abs(d-E)}function Tn(d,v,E,H,ot,ut,ct){for(H=ut[ct-1],E=0;E<ot;++E)ut[ct+E]=H=Ir(d[v+E],H)}function qn(d,v,E,H,ot){var ut;for(ut=0;ut<E;++ut){var ct=d[v+ut],yt=ct>>8&255,Ct=16711935&(Ct=(Ct=16711935&ct)+((yt<<16)+yt));H[ot+ut]=(4278255360&ct)+Ct>>>0}}function Kr(d,v){v.jd=d>>0&255,v.hd=d>>8&255,v.ud=d>>16&255}function dn(d,v,E,H,ot,ut){var ct;for(ct=0;ct<H;++ct){var yt=v[E+ct],Ct=yt>>>8,Nt=yt,ue=255&(ue=(ue=yt>>>16)+((d.jd<<24>>24)*(Ct<<24>>24)>>>5));Nt=255&(Nt=(Nt=Nt+((d.hd<<24>>24)*(Ct<<24>>24)>>>5))+((d.ud<<24>>24)*(ue<<24>>24)>>>5)),ot[ut+ct]=(4278255360&yt)+(ue<<16)+Nt}}function Nr(d,v,E,H,ot){oe[v]=function(ut,ct,yt,Ct,Nt,ue,Ee,Le,Ce){for(Ct=Ee;Ct<Le;++Ct)for(Ee=0;Ee<Ce;++Ee)Nt[ue++]=ot(yt[H(ut[ct++])])},oe[d]=function(ut,ct,yt,Ct,Nt,ue,Ee){var Le=8>>ut.b,Ce=ut.Ea,ur=ut.K[0],qe=ut.w;if(8>Le)for(ut=(1<<ut.b)-1,qe=(1<<Le)-1;ct<yt;++ct){var he,_e=0;for(he=0;he<Ce;++he)he&ut||(_e=H(Ct[Nt++])),ue[Ee++]=ot(ur[_e&qe]),_e>>=Le}else oe["VP8LMapColor"+E](Ct,Nt,ur,qe,ue,Ee,ct,yt,Ce)}}function Bi(d,v,E,H,ot){for(E=v+E;v<E;){var ut=d[v++];H[ot++]=ut>>16&255,H[ot++]=ut>>8&255,H[ot++]=ut>>0&255}}function Vn(d,v,E,H,ot){for(E=v+E;v<E;){var ut=d[v++];H[ot++]=ut>>16&255,H[ot++]=ut>>8&255,H[ot++]=ut>>0&255,H[ot++]=ut>>24&255}}function Ci(d,v,E,H,ot){for(E=v+E;v<E;){var ut=(ct=d[v++])>>16&240|ct>>12&15,ct=ct>>0&240|ct>>28&15;H[ot++]=ut,H[ot++]=ct}}function bn(d,v,E,H,ot){for(E=v+E;v<E;){var ut=(ct=d[v++])>>16&248|ct>>13&7,ct=ct>>5&224|ct>>3&31;H[ot++]=ut,H[ot++]=ct}}function gi(d,v,E,H,ot){for(E=v+E;v<E;){var ut=d[v++];H[ot++]=ut>>0&255,H[ot++]=ut>>8&255,H[ot++]=ut>>16&255}}function ba(d,v,E,H,ot,ut){if(ut==0)for(E=v+E;v<E;)mr(H,((ut=d[v++])[0]>>24|ut[1]>>8&65280|ut[2]<<8&16711680|ut[3]<<24)>>>0),ot+=32;else w(H,ot,d,v,E)}function Bn(d,v){oe[v][0]=oe[d+"0"],oe[v][1]=oe[d+"1"],oe[v][2]=oe[d+"2"],oe[v][3]=oe[d+"3"],oe[v][4]=oe[d+"4"],oe[v][5]=oe[d+"5"],oe[v][6]=oe[d+"6"],oe[v][7]=oe[d+"7"],oe[v][8]=oe[d+"8"],oe[v][9]=oe[d+"9"],oe[v][10]=oe[d+"10"],oe[v][11]=oe[d+"11"],oe[v][12]=oe[d+"12"],oe[v][13]=oe[d+"13"],oe[v][14]=oe[d+"0"],oe[v][15]=oe[d+"0"]}function Ka(d){return d==xu||d==ml||d==mn||d==Su}function li(){this.eb=[],this.size=this.A=this.fb=0}function mi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function na(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new li,this.f.kb=new mi,this.sd=null}function $n(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Un(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function eo(d,v){var E=d.T,H=v.ba.f.RGBA,ot=H.eb,ut=H.fb+d.ka*H.A,ct=da[v.ba.S],yt=d.y,Ct=d.O,Nt=d.f,ue=d.N,Ee=d.ea,Le=d.W,Ce=v.cc,ur=v.dc,qe=v.Mc,he=v.Nc,_e=d.ka,or=d.ka+d.T,hr=d.U,lr=hr+1>>1;for(_e==0?ct(yt,Ct,null,null,Nt,ue,Ee,Le,Nt,ue,Ee,Le,ot,ut,null,null,hr):(ct(v.ec,v.fc,yt,Ct,Ce,ur,qe,he,Nt,ue,Ee,Le,ot,ut-H.A,ot,ut,hr),++E);_e+2<or;_e+=2)Ce=Nt,ur=ue,qe=Ee,he=Le,ue+=d.Rc,Le+=d.Rc,ut+=2*H.A,ct(yt,(Ct+=2*d.fa)-d.fa,yt,Ct,Ce,ur,qe,he,Nt,ue,Ee,Le,ot,ut-H.A,ot,ut,hr);return Ct+=d.fa,d.j+or<d.o?(w(v.ec,v.fc,yt,Ct,hr),w(v.cc,v.dc,Nt,ue,lr),w(v.Mc,v.Nc,Ee,Le,lr),E--):1&or||ct(yt,Ct,null,null,Nt,ue,Ee,Le,Nt,ue,Ee,Le,ot,ut+H.A,null,null,hr),E}function ji(d,v,E){var H=d.F,ot=[d.J];if(H!=null){var ut=d.U,ct=v.ba.S,yt=ct==Ho||ct==mn;v=v.ba.f.RGBA;var Ct=[0],Nt=d.ka;Ct[0]=d.T,d.Kb&&(Nt==0?--Ct[0]:(--Nt,ot[0]-=d.width),d.j+d.ka+d.T==d.o&&(Ct[0]=d.o-d.j-Nt));var ue=v.eb;Nt=v.fb+Nt*v.A,d=ju(H,ot[0],d.width,ut,Ct,ue,Nt+(yt?0:3),v.A),g(E==Ct),d&&Ka(ct)&&Cs(ue,Nt,yt,ut,Ct,v.A)}return 0}function Za(d){var v=d.ma,E=v.ba.S,H=11>E,ot=E==Vl||E==Xl||E==Ho||E==Kl||E==12||Ka(E);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!pl(v.Oa,d,ot?11:12))return 0;if(ot&&Ka(E)&&qr(),d.da)alert("todo:use_scaling");else{if(H){if(v.Ib=Un,d.Kb){if(E=d.U+1>>1,v.memory=S(d.U+2*E),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+d.U,v.Mc=v.cc,v.Nc=v.dc+E,v.Ib=eo,qr()}}else alert("todo:EmitYUV");ot&&(v.Jb=ji,H&&vr())}if(H&&!Ku){for(d=0;256>d;++d)ru[d]=89858*(d-128)+bl>>eu,Ju[d]=-22014*(d-128)+bl,Zu[d]=-45773*(d-128),Yo[d]=113618*(d-128)+bl>>eu;for(d=Go;d<Wi;++d)v=76283*(d-16)+bl>>eu,Ch[d-Go]=$i(v,255),$u[d-Go]=$i(v+8>>4,15);Ku=1}return 1}function Ja(d){var v=d.ma,E=d.U,H=d.T;return g(!(1&d.ka)),0>=E||0>=H?0:(E=v.Ib(d,v),v.Jb!=null&&v.Jb(d,v,E),v.Dc+=E,1)}function nn(d){d.ma.memory=null}function Zi(d,v,E,H){return Ar(d,8)!=47?0:(v[0]=Ar(d,14)+1,E[0]=Ar(d,14)+1,H[0]=Ar(d,1),Ar(d,3)!=0?0:!d.h)}function _a(d,v){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+Ar(v,E)+1}function fs(d,v){return 120<v?v-120:1<=(E=((E=Ta[v-1])>>4)*d+(8-(15&E)))?E:1;var E}function ii(d,v,E){var H=Qt(E),ot=d[v+=255&H].g-8;return 0<ot&&(Pe(E,E.u+8),H=Qt(E),v+=d[v].value,v+=H&(1<<ot)-1),Pe(E,E.u+d[v].g),d[v].value}function Ai(d,v,E){return E.g+=d.g,E.value+=d.value<<v>>>0,g(8>=E.g),d.g}function ai(d,v,E){var H=d.xc;return g((v=H==0?0:d.vc[d.md*(E>>H)+(v>>H)])<d.Wb),d.Ya[v]}function $a(d,v,E,H){var ot=d.ab,ut=d.c*v,ct=d.C;v=ct+v;var yt=E,Ct=H;for(H=d.Ta,E=d.Ua;0<ot--;){var Nt=d.gc[ot],ue=ct,Ee=v,Le=yt,Ce=Ct,ur=(Ct=H,yt=E,Nt.Ea);switch(g(ue<Ee),g(Ee<=Nt.nc),Nt.hc){case 2:Ei(Le,Ce,(Ee-ue)*ur,Ct,yt);break;case 0:var qe=ue,he=Ee,_e=Ct,or=yt,hr=(kr=Nt).Ea;qe==0&&(jo(Le,Ce,null,null,1,_e,or),Tn(Le,Ce+1,0,0,hr-1,_e,or+1),Ce+=hr,or+=hr,++qe);for(var lr=1<<kr.b,Rr=lr-1,Lr=ir(hr,kr.b),Zr=kr.K,kr=kr.w+(qe>>kr.b)*Lr;qe<he;){var Er=Zr,jn=kr,On=1;for(fo(Le,Ce,_e,or-hr,1,_e,or);On<hr;){var vn=(On&~Rr)+lr;vn>hr&&(vn=hr),(0,Ca[Er[jn++]>>8&15])(Le,Ce+ +On,_e,or+On-hr,vn-On,_e,or+On),On=vn}Ce+=hr,or+=hr,++qe&Rr||(kr+=Lr)}Ee!=Nt.nc&&w(Ct,yt-ur,Ct,yt+(Ee-ue-1)*ur,ur);break;case 1:for(ur=Le,he=Ce,hr=(Le=Nt.Ea)-(or=Le&~(_e=(Ce=1<<Nt.b)-1)),qe=ir(Le,Nt.b),lr=Nt.K,Nt=Nt.w+(ue>>Nt.b)*qe;ue<Ee;){for(Rr=lr,Lr=Nt,Zr=new zr,kr=he+or,Er=he+Le;he<kr;)Kr(Rr[Lr++],Zr),Xn(Zr,ur,he,Ce,Ct,yt),he+=Ce,yt+=Ce;he<Er&&(Kr(Rr[Lr++],Zr),Xn(Zr,ur,he,hr,Ct,yt),he+=hr,yt+=hr),++ue&_e||(Nt+=qe)}break;case 3:if(Le==Ct&&Ce==yt&&0<Nt.b){for(he=Ct,Le=ur=yt+(Ee-ue)*ur-(or=(Ee-ue)*ir(Nt.Ea,Nt.b)),Ce=Ct,_e=yt,qe=[],or=(hr=or)-1;0<=or;--or)qe[or]=Ce[_e+or];for(or=hr-1;0<=or;--or)he[Le+or]=qe[or];po(Nt,ue,Ee,Ct,ur,Ct,yt)}else po(Nt,ue,Ee,Le,Ce,Ct,yt)}yt=H,Ct=E}Ct!=E&&w(H,E,yt,Ct,ut)}function Is(d,v){var E=d.V,H=d.Ba+d.c*d.C,ot=v-d.C;if(g(v<=d.l.o),g(16>=ot),0<ot){var ut=d.l,ct=d.Ta,yt=d.Ua,Ct=ut.width;if($a(d,ot,E,H),ot=yt=[yt],g((E=d.C)<(H=v)),g(ut.v<ut.va),H>ut.o&&(H=ut.o),E<ut.j){var Nt=ut.j-E;E=ut.j,ot[0]+=Nt*Ct}if(E>=H?E=0:(ot[0]+=4*ut.v,ut.ka=E-ut.j,ut.U=ut.va-ut.v,ut.T=H-E,E=1),E){if(yt=yt[0],11>(E=d.ca).S){var ue=E.f.RGBA,Ee=(H=E.S,ot=ut.U,ut=ut.T,Nt=ue.eb,ue.A),Le=ut;for(ue=ue.fb+d.Ma*ue.A;0<Le--;){var Ce=ct,ur=yt,qe=ot,he=Nt,_e=ue;switch(H){case gl:_s(Ce,ur,qe,he,_e);break;case Vl:za(Ce,ur,qe,he,_e);break;case xu:za(Ce,ur,qe,he,_e),Cs(he,_e,0,qe,1,0);break;case wu:ta(Ce,ur,qe,he,_e);break;case Xl:ba(Ce,ur,qe,he,_e,1);break;case ml:ba(Ce,ur,qe,he,_e,1),Cs(he,_e,0,qe,1,0);break;case Ho:ba(Ce,ur,qe,he,_e,0);break;case mn:ba(Ce,ur,qe,he,_e,0),Cs(he,_e,1,qe,1,0);break;case Kl:Pi(Ce,ur,qe,he,_e);break;case Su:Pi(Ce,ur,qe,he,_e),Hl(he,_e,qe,1,0);break;case Zl:Us(Ce,ur,qe,he,_e);break;default:g(0)}yt+=Ct,ue+=Ee}d.Ma+=ut}else alert("todo:EmitRescaledRowsYUVA");g(d.Ma<=E.height)}}d.C=v,g(d.C<=d.i)}function Na(d){var v;if(0<d.ua)return 0;for(v=0;v<d.Wb;++v){var E=d.Ya[v].G,H=d.Ya[v].H;if(0<E[1][H[1]+0].g||0<E[2][H[2]+0].g||0<E[3][H[3]+0].g)return 0}return 1}function Qa(d,v,E,H,ot,ut){if(d.Z!=0){var ct=d.qd,yt=d.rd;for(g(Vi[d.Z]!=null);v<E;++v)Vi[d.Z](ct,yt,H,ot,H,ot,ut),ct=H,yt=ot,ot+=ut;d.qd=ct,d.rd=yt}}function zi(d,v){var E=d.l.ma,H=E.Z==0||E.Z==1?d.l.j:d.C;if(H=d.C<H?H:d.C,g(v<=d.l.o),v>H){var ot=d.l.width,ut=E.ca,ct=E.tb+ot*H,yt=d.V,Ct=d.Ba+d.c*H,Nt=d.gc;g(d.ab==1),g(Nt[0].hc==3),zo(Nt[0],H,v,yt,Ct,ut,ct),Qa(E,H,v,ut,ct,ot)}d.C=d.Ma=v}function vi(d,v,E,H,ot,ut,ct){var yt=d.$/H,Ct=d.$%H,Nt=d.m,ue=d.s,Ee=E+d.$,Le=Ee;ot=E+H*ot;var Ce=E+H*ut,ur=280+ue.ua,qe=d.Pb?yt:16777216,he=0<ue.ua?ue.Wa:null,_e=ue.wc,or=Ee<Ce?ai(ue,Ct,yt):null;g(d.C<ut),g(Ce<=ot);var hr=!1;t:for(;;){for(;hr||Ee<Ce;){var lr=0;if(yt>=qe){var Rr=Ee-E;g((qe=d).Pb),qe.wd=qe.m,qe.xd=Rr,0<qe.s.ua&&qt(qe.s.Wa,qe.s.vb),qe=yt+Jl}if(Ct&_e||(or=ai(ue,Ct,yt)),g(or!=null),or.Qb&&(v[Ee]=or.qb,hr=!0),!hr)if(Ie(Nt),or.jc){lr=Nt,Rr=v;var Lr=Ee,Zr=or.pd[Qt(lr)&Ui-1];g(or.jc),256>Zr.g?(Pe(lr,lr.u+Zr.g),Rr[Lr]=Zr.value,lr=0):(Pe(lr,lr.u+Zr.g-256),g(256<=Zr.value),lr=Zr.value),lr==0&&(hr=!0)}else lr=ii(or.G[0],or.H[0],Nt);if(Nt.h)break;if(hr||256>lr){if(!hr)if(or.nd)v[Ee]=(or.qb|lr<<8)>>>0;else{if(Ie(Nt),hr=ii(or.G[1],or.H[1],Nt),Ie(Nt),Rr=ii(or.G[2],or.H[2],Nt),Lr=ii(or.G[3],or.H[3],Nt),Nt.h)break;v[Ee]=(Lr<<24|hr<<16|lr<<8|Rr)>>>0}if(hr=!1,++Ee,++Ct>=H&&(Ct=0,++yt,ct!=null&&yt<=ut&&!(yt%16)&&ct(d,yt),he!=null))for(;Le<Ee;)lr=v[Le++],he.X[(506832829*lr&4294967295)>>>he.Mb]=lr}else if(280>lr){if(lr=_a(lr-256,Nt),Rr=ii(or.G[4],or.H[4],Nt),Ie(Nt),Rr=fs(H,Rr=_a(Rr,Nt)),Nt.h)break;if(Ee-E<Rr||ot-Ee<lr)break t;for(Lr=0;Lr<lr;++Lr)v[Ee+Lr]=v[Ee+Lr-Rr];for(Ee+=lr,Ct+=lr;Ct>=H;)Ct-=H,++yt,ct!=null&&yt<=ut&&!(yt%16)&&ct(d,yt);if(g(Ee<=ot),Ct&_e&&(or=ai(ue,Ct,yt)),he!=null)for(;Le<Ee;)lr=v[Le++],he.X[(506832829*lr&4294967295)>>>he.Mb]=lr}else{if(!(lr<ur))break t;for(hr=lr-280,g(he!=null);Le<Ee;)lr=v[Le++],he.X[(506832829*lr&4294967295)>>>he.Mb]=lr;lr=Ee,g(!(hr>>>(Rr=he).Xa)),v[lr]=Rr.X[hr],hr=!0}hr||g(Nt.h==ge(Nt))}if(d.Pb&&Nt.h&&Ee<ot)g(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&qt(d.s.vb,d.s.Wa);else{if(Nt.h)break t;ct!=null&&ct(d,yt>ut?ut:yt),d.a=0,d.$=Ee-E}return 1}return d.a=3,0}function ia(d){g(d!=null),d.vc=null,d.yc=null,d.Ya=null;var v=d.Wa;v!=null&&(v.X=null),d.vb=null,g(d!=null)}function ro(){var d=new hl;return d==null?null:(d.a=0,d.xb=Hu,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),Ei=qn,Xn=dn,_s=Bi,za=Vn,Pi=Ci,Us=bn,ta=gi,oe.VP8LMapColor32b=vu,oe.VP8LMapColor8b=go,d)}function ts(d,v,E,H,ot){var ut=1,ct=[d],yt=[v],Ct=H.m,Nt=H.s,ue=null,Ee=0;t:for(;;){if(E)for(;ut&&Ar(Ct,1);){var Le=ct,Ce=yt,ur=H,qe=1,he=ur.m,_e=ur.gc[ur.ab],or=Ar(he,2);if(ur.Oc&1<<or)ut=0;else{switch(ur.Oc|=1<<or,_e.hc=or,_e.Ea=Le[0],_e.nc=Ce[0],_e.K=[null],++ur.ab,g(4>=ur.ab),or){case 0:case 1:_e.b=Ar(he,3)+2,qe=ts(ir(_e.Ea,_e.b),ir(_e.nc,_e.b),0,ur,_e.K),_e.K=_e.K[0];break;case 3:var hr,lr=Ar(he,8)+1,Rr=16<lr?0:4<lr?1:2<lr?2:3;if(Le[0]=ir(_e.Ea,Rr),_e.b=Rr,hr=qe=ts(lr,1,0,ur,_e.K)){var Lr,Zr=lr,kr=_e,Er=1<<(8>>kr.b),jn=S(Er);if(jn==null)hr=0;else{var On=kr.K[0],vn=kr.w;for(jn[0]=kr.K[0][0],Lr=1;Lr<1*Zr;++Lr)jn[Lr]=Ir(On[vn+Lr],jn[Lr-1]);for(;Lr<4*Er;++Lr)jn[Lr]=0;kr.K[0]=null,kr.K[0]=jn,hr=1}}qe=hr;break;case 2:break;default:g(0)}ut=qe}}if(ct=ct[0],yt=yt[0],ut&&Ar(Ct,1)&&!(ut=1<=(Ee=Ar(Ct,4))&&11>=Ee)){H.a=3;break t}var Zn;if(Zn=ut)e:{var Hn,pn,Ln,ea=H,xi=ct,Xi=yt,Gn=Ee,ra=E,pa=ea.m,Fi=ea.s,Ri=[null],fi=1,ti=0,Pa=xh[Gn];r:for(;;){if(ra&&Ar(pa,1)){var Ii=Ar(pa,3)+2,Ha=ir(xi,Ii),yo=ir(Xi,Ii),Vo=Ha*yo;if(!ts(Ha,yo,0,ea,Ri))break r;for(Ri=Ri[0],Fi.xc=Ii,Hn=0;Hn<Vo;++Hn){var Oa=Ri[Hn]>>8&65535;Ri[Hn]=Oa,Oa>=fi&&(fi=Oa+1)}}if(pa.h)break r;for(pn=0;5>pn;++pn){var di=Cu[pn];!pn&&0<Gn&&(di+=1<<Gn),ti<di&&(ti=di)}var nu=L(fi*Pa,se),th=fi,eh=L(th,$e);if(eh==null)var iu=null;else g(65536>=th),iu=eh;var _l=S(ti);if(iu==null||_l==null||nu==null){ea.a=1;break r}var wl=nu;for(Hn=Ln=0;Hn<fi;++Hn){var La=iu[Hn],Xo=La.G,Xs=La.H,Lu=0,Ks=1,au=0;for(pn=0;5>pn;++pn){di=Cu[pn],Xo[pn]=wl,Xs[pn]=Ln,!pn&&0<Gn&&(di+=1<<Gn);i:{var xl,su=di,bo=ea,Ko=_l,ls=wl,_o=Ln,ku=0,Ts=bo.m,Th=Ar(Ts,1);if(T(Ko,0,0,su),Th){var Ph=Ar(Ts,1)+1,Oh=Ar(Ts,1),rh=Ar(Ts,Oh==0?1:8);Ko[rh]=1,Ph==2&&(Ko[rh=Ar(Ts,8)]=1);var ou=1}else{var nh=S(19),ih=Ar(Ts,4)+4;if(19<ih){bo.a=3;var lu=0;break i}for(xl=0;xl<ih;++xl)nh[wh[xl]]=Ar(Ts,3);var Eu=void 0,Sl=void 0,ah=bo,sh=nh,Cl=su,Fu=Ko,Iu=0,Zs=ah.m,oh=8,Nu=L(128,se);n:for(;zt(Nu,0,7,sh,19);){if(Ar(Zs,1)){var Lh=2+2*Ar(Zs,3);if((Eu=2+Ar(Zs,Lh))>Cl)break n}else Eu=Cl;for(Sl=0;Sl<Cl&&Eu--;){Ie(Zs);var lh=Nu[0+(127&Qt(Zs))];Pe(Zs,Zs.u+lh.g);var Zo=lh.value;if(16>Zo)Fu[Sl++]=Zo,Zo!=0&&(oh=Zo);else{var kh=Zo==16,uh=Zo-16,Eh=vl[uh],ga=Ar(Zs,bh[uh])+Eh;if(Sl+ga>Cl)break n;for(var Fh=kh?oh:0;0<ga--;)Fu[Sl++]=Fh}}Iu=1;break n}Iu||(ah.a=3),ou=Iu}(ou=ou&&!Ts.h)&&(ku=zt(ls,_o,8,Ko,su)),ou&&ku!=0?lu=ku:(bo.a=3,lu=0)}if(lu==0)break r;if(Ks&&_h[pn]==1&&(Ks=wl[Ln].g==0),Lu+=wl[Ln].g,Ln+=lu,3>=pn){var Al,Mu=_l[0];for(Al=1;Al<di;++Al)_l[Al]>Mu&&(Mu=_l[Al]);au+=Mu}}if(La.nd=Ks,La.Qb=0,Ks&&(La.qb=(Xo[3][Xs[3]+0].value<<24|Xo[1][Xs[1]+0].value<<16|Xo[2][Xs[2]+0].value)>>>0,Lu==0&&256>Xo[0][Xs[0]+0].value&&(La.Qb=1,La.qb+=Xo[0][Xs[0]+0].value<<8)),La.jc=!La.Qb&&6>au,La.jc){var Tl,Ps=La;for(Tl=0;Tl<Ui;++Tl){var Js=Tl,$s=Ps.pd[Js],uu=Ps.G[0][Ps.H[0]+Js];256<=uu.value?($s.g=uu.g+256,$s.value=uu.value):($s.g=0,$s.value=0,Js>>=Ai(uu,8,$s),Js>>=Ai(Ps.G[1][Ps.H[1]+Js],16,$s),Js>>=Ai(Ps.G[2][Ps.H[2]+Js],0,$s),Ai(Ps.G[3][Ps.H[3]+Js],24,$s))}}}Fi.vc=Ri,Fi.Wb=fi,Fi.Ya=iu,Fi.yc=nu,Zn=1;break e}Zn=0}if(!(ut=Zn)){H.a=3;break t}if(0<Ee){if(Nt.ua=1<<Ee,!Vr(Nt.Wa,Ee)){H.a=1,ut=0;break t}}else Nt.ua=0;var Pl=H,hh=ct,Ih=yt,Du=Pl.s,Ru=Du.xc;if(Pl.c=hh,Pl.i=Ih,Du.md=ir(hh,Ru),Du.wc=Ru==0?-1:(1<<Ru)-1,E){H.xb=Ys;break t}if((ue=S(ct*yt))==null){H.a=1,ut=0;break t}ut=(ut=vi(H,ue,0,ct,yt,yt,null))&&!Ct.h;break t}return ut?(ot!=null?ot[0]=ue:(g(ue==null),g(E)),H.$=0,E||ia(Nt)):ia(Nt),ut}function no(d,v){var E=d.c*d.i,H=E+v+16*v;return g(d.c<=v),d.V=S(H),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+v,1)}function Po(d,v){var E=d.C,H=v-E,ot=d.V,ut=d.Ba+d.c*E;for(g(v<=d.l.o);0<H;){var ct=16<H?16:H,yt=d.l.ma,Ct=d.l.width,Nt=Ct*ct,ue=yt.ca,Ee=yt.tb+Ct*E,Le=d.Ta,Ce=d.Ua;$a(d,ct,ot,ut),yu(Le,Ce,ue,Ee,Nt),Qa(yt,E,E+ct,ue,Ee,Ct),H-=ct,ot+=ct*d.c,E+=ct}g(E==v),d.C=d.Ma=v}function Oo(){this.ub=this.yd=this.td=this.Rb=0}function ds(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Se(){this.Fb=this.Bb=this.Cb=0,this.Zb=S(4),this.Lb=S(4)}function Je(){this.Yb=function(){var d=[];return function v(E,H,ot){for(var ut=ot[H],ct=0;ct<ut&&(E.push(ot.length>H+1?[]:0),!(ot.length<H+1));ct++)v(E[ct],H+1,ot)}(d,0,[3,11]),d}()}function ze(){this.jb=S(3),this.Wc=j([4,8],Je),this.Xc=j([4,17],Je)}function Ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new S(4),this.od=new S(4)}function an(){this.ld=this.La=this.dd=this.tc=0}function Nn(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pn(){this.ad=S(384),this.Za=0,this.Ob=S(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rl(){this.uc=this.M=this.Nb=0,this.wa=Array(new an),this.Y=0,this.ya=Array(new Pn),this.aa=0,this.l=new io}function kl(){this.y=S(16),this.f=S(8),this.ea=S(8)}function Ji(){this.cb=this.a=0,this.sc="",this.m=new te,this.Od=new Oo,this.Kc=new ds,this.ed=new Ur,this.Qa=new Se,this.Ic=this.$c=this.Aa=0,this.D=new rl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=L(8,te),this.ia=0,this.pb=L(4,Qn),this.Pa=new ze,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kl),this.Hd=0,this.rb=Array(new Nn),this.sb=0,this.wa=Array(new an),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pn),this.L=this.aa=0,this.gd=j([4,2],an),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(d,v){return 0>d?0:d>v?v:d}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ns(){var d=new Ji;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,qo||(qo=fu)),d}function ui(d,v,E){return d.a==0&&(d.a=v,d.sc=E,d.cb=0),0}function Ms(d,v,E){return 3<=E&&d[v+0]==157&&d[v+1]==1&&d[v+2]==42}function Dn(d,v){if(d==null)return 0;if(d.a=0,d.sc="OK",v==null)return ui(d,2,"null VP8Io passed to VP8GetHeaders()");var E=v.data,H=v.w,ot=v.ha;if(4>ot)return ui(d,7,"Truncated header.");var ut=E[H+0]|E[H+1]<<8|E[H+2]<<16,ct=d.Od;if(ct.Rb=!(1&ut),ct.td=ut>>1&7,ct.yd=ut>>4&1,ct.ub=ut>>5,3<ct.td)return ui(d,3,"Incorrect keyframe parameters.");if(!ct.yd)return ui(d,4,"Frame not displayable.");H+=3,ot-=3;var yt=d.Kc;if(ct.Rb){if(7>ot)return ui(d,7,"cannot parse picture header");if(!Ms(E,H,ot))return ui(d,3,"Bad code word");yt.c=16383&(E[H+4]<<8|E[H+3]),yt.Td=E[H+4]>>6,yt.i=16383&(E[H+6]<<8|E[H+5]),yt.Ud=E[H+6]>>6,H+=7,ot-=7,d.za=yt.c+15>>4,d.Ub=yt.i+15>>4,v.width=yt.c,v.height=yt.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,T((ut=d.Pa).jb,0,255,ut.jb.length),g((ut=d.Qa)!=null),ut.Cb=0,ut.Bb=0,ut.Fb=1,T(ut.Zb,0,0,ut.Zb.length),T(ut.Lb,0,0,ut.Lb)}if(ct.ub>ot)return ui(d,7,"bad partition length");Ze(ut=d.m,E,H,ct.ub),H+=ct.ub,ot-=ct.ub,ct.Rb&&(yt.Ld=We(ut),yt.Kd=We(ut)),yt=d.Qa;var Ct,Nt=d.Pa;if(g(ut!=null),g(yt!=null),yt.Cb=We(ut),yt.Cb){if(yt.Bb=We(ut),We(ut)){for(yt.Fb=We(ut),Ct=0;4>Ct;++Ct)yt.Zb[Ct]=We(ut)?Re(ut,7):0;for(Ct=0;4>Ct;++Ct)yt.Lb[Ct]=We(ut)?Re(ut,6):0}if(yt.Bb)for(Ct=0;3>Ct;++Ct)Nt.jb[Ct]=We(ut)?pr(ut,8):255}else yt.Bb=0;if(ut.Ka)return ui(d,3,"cannot parse segment header");if((yt=d.ed).zd=We(ut),yt.Tb=pr(ut,6),yt.wb=pr(ut,3),yt.Pc=We(ut),yt.Pc&&We(ut)){for(Nt=0;4>Nt;++Nt)We(ut)&&(yt.vd[Nt]=Re(ut,6));for(Nt=0;4>Nt;++Nt)We(ut)&&(yt.od[Nt]=Re(ut,6))}if(d.L=yt.Tb==0?0:yt.zd?1:2,ut.Ka)return ui(d,3,"cannot parse filter header");var ue=ot;if(ot=Ct=H,H=Ct+ue,yt=ue,d.Xb=(1<<pr(d.m,2))-1,ue<3*(Nt=d.Xb))E=7;else{for(Ct+=3*Nt,yt-=3*Nt,ue=0;ue<Nt;++ue){var Ee=E[ot+0]|E[ot+1]<<8|E[ot+2]<<16;Ee>yt&&(Ee=yt),Ze(d.Jc[+ue],E,Ct,Ee),Ct+=Ee,yt-=Ee,ot+=3}Ze(d.Jc[+Nt],E,Ct,yt),E=Ct<H?0:5}if(E!=0)return ui(d,E,"cannot parse partitions");for(E=pr(Ct=d.m,7),ot=We(Ct)?Re(Ct,4):0,H=We(Ct)?Re(Ct,4):0,yt=We(Ct)?Re(Ct,4):0,Nt=We(Ct)?Re(Ct,4):0,Ct=We(Ct)?Re(Ct,4):0,ue=d.Qa,Ee=0;4>Ee;++Ee){if(ue.Cb){var Le=ue.Zb[Ee];ue.Fb||(Le+=E)}else{if(0<Ee){d.pb[Ee]=d.pb[0];continue}Le=E}var Ce=d.pb[Ee];Ce.Sc[0]=yl[$i(Le+ot,127)],Ce.Sc[1]=$l[$i(Le+0,127)],Ce.Eb[0]=2*yl[$i(Le+H,127)],Ce.Eb[1]=101581*$l[$i(Le+yt,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=yl[$i(Le+Nt,117)],Ce.Qc[1]=$l[$i(Le+Ct,127)],Ce.lc=Le+Ct}if(!ct.Rb)return ui(d,4,"Not a key frame.");for(We(ut),ct=d.Pa,E=0;4>E;++E){for(ot=0;8>ot;++ot)for(H=0;3>H;++H)for(yt=0;11>yt;++yt)Nt=Ye(ut,Wu[E][ot][H][yt])?pr(ut,8):Uu[E][ot][H][yt],ct.Wc[E][ot].Yb[H][yt]=Nt;for(ot=0;17>ot;++ot)ct.Xc[E][ot]=ct.Wc[E][Au[ot]]}return d.kc=We(ut),d.kc&&(d.Bd=pr(ut,8)),d.cb=1}function fu(d,v,E,H,ot,ut,ct){var yt=v[ot].Yb[E];for(E=0;16>ot;++ot){if(!Ye(d,yt[E+0]))return ot;for(;!Ye(d,yt[E+1]);)if(yt=v[++ot].Yb[0],E=0,ot==16)return 16;var Ct=v[ot+1].Yb;if(Ye(d,yt[E+2])){var Nt=d,ue=0;if(Ye(Nt,(Le=yt)[(Ee=E)+3]))if(Ye(Nt,Le[Ee+6])){for(yt=0,Ee=2*(ue=Ye(Nt,Le[Ee+8]))+(Le=Ye(Nt,Le[Ee+9+ue])),ue=0,Le=ca[Ee];Le[yt];++yt)ue+=ue+Ye(Nt,Le[yt]);ue+=3+(8<<Ee)}else Ye(Nt,Le[Ee+7])?(ue=7+2*Ye(Nt,165),ue+=Ye(Nt,145)):ue=5+Ye(Nt,159);else ue=Ye(Nt,Le[Ee+4])?3+Ye(Nt,Le[Ee+5]):2;yt=Ct[2]}else ue=1,yt=Ct[1];Ct=ct+Gs[ot],0>(Nt=d).b&&ar(Nt);var Ee,Le=Nt.b,Ce=(Ee=Nt.Ca>>1)-(Nt.I>>Le)>>31;--Nt.b,Nt.Ca+=Ce,Nt.Ca|=1,Nt.I-=(Ee+1&Ce)<<Le,ut[Ct]=((ue^Ce)-Ce)*H[(0<ot)+0]}return 16}function nl(d){var v=d.rb[d.sb-1];v.la=0,v.Na=0,T(d.zc,0,0,d.zc.length),d.ja=0}function Lo(d,v){if(d==null)return 0;if(v==null)return ui(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Dn(d,v))return 0;if(g(d.cb),v.ac==null||v.ac(v)){v.ob&&(d.L=0);var E=Vs[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=v.v-E>>4,d.zb=v.j-E>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=v.o+15+E>>4,d.Hb=v.va+15+E>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var H=d.ed;for(E=0;4>E;++E){var ot;if(d.Qa.Cb){var ut=d.Qa.Lb[E];d.Qa.Fb||(ut+=H.Tb)}else ut=H.Tb;for(ot=0;1>=ot;++ot){var ct=d.gd[E][ot],yt=ut;if(H.Pc&&(yt+=H.vd[0],ot&&(yt+=H.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var Ct=yt;0<H.wb&&(Ct=4<H.wb?Ct>>2:Ct>>1)>9-H.wb&&(Ct=9-H.wb),1>Ct&&(Ct=1),ct.dd=Ct,ct.tc=2*yt+Ct,ct.ld=40<=yt?2:15<=yt?1:0}else ct.tc=0;ct.La=ot}}}E=0}else ui(d,6,"Frame setup failed"),E=d.a;if(E=E==0){if(E){d.$c=0,0<d.Aa||(d.Ic=Qu);t:{E=d.Ic,H=4*(Ct=d.za);var Nt=32*Ct,ue=Ct+1,Ee=0<d.L?Ct*(0<d.Aa?2:1):0,Le=(d.Aa==2?2:1)*Ct;if((ct=H+832+(ot=3*(16*E+Vs[d.L])/2*Nt)+(ut=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=ct)E=0;else{if(ct>d.Vb){if(d.Vb=0,d.Ec=S(ct),d.Fc=0,d.Ec==null){E=ui(d,1,"no memory during frame initialization.");break t}d.Vb=ct}ct=d.Ec,yt=d.Fc,d.Ac=ct,d.Bc=yt,yt+=H,d.Gd=L(Nt,kl),d.Hd=0,d.rb=L(ue+1,Nn),d.sb=1,d.wa=Ee?L(Ee,an):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=Ct),g(!0),d.oc=ct,d.pc=yt,yt+=832,d.ya=L(Le,Pn),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=Ct),d.R=16*Ct,d.B=8*Ct,Ct=(Nt=Vs[d.L])*d.R,Nt=Nt/2*d.B,d.sa=ct,d.ta=yt+Ct,d.qa=d.sa,d.ra=d.ta+16*E*d.R+Nt,d.Ha=d.qa,d.Ia=d.ra+8*E*d.B+Nt,d.$c=0,yt+=ot,d.mb=ut?ct:null,d.nb=ut?yt:null,g(yt+ut<=d.Fc+d.Vb),nl(d),T(d.Ac,d.Bc,0,H),E=1}}if(E){if(v.ka=0,v.y=d.sa,v.O=d.ta,v.f=d.qa,v.N=d.ra,v.ea=d.Ha,v.Vd=d.Ia,v.fa=d.R,v.Rc=d.B,v.F=null,v.J=0,!_u){for(E=-255;255>=E;++E)ql[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)zu[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Gl[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)bu[255+E]=0>E?0:255<E?255:E;_u=1}ss=Fl,Ws=ko,os=il,Aa=Eo,Hs=El,yi=Ma,Uo=Bs,ws=ys,qs=ol,xs=Ul,la=Qi,Ss=wn,hi=Ro,Wn=rs,Di=vs,ci=zl,Yi=Do,Wo=es,fa[0]=Dl,fa[1]=Il,fa[2]=Da,fa[3]=Ml,fa[4]=si,fa[5]=pu,fa[6]=_i,fa[7]=gu,fa[8]=sl,fa[9]=Rl,As[0]=du,As[1]=wa,As[2]=Fo,As[3]=Nl,As[4]=oo,As[5]=Io,As[6]=al,Ua[0]=Sa,Ua[1]=aa,Ua[2]=No,Ua[3]=xa,Ua[4]=lo,Ua[5]=gs,Ua[6]=Mo,E=1}else E=0}E&&(E=function(Ce,ur){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var qe,he=Ce.Jc[Ce.M&Ce.Xb],_e=Ce.m,or=Ce;for(qe=0;qe<or.za;++qe){var hr=_e,lr=or,Rr=lr.Ac,Lr=lr.Bc+4*qe,Zr=lr.zc,kr=lr.ya[lr.aa+qe];if(lr.Qa.Bb?kr.$b=Ye(hr,lr.Pa.jb[0])?2+Ye(hr,lr.Pa.jb[2]):Ye(hr,lr.Pa.jb[1]):kr.$b=0,lr.kc&&(kr.Ad=Ye(hr,lr.Bd)),kr.Za=!Ye(hr,145)+0,kr.Za){var Er=kr.Ob,jn=0;for(lr=0;4>lr;++lr){var On,vn=Zr[0+lr];for(On=0;4>On;++On){vn=tu[Rr[Lr+On]][vn];for(var Zn=Ql[Ye(hr,vn[0])];0<Zn;)Zn=Ql[2*Zn+Ye(hr,vn[Zn])];vn=-Zn,Rr[Lr+On]=vn}w(Er,jn,Rr,Lr,4),jn+=4,Zr[0+lr]=vn}}else vn=Ye(hr,156)?Ye(hr,128)?1:3:Ye(hr,163)?2:0,kr.Ob[0]=vn,T(Rr,Lr,vn,4),T(Zr,0,vn,4);kr.Dd=Ye(hr,142)?Ye(hr,114)?Ye(hr,183)?1:3:2:0}if(or.m.Ka)return ui(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(or=he,hr=(_e=Ce).rb[_e.sb-1],Rr=_e.rb[_e.sb+_e.ja],qe=_e.ya[_e.aa+_e.ja],Lr=_e.kc?qe.Ad:0)hr.la=Rr.la=0,qe.Za||(hr.Na=Rr.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var Hn,pn;if(hr=Rr,Rr=or,Lr=_e.Pa.Xc,Zr=_e.ya[_e.aa+_e.ja],kr=_e.pb[Zr.$b],lr=Zr.ad,Er=0,jn=_e.rb[_e.sb-1],vn=On=0,T(lr,Er,0,384),Zr.Za)var Ln=0,ea=Lr[3];else{Zn=S(16);var xi=hr.Na+jn.Na;if(xi=qo(Rr,Lr[1],xi,kr.Eb,0,Zn,0),hr.Na=jn.Na=(0<xi)+0,1<xi)ss(Zn,0,lr,Er);else{var Xi=Zn[0]+3>>3;for(Zn=0;256>Zn;Zn+=16)lr[Er+Zn]=Xi}Ln=1,ea=Lr[0]}var Gn=15&hr.la,ra=15&jn.la;for(Zn=0;4>Zn;++Zn){var pa=1&ra;for(Xi=pn=0;4>Xi;++Xi)Gn=Gn>>1|(pa=(xi=qo(Rr,ea,xi=pa+(1&Gn),kr.Sc,Ln,lr,Er))>Ln)<<7,pn=pn<<2|(3<xi?3:1<xi?2:lr[Er+0]!=0),Er+=16;Gn>>=4,ra=ra>>1|pa<<7,On=(On<<8|pn)>>>0}for(ea=Gn,Ln=ra>>4,Hn=0;4>Hn;Hn+=2){for(pn=0,Gn=hr.la>>4+Hn,ra=jn.la>>4+Hn,Zn=0;2>Zn;++Zn){for(pa=1&ra,Xi=0;2>Xi;++Xi)xi=pa+(1&Gn),Gn=Gn>>1|(pa=0<(xi=qo(Rr,Lr[2],xi,kr.Qc,0,lr,Er)))<<3,pn=pn<<2|(3<xi?3:1<xi?2:lr[Er+0]!=0),Er+=16;Gn>>=2,ra=ra>>1|pa<<5}vn|=pn<<4*Hn,ea|=Gn<<4<<Hn,Ln|=(240&ra)<<Hn}hr.la=ea,jn.la=Ln,Zr.Hc=On,Zr.Gc=vn,Zr.ia=43690&vn?0:kr.ia,Lr=!(On|vn)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[qe.$b][qe.Za],_e.wa[_e.Y+_e.ja].La|=!Lr),or.Ka)return ui(Ce,7,"Premature end-of-file encountered.")}if(nl(Ce),_e=ur,or=1,qe=(he=Ce).D,hr=0<he.L&&he.M>=he.zb&&he.M<=he.Va,he.Aa==0)t:{if(qe.M=he.M,qe.uc=hr,is(he,qe),or=1,qe=(pn=he.D).Nb,hr=(vn=Vs[he.L])*he.R,Rr=vn/2*he.B,Zn=16*qe*he.R,Xi=8*qe*he.B,Lr=he.sa,Zr=he.ta-hr+Zn,kr=he.qa,lr=he.ra-Rr+Xi,Er=he.Ha,jn=he.Ia-Rr+Xi,ra=(Gn=pn.M)==0,On=Gn>=he.Va-1,he.Aa==2&&is(he,pn),pn.uc)for(pa=(xi=he).D.M,g(xi.D.uc),pn=xi.yb;pn<xi.Hb;++pn){Ln=pn,ea=pa;var Fi=(Ri=(di=xi).D).Nb;Hn=di.R;var Ri=Ri.wa[Ri.Y+Ln],fi=di.sa,ti=di.ta+16*Fi*Hn+16*Ln,Pa=Ri.dd,Ii=Ri.tc;if(Ii!=0)if(g(3<=Ii),di.L==1)0<Ln&&ci(fi,ti,Hn,Ii+4),Ri.La&&Wo(fi,ti,Hn,Ii),0<ea&&Di(fi,ti,Hn,Ii+4),Ri.La&&Yi(fi,ti,Hn,Ii);else{var Ha=di.B,yo=di.qa,Vo=di.ra+8*Fi*Ha+8*Ln,Oa=di.Ha,di=di.Ia+8*Fi*Ha+8*Ln;Fi=Ri.ld,0<Ln&&(ws(fi,ti,Hn,Ii+4,Pa,Fi),xs(yo,Vo,Oa,di,Ha,Ii+4,Pa,Fi)),Ri.La&&(Ss(fi,ti,Hn,Ii,Pa,Fi),Wn(yo,Vo,Oa,di,Ha,Ii,Pa,Fi)),0<ea&&(Uo(fi,ti,Hn,Ii+4,Pa,Fi),qs(yo,Vo,Oa,di,Ha,Ii+4,Pa,Fi)),Ri.La&&(la(fi,ti,Hn,Ii,Pa,Fi),hi(yo,Vo,Oa,di,Ha,Ii,Pa,Fi))}}if(he.ia&&alert("todo:DitherRow"),_e.put!=null){if(pn=16*Gn,Gn=16*(Gn+1),ra?(_e.y=he.sa,_e.O=he.ta+Zn,_e.f=he.qa,_e.N=he.ra+Xi,_e.ea=he.Ha,_e.W=he.Ia+Xi):(pn-=vn,_e.y=Lr,_e.O=Zr,_e.f=kr,_e.N=lr,_e.ea=Er,_e.W=jn),On||(Gn-=vn),Gn>_e.o&&(Gn=_e.o),_e.F=null,_e.J=null,he.Fa!=null&&0<he.Fa.length&&pn<Gn&&(_e.J=z(he,_e,pn,Gn-pn),_e.F=he.mb,_e.F==null&&_e.F.length==0)){or=ui(he,3,"Could not decode alpha data.");break t}pn<_e.j&&(vn=_e.j-pn,pn=_e.j,g(!(1&vn)),_e.O+=he.R*vn,_e.N+=he.B*(vn>>1),_e.W+=he.B*(vn>>1),_e.F!=null&&(_e.J+=_e.width*vn)),pn<Gn&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=pn-_e.j,_e.U=_e.va-_e.v,_e.T=Gn-pn,or=_e.put(_e))}qe+1!=he.Ic||On||(w(he.sa,he.ta-hr,Lr,Zr+16*he.R,hr),w(he.qa,he.ra-Rr,kr,lr+8*he.B,Rr),w(he.Ha,he.Ia-Rr,Er,jn+8*he.B,Rr))}if(!or)return ui(Ce,6,"Output aborted.")}return 1}(d,v)),v.bc!=null&&v.bc(v),E&=1}return E?(d.cb=0,E):0}function Ni(d,v,E,H,ot){ot=d[v+E+32*H]+(ot>>3),d[v+E+32*H]=-256&ot?0>ot?0:255:ot}function ao(d,v,E,H,ot,ut){Ni(d,v,0,E,H+ot),Ni(d,v,1,E,H+ut),Ni(d,v,2,E,H-ut),Ni(d,v,3,E,H-ot)}function ps(d){return(20091*d>>16)+d}function so(d,v,E,H){var ot,ut=0,ct=S(16);for(ot=0;4>ot;++ot){var yt=d[v+0]+d[v+8],Ct=d[v+0]-d[v+8],Nt=(35468*d[v+4]>>16)-ps(d[v+12]),ue=ps(d[v+4])+(35468*d[v+12]>>16);ct[ut+0]=yt+ue,ct[ut+1]=Ct+Nt,ct[ut+2]=Ct-Nt,ct[ut+3]=yt-ue,ut+=4,v++}for(ot=ut=0;4>ot;++ot)yt=(d=ct[ut+0]+4)+ct[ut+8],Ct=d-ct[ut+8],Nt=(35468*ct[ut+4]>>16)-ps(ct[ut+12]),Ni(E,H,0,0,yt+(ue=ps(ct[ut+4])+(35468*ct[ut+12]>>16))),Ni(E,H,1,0,Ct+Nt),Ni(E,H,2,0,Ct-Nt),Ni(E,H,3,0,yt-ue),ut++,H+=32}function Ma(d,v,E,H){var ot=d[v+0]+4,ut=35468*d[v+4]>>16,ct=ps(d[v+4]),yt=35468*d[v+1]>>16;ao(E,H,0,ot+ct,d=ps(d[v+1]),yt),ao(E,H,1,ot+ut,d,yt),ao(E,H,2,ot-ut,d,yt),ao(E,H,3,ot-ct,d,yt)}function ko(d,v,E,H,ot){so(d,v,E,H),ot&&so(d,v+16,E,H+4)}function il(d,v,E,H){Ws(d,v+0,E,H,1),Ws(d,v+32,E,H+128,1)}function Eo(d,v,E,H){var ot;for(d=d[v+0]+4,ot=0;4>ot;++ot)for(v=0;4>v;++v)Ni(E,H,v,ot,d)}function El(d,v,E,H){d[v+0]&&Aa(d,v+0,E,H),d[v+16]&&Aa(d,v+16,E,H+4),d[v+32]&&Aa(d,v+32,E,H+128),d[v+48]&&Aa(d,v+48,E,H+128+4)}function Fl(d,v,E,H){var ot,ut=S(16);for(ot=0;4>ot;++ot){var ct=d[v+0+ot]+d[v+12+ot],yt=d[v+4+ot]+d[v+8+ot],Ct=d[v+4+ot]-d[v+8+ot],Nt=d[v+0+ot]-d[v+12+ot];ut[0+ot]=ct+yt,ut[8+ot]=ct-yt,ut[4+ot]=Nt+Ct,ut[12+ot]=Nt-Ct}for(ot=0;4>ot;++ot)ct=(d=ut[0+4*ot]+3)+ut[3+4*ot],yt=ut[1+4*ot]+ut[2+4*ot],Ct=ut[1+4*ot]-ut[2+4*ot],Nt=d-ut[3+4*ot],E[H+0]=ct+yt>>3,E[H+16]=Nt+Ct>>3,E[H+32]=ct-yt>>3,E[H+48]=Nt-Ct>>3,H+=64}function Ds(d,v,E){var H,ot=v-32,ut=ua,ct=255-d[ot-1];for(H=0;H<E;++H){var yt,Ct=ut,Nt=ct+d[v-1];for(yt=0;yt<E;++yt)d[v+yt]=Ct[Nt+d[ot+yt]];v+=32}}function Il(d,v){Ds(d,v,4)}function aa(d,v){Ds(d,v,8)}function wa(d,v){Ds(d,v,16)}function Fo(d,v){var E;for(E=0;16>E;++E)w(d,v+32*E,d,v-32,16)}function Nl(d,v){var E;for(E=16;0<E;--E)T(d,v,d[v-1],16),v+=32}function Ti(d,v,E){var H;for(H=0;16>H;++H)T(v,E+32*H,d,16)}function du(d,v){var E,H=16;for(E=0;16>E;++E)H+=d[v-1+32*E]+d[v+E-32];Ti(H>>5,d,v)}function oo(d,v){var E,H=8;for(E=0;16>E;++E)H+=d[v-1+32*E];Ti(H>>4,d,v)}function Io(d,v){var E,H=8;for(E=0;16>E;++E)H+=d[v+E-32];Ti(H>>4,d,v)}function al(d,v){Ti(128,d,v)}function cn(d,v,E){return d+2*v+E+2>>2}function Da(d,v){var E,H=v-32;for(H=new Uint8Array([cn(d[H-1],d[H+0],d[H+1]),cn(d[H+0],d[H+1],d[H+2]),cn(d[H+1],d[H+2],d[H+3]),cn(d[H+2],d[H+3],d[H+4])]),E=0;4>E;++E)w(d,v+32*E,H,0,H.length)}function Ml(d,v){var E=d[v-1],H=d[v-1+32],ot=d[v-1+64],ut=d[v-1+96];mr(d,v+0,16843009*cn(d[v-1-32],E,H)),mr(d,v+32,16843009*cn(E,H,ot)),mr(d,v+64,16843009*cn(H,ot,ut)),mr(d,v+96,16843009*cn(ot,ut,ut))}function Dl(d,v){var E,H=4;for(E=0;4>E;++E)H+=d[v+E-32]+d[v-1+32*E];for(H>>=3,E=0;4>E;++E)T(d,v+32*E,H,4)}function si(d,v){var E=d[v-1+0],H=d[v-1+32],ot=d[v-1+64],ut=d[v-1-32],ct=d[v+0-32],yt=d[v+1-32],Ct=d[v+2-32],Nt=d[v+3-32];d[v+0+96]=cn(H,ot,d[v-1+96]),d[v+1+96]=d[v+0+64]=cn(E,H,ot),d[v+2+96]=d[v+1+64]=d[v+0+32]=cn(ut,E,H),d[v+3+96]=d[v+2+64]=d[v+1+32]=d[v+0+0]=cn(ct,ut,E),d[v+3+64]=d[v+2+32]=d[v+1+0]=cn(yt,ct,ut),d[v+3+32]=d[v+2+0]=cn(Ct,yt,ct),d[v+3+0]=cn(Nt,Ct,yt)}function _i(d,v){var E=d[v+1-32],H=d[v+2-32],ot=d[v+3-32],ut=d[v+4-32],ct=d[v+5-32],yt=d[v+6-32],Ct=d[v+7-32];d[v+0+0]=cn(d[v+0-32],E,H),d[v+1+0]=d[v+0+32]=cn(E,H,ot),d[v+2+0]=d[v+1+32]=d[v+0+64]=cn(H,ot,ut),d[v+3+0]=d[v+2+32]=d[v+1+64]=d[v+0+96]=cn(ot,ut,ct),d[v+3+32]=d[v+2+64]=d[v+1+96]=cn(ut,ct,yt),d[v+3+64]=d[v+2+96]=cn(ct,yt,Ct),d[v+3+96]=cn(yt,Ct,Ct)}function pu(d,v){var E=d[v-1+0],H=d[v-1+32],ot=d[v-1+64],ut=d[v-1-32],ct=d[v+0-32],yt=d[v+1-32],Ct=d[v+2-32],Nt=d[v+3-32];d[v+0+0]=d[v+1+64]=ut+ct+1>>1,d[v+1+0]=d[v+2+64]=ct+yt+1>>1,d[v+2+0]=d[v+3+64]=yt+Ct+1>>1,d[v+3+0]=Ct+Nt+1>>1,d[v+0+96]=cn(ot,H,E),d[v+0+64]=cn(H,E,ut),d[v+0+32]=d[v+1+96]=cn(E,ut,ct),d[v+1+32]=d[v+2+96]=cn(ut,ct,yt),d[v+2+32]=d[v+3+96]=cn(ct,yt,Ct),d[v+3+32]=cn(yt,Ct,Nt)}function gu(d,v){var E=d[v+0-32],H=d[v+1-32],ot=d[v+2-32],ut=d[v+3-32],ct=d[v+4-32],yt=d[v+5-32],Ct=d[v+6-32],Nt=d[v+7-32];d[v+0+0]=E+H+1>>1,d[v+1+0]=d[v+0+64]=H+ot+1>>1,d[v+2+0]=d[v+1+64]=ot+ut+1>>1,d[v+3+0]=d[v+2+64]=ut+ct+1>>1,d[v+0+32]=cn(E,H,ot),d[v+1+32]=d[v+0+96]=cn(H,ot,ut),d[v+2+32]=d[v+1+96]=cn(ot,ut,ct),d[v+3+32]=d[v+2+96]=cn(ut,ct,yt),d[v+3+64]=cn(ct,yt,Ct),d[v+3+96]=cn(yt,Ct,Nt)}function Rl(d,v){var E=d[v-1+0],H=d[v-1+32],ot=d[v-1+64],ut=d[v-1+96];d[v+0+0]=E+H+1>>1,d[v+2+0]=d[v+0+32]=H+ot+1>>1,d[v+2+32]=d[v+0+64]=ot+ut+1>>1,d[v+1+0]=cn(E,H,ot),d[v+3+0]=d[v+1+32]=cn(H,ot,ut),d[v+3+32]=d[v+1+64]=cn(ot,ut,ut),d[v+3+64]=d[v+2+64]=d[v+0+96]=d[v+1+96]=d[v+2+96]=d[v+3+96]=ut}function sl(d,v){var E=d[v-1+0],H=d[v-1+32],ot=d[v-1+64],ut=d[v-1+96],ct=d[v-1-32],yt=d[v+0-32],Ct=d[v+1-32],Nt=d[v+2-32];d[v+0+0]=d[v+2+32]=E+ct+1>>1,d[v+0+32]=d[v+2+64]=H+E+1>>1,d[v+0+64]=d[v+2+96]=ot+H+1>>1,d[v+0+96]=ut+ot+1>>1,d[v+3+0]=cn(yt,Ct,Nt),d[v+2+0]=cn(ct,yt,Ct),d[v+1+0]=d[v+3+32]=cn(E,ct,yt),d[v+1+32]=d[v+3+64]=cn(H,E,ct),d[v+1+64]=d[v+3+96]=cn(ot,H,E),d[v+1+96]=cn(ut,ot,H)}function No(d,v){var E;for(E=0;8>E;++E)w(d,v+32*E,d,v-32,8)}function xa(d,v){var E;for(E=0;8>E;++E)T(d,v,d[v-1],8),v+=32}function Rs(d,v,E){var H;for(H=0;8>H;++H)T(v,E+32*H,d,8)}function Sa(d,v){var E,H=8;for(E=0;8>E;++E)H+=d[v+E-32]+d[v-1+32*E];Rs(H>>4,d,v)}function gs(d,v){var E,H=4;for(E=0;8>E;++E)H+=d[v+E-32];Rs(H>>3,d,v)}function lo(d,v){var E,H=4;for(E=0;8>E;++E)H+=d[v-1+32*E];Rs(H>>3,d,v)}function Mo(d,v){Rs(128,d,v)}function Ra(d,v,E){var H=d[v-E],ot=d[v+0],ut=3*(ot-H)+Yl[1020+d[v-2*E]-d[v+E]],ct=mo[112+(ut+4>>3)];d[v-E]=ua[255+H+mo[112+(ut+3>>3)]],d[v+0]=ua[255+ot-ct]}function Bl(d,v,E,H){var ot=d[v+0],ut=d[v+E];return ha[255+d[v-2*E]-d[v-E]]>H||ha[255+ut-ot]>H}function jl(d,v,E,H){return 4*ha[255+d[v-E]-d[v+0]]+ha[255+d[v-2*E]-d[v+E]]<=H}function ms(d,v,E,H,ot){var ut=d[v-3*E],ct=d[v-2*E],yt=d[v-E],Ct=d[v+0],Nt=d[v+E],ue=d[v+2*E],Ee=d[v+3*E];return 4*ha[255+yt-Ct]+ha[255+ct-Nt]>H?0:ha[255+d[v-4*E]-ut]<=ot&&ha[255+ut-ct]<=ot&&ha[255+ct-yt]<=ot&&ha[255+Ee-ue]<=ot&&ha[255+ue-Nt]<=ot&&ha[255+Nt-Ct]<=ot}function vs(d,v,E,H){var ot=2*H+1;for(H=0;16>H;++H)jl(d,v+H,E,ot)&&Ra(d,v+H,E)}function zl(d,v,E,H){var ot=2*H+1;for(H=0;16>H;++H)jl(d,v+H*E,1,ot)&&Ra(d,v+H*E,1)}function Do(d,v,E,H){var ot;for(ot=3;0<ot;--ot)vs(d,v+=4*E,E,H)}function es(d,v,E,H){var ot;for(ot=3;0<ot;--ot)zl(d,v+=4,E,H)}function Ba(d,v,E,H,ot,ut,ct,yt){for(ut=2*ut+1;0<ot--;){if(ms(d,v,E,ut,ct))if(Bl(d,v,E,yt))Ra(d,v,E);else{var Ct=d,Nt=v,ue=E,Ee=Ct[Nt-2*ue],Le=Ct[Nt-ue],Ce=Ct[Nt+0],ur=Ct[Nt+ue],qe=Ct[Nt+2*ue],he=27*(or=Yl[1020+3*(Ce-Le)+Yl[1020+Ee-ur]])+63>>7,_e=18*or+63>>7,or=9*or+63>>7;Ct[Nt-3*ue]=ua[255+Ct[Nt-3*ue]+or],Ct[Nt-2*ue]=ua[255+Ee+_e],Ct[Nt-ue]=ua[255+Le+he],Ct[Nt+0]=ua[255+Ce-he],Ct[Nt+ue]=ua[255+ur-_e],Ct[Nt+2*ue]=ua[255+qe-or]}v+=H}}function mt(d,v,E,H,ot,ut,ct,yt){for(ut=2*ut+1;0<ot--;){if(ms(d,v,E,ut,ct))if(Bl(d,v,E,yt))Ra(d,v,E);else{var Ct=d,Nt=v,ue=E,Ee=Ct[Nt-ue],Le=Ct[Nt+0],Ce=Ct[Nt+ue],ur=mo[112+((qe=3*(Le-Ee))+4>>3)],qe=mo[112+(qe+3>>3)],he=ur+1>>1;Ct[Nt-2*ue]=ua[255+Ct[Nt-2*ue]+he],Ct[Nt-ue]=ua[255+Ee+qe],Ct[Nt+0]=ua[255+Le-ur],Ct[Nt+ue]=ua[255+Ce-he]}v+=H}}function Bs(d,v,E,H,ot,ut){Ba(d,v,E,1,16,H,ot,ut)}function ys(d,v,E,H,ot,ut){Ba(d,v,1,E,16,H,ot,ut)}function Qi(d,v,E,H,ot,ut){var ct;for(ct=3;0<ct;--ct)mt(d,v+=4*E,E,1,16,H,ot,ut)}function wn(d,v,E,H,ot,ut){var ct;for(ct=3;0<ct;--ct)mt(d,v+=4,1,E,16,H,ot,ut)}function ol(d,v,E,H,ot,ut,ct,yt){Ba(d,v,ot,1,8,ut,ct,yt),Ba(E,H,ot,1,8,ut,ct,yt)}function Ul(d,v,E,H,ot,ut,ct,yt){Ba(d,v,1,ot,8,ut,ct,yt),Ba(E,H,1,ot,8,ut,ct,yt)}function Ro(d,v,E,H,ot,ut,ct,yt){mt(d,v+4*ot,ot,1,8,ut,ct,yt),mt(E,H+4*ot,ot,1,8,ut,ct,yt)}function rs(d,v,E,H,ot,ut,ct,yt){mt(d,v+4,1,ot,8,ut,ct,yt),mt(E,H+4,1,ot,8,ut,ct,yt)}function ll(){this.ba=new na,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ul(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bo(){this.ua=0,this.Wa=new sr,this.vb=new sr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $e,this.yc=new se}function hl(){this.xb=this.a=0,this.l=new io,this.ca=new na,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new wt,this.Pb=0,this.wd=new wt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bo,this.ab=0,this.gc=L(4,mu),this.Oc=0}function sa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ns(d,v,E,H,ot,ut,ct){for(d=d==null?0:d[v+0],v=0;v<ct;++v)ot[ut+v]=d+E[H+v]&255,d=ot[ut+v]}function cl(d,v,E,H,ot,ut,ct){var yt;if(d==null)ns(null,null,E,H,ot,ut,ct);else for(yt=0;yt<ct;++yt)ot[ut+yt]=d[v+yt]+E[H+yt]&255}function D(d,v,E,H,ot,ut,ct){if(d==null)ns(null,null,E,H,ot,ut,ct);else{var yt,Ct=d[v+0],Nt=Ct,ue=Ct;for(yt=0;yt<ct;++yt)Nt=ue+(Ct=d[v+yt])-Nt,ue=E[H+yt]+(-256&Nt?0>Nt?0:255:Nt)&255,Nt=Ct,ot[ut+yt]=ue}}function z(d,v,E,H){var ot=v.width,ut=v.o;if(g(d!=null&&v!=null),0>E||0>=H||E+H>ut)return null;if(!d.Cc){if(d.ga==null){var ct;if(d.ga=new sa,(ct=d.ga==null)||(ct=v.width*v.o,g(d.Gb.length==0),d.Gb=S(ct),d.Uc=0,d.Gb==null?ct=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,ct=1),ct=!ct),!ct){ct=d.ga;var yt=d.Fa,Ct=d.P,Nt=d.qc,ue=d.mb,Ee=d.nb,Le=Ct+1,Ce=Nt-1,ur=ct.l;if(g(yt!=null&&ue!=null&&v!=null),Vi[0]=null,Vi[1]=ns,Vi[2]=cl,Vi[3]=D,ct.ca=ue,ct.tb=Ee,ct.c=v.width,ct.i=v.height,g(0<ct.c&&0<ct.i),1>=Nt)v=0;else if(ct.$a=yt[Ct+0]>>0&3,ct.Z=yt[Ct+0]>>2&3,ct.Lc=yt[Ct+0]>>4&3,Ct=yt[Ct+0]>>6&3,0>ct.$a||1<ct.$a||4<=ct.Z||1<ct.Lc||Ct)v=0;else if(ur.put=Ja,ur.ac=Za,ur.bc=nn,ur.ma=ct,ur.width=v.width,ur.height=v.height,ur.Da=v.Da,ur.v=v.v,ur.va=v.va,ur.j=v.j,ur.o=v.o,ct.$a)t:{g(ct.$a==1),v=ro();e:for(;;){if(v==null){v=0;break t}if(g(ct!=null),ct.mc=v,v.c=ct.c,v.i=ct.i,v.l=ct.l,v.l.ma=ct,v.l.width=ct.c,v.l.height=ct.i,v.a=0,br(v.m,yt,Le,Ce),!ts(ct.c,ct.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Na(v.s)?(ct.ic=1,yt=v.c*v.i,v.Ta=null,v.Ua=0,v.V=S(yt),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(ct.ic=0,v=no(v,ct.c)),!v))break e;v=1;break t}ct.mc=null,v=0}else v=Ce>=ct.c*ct.i;ct=!v}if(ct)return null;d.ga.Lc!=1?d.Ga=0:H=ut-E}g(d.ga!=null),g(E+H<=ut);t:{if(v=(yt=d.ga).c,ut=yt.l.o,yt.$a==0){if(Le=d.rc,Ce=d.Vc,ur=d.Fa,Ct=d.P+1+E*v,Nt=d.mb,ue=d.nb+E*v,g(Ct<=d.P+d.qc),yt.Z!=0)for(g(Vi[yt.Z]!=null),ct=0;ct<H;++ct)Vi[yt.Z](Le,Ce,ur,Ct,Nt,ue,v),Le=Nt,Ce=ue,ue+=v,Ct+=v;else for(ct=0;ct<H;++ct)w(Nt,ue,ur,Ct,v),Le=Nt,Ce=ue,ue+=v,Ct+=v;d.rc=Le,d.Vc=Ce}else{if(g(yt.mc!=null),v=E+H,g((ct=yt.mc)!=null),g(v<=ct.i),ct.C>=v)v=1;else if(yt.ic||vr(),yt.ic){yt=ct.V,Le=ct.Ba,Ce=ct.c;var qe=ct.i,he=(ur=1,Ct=ct.$/Ce,Nt=ct.$%Ce,ue=ct.m,Ee=ct.s,ct.$),_e=Ce*qe,or=Ce*v,hr=Ee.wc,lr=he<or?ai(Ee,Nt,Ct):null;g(he<=_e),g(v<=qe),g(Na(Ee));e:for(;;){for(;!ue.h&&he<or;){if(Nt&hr||(lr=ai(Ee,Nt,Ct)),g(lr!=null),Ie(ue),256>(qe=ii(lr.G[0],lr.H[0],ue)))yt[Le+he]=qe,++he,++Nt>=Ce&&(Nt=0,++Ct<=v&&!(Ct%16)&&zi(ct,Ct));else{if(!(280>qe)){ur=0;break e}qe=_a(qe-256,ue);var Rr,Lr=ii(lr.G[4],lr.H[4],ue);if(Ie(ue),!(he>=(Lr=fs(Ce,Lr=_a(Lr,ue)))&&_e-he>=qe)){ur=0;break e}for(Rr=0;Rr<qe;++Rr)yt[Le+he+Rr]=yt[Le+he+Rr-Lr];for(he+=qe,Nt+=qe;Nt>=Ce;)Nt-=Ce,++Ct<=v&&!(Ct%16)&&zi(ct,Ct);he<or&&Nt&hr&&(lr=ai(Ee,Nt,Ct))}g(ue.h==ge(ue))}zi(ct,Ct>v?v:Ct);break e}!ur||ue.h&&he<_e?(ur=0,ct.a=ue.h?5:3):ct.$=he,v=ur}else v=vi(ct,ct.V,ct.Ba,ct.c,ct.i,v,Po);if(!v){H=0;break t}}E+H>=ut&&(d.Cc=1),H=1}if(!H)return null;if(d.Cc&&((H=d.ga)!=null&&(H.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*ot}function Ft(d,v,E,H,ot,ut){for(;0<ot--;){var ct,yt=d,Ct=v+(E?1:0),Nt=d,ue=v+(E?0:3);for(ct=0;ct<H;++ct){var Ee=Nt[ue+4*ct];Ee!=255&&(Ee*=32897,yt[Ct+4*ct+0]=yt[Ct+4*ct+0]*Ee>>23,yt[Ct+4*ct+1]=yt[Ct+4*ct+1]*Ee>>23,yt[Ct+4*ct+2]=yt[Ct+4*ct+2]*Ee>>23)}v+=ut}}function ee(d,v,E,H,ot){for(;0<H--;){var ut;for(ut=0;ut<E;++ut){var ct=d[v+2*ut+0],yt=15&(Nt=d[v+2*ut+1]),Ct=4369*yt,Nt=(240&Nt|Nt>>4)*Ct>>16;d[v+2*ut+0]=(240&ct|ct>>4)*Ct>>16&240|(15&ct|ct<<4)*Ct>>16>>4&15,d[v+2*ut+1]=240&Nt|yt}v+=ot}}function ke(d,v,E,H,ot,ut,ct,yt){var Ct,Nt,ue=255;for(Nt=0;Nt<ot;++Nt){for(Ct=0;Ct<H;++Ct){var Ee=d[v+Ct];ut[ct+4*Ct]=Ee,ue&=Ee}v+=E,ct+=yt}return ue!=255}function Fe(d,v,E,H,ot){var ut;for(ut=0;ut<ot;++ut)E[H+ut]=d[v+ut]>>8}function vr(){Cs=Ft,Hl=ee,ju=ke,yu=Fe}function Cr(d,v,E){oe[d]=function(H,ot,ut,ct,yt,Ct,Nt,ue,Ee,Le,Ce,ur,qe,he,_e,or,hr){var lr,Rr=hr-1>>1,Lr=yt[Ct+0]|Nt[ue+0]<<16,Zr=Ee[Le+0]|Ce[ur+0]<<16;g(H!=null);var kr=3*Lr+Zr+131074>>2;for(v(H[ot+0],255&kr,kr>>16,qe,he),ut!=null&&(kr=3*Zr+Lr+131074>>2,v(ut[ct+0],255&kr,kr>>16,_e,or)),lr=1;lr<=Rr;++lr){var Er=yt[Ct+lr]|Nt[ue+lr]<<16,jn=Ee[Le+lr]|Ce[ur+lr]<<16,On=Lr+Er+Zr+jn+524296,vn=On+2*(Er+Zr)>>3;kr=vn+Lr>>1,Lr=(On=On+2*(Lr+jn)>>3)+Er>>1,v(H[ot+2*lr-1],255&kr,kr>>16,qe,he+(2*lr-1)*E),v(H[ot+2*lr-0],255&Lr,Lr>>16,qe,he+(2*lr-0)*E),ut!=null&&(kr=On+Zr>>1,Lr=vn+jn>>1,v(ut[ct+2*lr-1],255&kr,kr>>16,_e,or+(2*lr-1)*E),v(ut[ct+2*lr+0],255&Lr,Lr>>16,_e,or+(2*lr+0)*E)),Lr=Er,Zr=jn}1&hr||(kr=3*Lr+Zr+131074>>2,v(H[ot+hr-1],255&kr,kr>>16,qe,he+(hr-1)*E),ut!=null&&(kr=3*Zr+Lr+131074>>2,v(ut[ct+hr-1],255&kr,kr>>16,_e,or+(hr-1)*E)))}}function qr(){da[gl]=qu,da[Vl]=Gu,da[wu]=Tu,da[Xl]=Yu,da[Ho]=Vu,da[Kl]=Pu,da[Zl]=Xu,da[xu]=Gu,da[ml]=Yu,da[mn]=Vu,da[Su]=Pu}function $r(d){return d&~Sh?0>d?0:255:d>>Wa}function gn(d,v){return $r((19077*d>>8)+(26149*v>>8)-14234)}function Mn(d,v,E){return $r((19077*d>>8)-(6419*v>>8)-(13320*E>>8)+8708)}function An(d,v){return $r((19077*d>>8)+(33050*v>>8)-17685)}function oi(d,v,E,H,ot){H[ot+0]=gn(d,E),H[ot+1]=Mn(d,v,E),H[ot+2]=An(d,v)}function ei(d,v,E,H,ot){H[ot+0]=An(d,v),H[ot+1]=Mn(d,v,E),H[ot+2]=gn(d,E)}function qi(d,v,E,H,ot){var ut=Mn(d,v,E);v=ut<<3&224|An(d,v)>>3,H[ot+0]=248&gn(d,E)|ut>>5,H[ot+1]=v}function wi(d,v,E,H,ot){var ut=240&An(d,v)|15;H[ot+0]=240&gn(d,E)|Mn(d,v,E)>>4,H[ot+1]=ut}function ja(d,v,E,H,ot){H[ot+0]=255,oi(d,v,E,H,ot+1)}function uo(d,v,E,H,ot){ei(d,v,E,H,ot),H[ot+3]=255}function fl(d,v,E,H,ot){oi(d,v,E,H,ot),H[ot+3]=255}function $i(d,v){return 0>d?0:d>v?v:d}function bs(d,v,E){oe[d]=function(H,ot,ut,ct,yt,Ct,Nt,ue,Ee){for(var Le=ue+(-2&Ee)*E;ue!=Le;)v(H[ot+0],ut[ct+0],yt[Ct+0],Nt,ue),v(H[ot+1],ut[ct+0],yt[Ct+0],Nt,ue+E),ot+=2,++ct,++Ct,ue+=2*E;1&Ee&&v(H[ot+0],ut[ct+0],yt[Ct+0],Nt,ue)}}function dl(d,v,E){return E==0?d==0?v==0?6:5:v==0?4:0:E}function ho(d,v,E,H,ot){switch(d>>>30){case 3:Ws(v,E,H,ot,0);break;case 2:yi(v,E,H,ot);break;case 1:Aa(v,E,H,ot)}}function is(d,v){var E,H,ot=v.M,ut=v.Nb,ct=d.oc,yt=d.pc+40,Ct=d.oc,Nt=d.pc+584,ue=d.oc,Ee=d.pc+600;for(E=0;16>E;++E)ct[yt+32*E-1]=129;for(E=0;8>E;++E)Ct[Nt+32*E-1]=129,ue[Ee+32*E-1]=129;for(0<ot?ct[yt-1-32]=Ct[Nt-1-32]=ue[Ee-1-32]=129:(T(ct,yt-32-1,127,21),T(Ct,Nt-32-1,127,9),T(ue,Ee-32-1,127,9)),H=0;H<d.za;++H){var Le=v.ya[v.aa+H];if(0<H){for(E=-1;16>E;++E)w(ct,yt+32*E-4,ct,yt+32*E+12,4);for(E=-1;8>E;++E)w(Ct,Nt+32*E-4,Ct,Nt+32*E+4,4),w(ue,Ee+32*E-4,ue,Ee+32*E+4,4)}var Ce=d.Gd,ur=d.Hd+H,qe=Le.ad,he=Le.Hc;if(0<ot&&(w(ct,yt-32,Ce[ur].y,0,16),w(Ct,Nt-32,Ce[ur].f,0,8),w(ue,Ee-32,Ce[ur].ea,0,8)),Le.Za){var _e=ct,or=yt-32+16;for(0<ot&&(H>=d.za-1?T(_e,or,Ce[ur].y[15],4):w(_e,or,Ce[ur+1].y,0,4)),E=0;4>E;E++)_e[or+128+E]=_e[or+256+E]=_e[or+384+E]=_e[or+0+E];for(E=0;16>E;++E,he<<=2)_e=ct,or=yt+vo[E],fa[Le.Ob[E]](_e,or),ho(he,qe,16*+E,_e,or)}else if(_e=dl(H,ot,Le.Ob[0]),As[_e](ct,yt),he!=0)for(E=0;16>E;++E,he<<=2)ho(he,qe,16*+E,ct,yt+vo[E]);for(E=Le.Gc,_e=dl(H,ot,Le.Dd),Ua[_e](Ct,Nt),Ua[_e](ue,Ee),he=qe,_e=Ct,or=Nt,255&(Le=E>>0)&&(170&Le?os(he,256,_e,or):Hs(he,256,_e,or)),Le=ue,he=Ee,255&(E>>=8)&&(170&E?os(qe,320,Le,he):Hs(qe,320,Le,he)),ot<d.Ub-1&&(w(Ce[ur].y,0,ct,yt+480,16),w(Ce[ur].f,0,Ct,Nt+224,8),w(Ce[ur].ea,0,ue,Ee+224,8)),E=8*ut*d.B,Ce=d.sa,ur=d.ta+16*H+16*ut*d.R,qe=d.qa,Le=d.ra+8*H+E,he=d.Ha,_e=d.Ia+8*H+E,E=0;16>E;++E)w(Ce,ur+E*d.R,ct,yt+32*E,16);for(E=0;8>E;++E)w(qe,Le+E*d.B,Ct,Nt+32*E,8),w(he,_e+E*d.B,ue,Ee+32*E,8)}}function js(d,v,E,H,ot,ut,ct,yt,Ct){var Nt=[0],ue=[0],Ee=0,Le=Ct!=null?Ct.kd:0,Ce=Ct!=null?Ct:new ul;if(d==null||12>E)return 7;Ce.data=d,Ce.w=v,Ce.ha=E,v=[v],E=[E],Ce.gb=[Ce.gb];t:{var ur=v,qe=E,he=Ce.gb;if(g(d!=null),g(qe!=null),g(he!=null),he[0]=0,12<=qe[0]&&!y(d,ur[0],"RIFF")){if(y(d,ur[0]+8,"WEBP")){he=3;break t}var _e=rn(d,ur[0]+4);if(12>_e||4294967286<_e){he=3;break t}if(Le&&_e>qe[0]-8){he=7;break t}he[0]=_e,ur[0]+=12,qe[0]-=12}he=0}if(he!=0)return he;for(_e=0<Ce.gb[0],E=E[0];;){t:{var or=d;qe=v,he=E;var hr=Nt,lr=ue,Rr=ur=[0];if((kr=Ee=[Ee])[0]=0,8>he[0])he=7;else{if(!y(or,qe[0],"VP8X")){if(rn(or,qe[0]+4)!=10){he=3;break t}if(18>he[0]){he=7;break t}var Lr=rn(or,qe[0]+8),Zr=1+Pr(or,qe[0]+12);if(2147483648<=Zr*(or=1+Pr(or,qe[0]+15))){he=3;break t}Rr!=null&&(Rr[0]=Lr),hr!=null&&(hr[0]=Zr),lr!=null&&(lr[0]=or),qe[0]+=18,he[0]-=18,kr[0]=1}he=0}}if(Ee=Ee[0],ur=ur[0],he!=0)return he;if(qe=!!(2&ur),!_e&&Ee)return 3;if(ut!=null&&(ut[0]=!!(16&ur)),ct!=null&&(ct[0]=qe),yt!=null&&(yt[0]=0),ct=Nt[0],ur=ue[0],Ee&&qe&&Ct==null){he=0;break}if(4>E){he=7;break}if(_e&&Ee||!_e&&!Ee&&!y(d,v[0],"ALPH")){E=[E],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];t:{Lr=d,he=v,_e=E;var kr=Ce.gb;hr=Ce.na,lr=Ce.P,Rr=Ce.Sa,Zr=22,g(Lr!=null),g(_e!=null),or=he[0];var Er=_e[0];for(g(hr!=null),g(Rr!=null),hr[0]=null,lr[0]=null,Rr[0]=0;;){if(he[0]=or,_e[0]=Er,8>Er){he=7;break t}var jn=rn(Lr,or+4);if(4294967286<jn){he=3;break t}var On=8+jn+1&-2;if(Zr+=On,0<kr&&Zr>kr){he=3;break t}if(!y(Lr,or,"VP8 ")||!y(Lr,or,"VP8L")){he=0;break t}if(Er[0]<On){he=7;break t}y(Lr,or,"ALPH")||(hr[0]=Lr,lr[0]=or+8,Rr[0]=jn),or+=On,Er-=On}}if(E=E[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],he!=0)break}E=[E],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];t:if(kr=d,he=v,_e=E,hr=Ce.gb[0],lr=Ce.Ja,Rr=Ce.xa,Lr=he[0],or=!y(kr,Lr,"VP8 "),Zr=!y(kr,Lr,"VP8L"),g(kr!=null),g(_e!=null),g(lr!=null),g(Rr!=null),8>_e[0])he=7;else{if(or||Zr){if(kr=rn(kr,Lr+4),12<=hr&&kr>hr-12){he=3;break t}if(Le&&kr>_e[0]-8){he=7;break t}lr[0]=kr,he[0]+=8,_e[0]-=8,Rr[0]=Zr}else Rr[0]=5<=_e[0]&&kr[Lr+0]==47&&!(kr[Lr+4]>>5),lr[0]=_e[0];he=0}if(E=E[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],v=v[0],he!=0)break;if(4294967286<Ce.Ja)return 3;if(yt==null||qe||(yt[0]=Ce.xa?2:1),ct=[ct],ur=[ur],Ce.xa){if(5>E){he=7;break}yt=ct,Le=ur,qe=ut,d==null||5>E?d=0:5<=E&&d[v+0]==47&&!(d[v+4]>>5)?(_e=[0],kr=[0],hr=[0],br(lr=new wt,d,v,E),Zi(lr,_e,kr,hr)?(yt!=null&&(yt[0]=_e[0]),Le!=null&&(Le[0]=kr[0]),qe!=null&&(qe[0]=hr[0]),d=1):d=0):d=0}else{if(10>E){he=7;break}yt=ur,d==null||10>E||!Ms(d,v+3,E-3)?d=0:(Le=d[v+0]|d[v+1]<<8|d[v+2]<<16,qe=16383&(d[v+7]<<8|d[v+6]),d=16383&(d[v+9]<<8|d[v+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Ce.Ja||!qe||!d?d=0:(ct&&(ct[0]=qe),yt&&(yt[0]=d),d=1))}if(!d||(ct=ct[0],ur=ur[0],Ee&&(Nt[0]!=ct||ue[0]!=ur)))return 3;Ct!=null&&(Ct[0]=Ce,Ct.offset=v-Ct.w,g(4294967286>v-Ct.w),g(Ct.offset==Ct.ha-E));break}return he==0||he==7&&Ee&&Ct==null?(ut!=null&&(ut[0]|=Ce.na!=null&&0<Ce.na.length),H!=null&&(H[0]=ct),ot!=null&&(ot[0]=ur),0):he}function pl(d,v,E){var H=v.width,ot=v.height,ut=0,ct=0,yt=H,Ct=ot;if(v.Da=d!=null&&0<d.Da,v.Da&&(yt=d.cd,Ct=d.bd,ut=d.v,ct=d.j,11>E||(ut&=-2,ct&=-2),0>ut||0>ct||0>=yt||0>=Ct||ut+yt>H||ct+Ct>ot))return 0;if(v.v=ut,v.j=ct,v.va=ut+yt,v.o=ct+Ct,v.U=yt,v.T=Ct,v.da=d!=null&&0<d.da,v.da){if(!Fr(yt,Ct,E=[d.ib],ut=[d.hb]))return 0;v.ib=E[0],v.hb=ut[0]}return v.ob=d!=null&&d.ob,v.Kb=d==null||!d.Sd,v.da&&(v.ob=v.ib<3*H/4&&v.hb<3*ot/4,v.Kb=0),1}function co(d){if(d==null)return 2;if(11>d.S){var v=d.f.RGBA;v.fb+=(d.height-1)*v.A,v.A=-v.A}else v=d.f.kb,d=d.height,v.O+=(d-1)*v.fa,v.fa=-v.fa,v.N+=(d-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(d-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(d-1)*v.lb,v.lb=-v.lb);return 0}function oa(d,v,E,H){if(H==null||0>=d||0>=v)return 2;if(E!=null){if(E.Da){var ot=E.cd,ut=E.bd,ct=-2&E.v,yt=-2&E.j;if(0>ct||0>yt||0>=ot||0>=ut||ct+ot>d||yt+ut>v)return 2;d=ot,v=ut}if(E.da){if(!Fr(d,v,ot=[E.ib],ut=[E.hb]))return 2;d=ot[0],v=ut[0]}}H.width=d,H.height=v;t:{var Ct=H.width,Nt=H.height;if(d=H.S,0>=Ct||0>=Nt||!(d>=gl&&13>d))d=2;else{if(0>=H.Rd&&H.sd==null){ct=ut=ot=v=0;var ue=(yt=Ct*Ou[d])*Nt;if(11>d||(ut=(Nt+1)/2*(v=(Ct+1)/2),d==12&&(ct=(ot=Ct)*Nt)),(Nt=S(ue+2*ut+ct))==null){d=1;break t}H.sd=Nt,11>d?((Ct=H.f.RGBA).eb=Nt,Ct.fb=0,Ct.A=yt,Ct.size=ue):((Ct=H.f.kb).y=Nt,Ct.O=0,Ct.fa=yt,Ct.Fd=ue,Ct.f=Nt,Ct.N=0+ue,Ct.Ab=v,Ct.Cd=ut,Ct.ea=Nt,Ct.W=0+ue+ut,Ct.Db=v,Ct.Ed=ut,d==12&&(Ct.F=Nt,Ct.J=0+ue+2*ut),Ct.Tc=ct,Ct.lb=ot)}if(v=1,ot=H.S,ut=H.width,ct=H.height,ot>=gl&&13>ot)if(11>ot)d=H.f.RGBA,v&=(yt=Math.abs(d.A))*(ct-1)+ut<=d.size,v&=yt>=ut*Ou[ot],v&=d.eb!=null;else{d=H.f.kb,yt=(ut+1)/2,ue=(ct+1)/2,Ct=Math.abs(d.fa),Nt=Math.abs(d.Ab);var Ee=Math.abs(d.Db),Le=Math.abs(d.lb),Ce=Le*(ct-1)+ut;v&=Ct*(ct-1)+ut<=d.Fd,v&=Nt*(ue-1)+yt<=d.Cd,v=(v&=Ee*(ue-1)+yt<=d.Ed)&Ct>=ut&Nt>=yt&Ee>=yt,v&=d.y!=null,v&=d.f!=null,v&=d.ea!=null,ot==12&&(v&=Le>=ut,v&=Ce<=d.Tc,v&=d.F!=null)}else v=0;d=v?0:2}}return d!=0||E!=null&&E.fd&&(d=co(H)),d}var Ui=64,zs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],as=24,Mi=32,Gi=8,Wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Tr("Predictor0","PredictorAdd0"),oe.Predictor0=function(){return 4278190080},oe.Predictor1=function(d){return d},oe.Predictor2=function(d,v,E){return v[E+0]},oe.Predictor3=function(d,v,E){return v[E+1]},oe.Predictor4=function(d,v,E){return v[E-1]},oe.Predictor5=function(d,v,E){return Hr(Hr(d,v[E+1]),v[E+0])},oe.Predictor6=function(d,v,E){return Hr(d,v[E-1])},oe.Predictor7=function(d,v,E){return Hr(d,v[E+0])},oe.Predictor8=function(d,v,E){return Hr(v[E-1],v[E+0])},oe.Predictor9=function(d,v,E){return Hr(v[E+0],v[E+1])},oe.Predictor10=function(d,v,E){return Hr(Hr(d,v[E-1]),Hr(v[E+0],v[E+1]))},oe.Predictor11=function(d,v,E){var H=v[E+0];return 0>=en(H>>24&255,d>>24&255,(v=v[E-1])>>24&255)+en(H>>16&255,d>>16&255,v>>16&255)+en(H>>8&255,d>>8&255,v>>8&255)+en(255&H,255&d,255&v)?H:d},oe.Predictor12=function(d,v,E){var H=v[E+0];return(Xr((d>>24&255)+(H>>24&255)-((v=v[E-1])>>24&255))<<24|Xr((d>>16&255)+(H>>16&255)-(v>>16&255))<<16|Xr((d>>8&255)+(H>>8&255)-(v>>8&255))<<8|Xr((255&d)+(255&H)-(255&v)))>>>0},oe.Predictor13=function(d,v,E){var H=v[E-1];return(In((d=Hr(d,v[E+0]))>>24&255,H>>24&255)<<24|In(d>>16&255,H>>16&255)<<16|In(d>>8&255,H>>8&255)<<8|In(d>>0&255,H>>0&255))>>>0};var jo=oe.PredictorAdd0;oe.PredictorAdd1=Tn,Tr("Predictor2","PredictorAdd2"),Tr("Predictor3","PredictorAdd3"),Tr("Predictor4","PredictorAdd4"),Tr("Predictor5","PredictorAdd5"),Tr("Predictor6","PredictorAdd6"),Tr("Predictor7","PredictorAdd7"),Tr("Predictor8","PredictorAdd8"),Tr("Predictor9","PredictorAdd9"),Tr("Predictor10","PredictorAdd10"),Tr("Predictor11","PredictorAdd11"),Tr("Predictor12","PredictorAdd12"),Tr("Predictor13","PredictorAdd13");var fo=oe.PredictorAdd2;Nr("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Nr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ei,po=oe.ColorIndexInverseTransform,vu=oe.MapARGB,zo=oe.VP8LColorIndexInverseTransformAlpha,go=oe.MapAlpha,Ca=oe.VP8LPredictorsAdd=[];Ca.length=16,(oe.VP8LPredictors=[]).length=16,(oe.VP8LPredictorsAdd_C=[]).length=16,(oe.VP8LPredictors_C=[]).length=16;var Xn,_s,za,Pi,Us,ta,ss,Ws,yi,os,Aa,Hs,Uo,ws,qs,xs,la,Ss,hi,Wn,Di,ci,Yi,Wo,Cs,Hl,ju,yu,ql=S(511),zu=S(2041),Gl=S(225),bu=S(767),_u=0,Yl=zu,mo=Gl,ua=bu,ha=ql,gl=0,Vl=1,wu=2,Xl=3,Ho=4,Kl=5,Zl=6,xu=7,ml=8,mn=9,Su=10,bh=[2,3,7],vl=[3,3,11],Cu=[280,256,256,256,40],_h=[0,1,1,1,0],wh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ta=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jl=8,yl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$l=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qo=null,ca=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ql=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Uu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Au=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],As=[],fa=[],Ua=[],Ys=1,Hu=2,Vi=[],da=[];Cr("UpsampleRgbLinePair",oi,3),Cr("UpsampleBgrLinePair",ei,3),Cr("UpsampleRgbaLinePair",fl,4),Cr("UpsampleBgraLinePair",uo,4),Cr("UpsampleArgbLinePair",ja,4),Cr("UpsampleRgba4444LinePair",wi,2),Cr("UpsampleRgb565LinePair",qi,2);var qu=oe.UpsampleRgbLinePair,Tu=oe.UpsampleBgrLinePair,Gu=oe.UpsampleRgbaLinePair,Yu=oe.UpsampleBgraLinePair,Vu=oe.UpsampleArgbLinePair,Pu=oe.UpsampleRgba4444LinePair,Xu=oe.UpsampleRgb565LinePair,eu=16,bl=1<<eu-1,Go=-227,Wi=482,Wa=6,Sh=(256<<Wa)-1,Ku=0,ru=S(256),Yo=S(256),Zu=S(256),Ju=S(256),Ch=S(Wi-Go),$u=S(Wi-Go);bs("YuvToRgbRow",oi,3),bs("YuvToBgrRow",ei,3),bs("YuvToRgbaRow",fl,4),bs("YuvToBgraRow",uo,4),bs("YuvToArgbRow",ja,4),bs("YuvToRgba4444Row",wi,2),bs("YuvToRgb565Row",qi,2);var vo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vs=[0,2,8],Ah=[8,7,6,4,4,2,2,2,1,1,1,1],Qu=1;this.WebPDecodeRGBA=function(d,v,E,H,ot){var ut=Vl,ct=new ll,yt=new na;ct.ba=yt,yt.S=ut,yt.width=[yt.width],yt.height=[yt.height];var Ct=yt.width,Nt=yt.height,ue=new $n;if(ue==null||d==null)var Ee=2;else g(ue!=null),Ee=js(d,v,E,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(Ee!=0?Ct=0:(Ct!=null&&(Ct[0]=ue.width[0]),Nt!=null&&(Nt[0]=ue.height[0]),Ct=1),Ct){yt.width=yt.width[0],yt.height=yt.height[0],H!=null&&(H[0]=yt.width),ot!=null&&(ot[0]=yt.height);t:{if(H=new io,(ot=new ul).data=d,ot.w=v,ot.ha=E,ot.kd=1,v=[0],g(ot!=null),((d=js(ot.data,ot.w,ot.ha,null,null,null,v,null,ot))==0||d==7)&&v[0]&&(d=4),(v=d)==0){if(g(ct!=null),H.data=ot.data,H.w=ot.w+ot.offset,H.ha=ot.ha-ot.offset,H.put=Ja,H.ac=Za,H.bc=nn,H.ma=ct,ot.xa){if((d=ro())==null){ct=1;break t}if(function(Le,Ce){var ur=[0],qe=[0],he=[0];e:for(;;){if(Le==null)return 0;if(Ce==null)return Le.a=2,0;if(Le.l=Ce,Le.a=0,br(Le.m,Ce.data,Ce.w,Ce.ha),!Zi(Le.m,ur,qe,he)){Le.a=3;break e}if(Le.xb=Hu,Ce.width=ur[0],Ce.height=qe[0],!ts(ur[0],qe[0],1,Le,null))break e;return 1}return g(Le.a!=0),0}(d,H)){if(H=(v=oa(H.width,H.height,ct.Oa,ct.ba))==0){e:{H=d;r:for(;;){if(H==null){H=0;break e}if(g(H.s.yc!=null),g(H.s.Ya!=null),g(0<H.s.Wb),g((E=H.l)!=null),g((ot=E.ma)!=null),H.xb!=0){if(H.ca=ot.ba,H.tb=ot.tb,g(H.ca!=null),!pl(ot.Oa,E,Xl)){H.a=2;break r}if(!no(H,E.width)||E.da)break r;if((E.da||Ka(H.ca.S))&&vr(),11>H.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),H.ca.f.kb.F!=null&&vr()),H.Pb&&0<H.s.ua&&H.s.vb.X==null&&!Vr(H.s.vb,H.s.Wa.Xa)){H.a=1;break r}H.xb=0}if(!vi(H,H.V,H.Ba,H.c,H.i,E.o,Is))break r;ot.Dc=H.Ma,H=1;break e}g(H.a!=0),H=0}H=!H}H&&(v=d.a)}else v=d.a}else{if((d=new Ns)==null){ct=1;break t}if(d.Fa=ot.na,d.P=ot.P,d.qc=ot.Sa,Dn(d,H)){if((v=oa(H.width,H.height,ct.Oa,ct.ba))==0){if(d.Aa=0,E=ct.Oa,g((ot=d)!=null),E!=null){if(0<(Ct=0>(Ct=E.Md)?0:100<Ct?255:255*Ct/100)){for(Nt=ue=0;4>Nt;++Nt)12>(Ee=ot.pb[Nt]).lc&&(Ee.ia=Ct*Ah[0>Ee.lc?0:Ee.lc]>>3),ue|=Ee.ia;ue&&(alert("todo:VP8InitRandom"),ot.ia=1)}ot.Ga=E.Id,100<ot.Ga?ot.Ga=100:0>ot.Ga&&(ot.Ga=0)}Lo(d,H)||(v=d.a)}}else v=d.a}v==0&&ct.Oa!=null&&ct.Oa.fd&&(v=co(ct.ba))}ct=v}ut=ct!=0?null:11>ut?yt.f.RGBA.eb:yt.f.kb.y}else ut=null;return ut};var Ou=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function $(gr,oe){for(var Ve="",ie=0;ie<4;ie++)Ve+=String.fromCharCode(gr[oe++]);return Ve}function bt(gr,oe){return(gr[oe+0]<<0|gr[oe+1]<<8|gr[oe+2]<<16)>>>0}function vt(gr,oe){return(gr[oe+0]<<0|gr[oe+1]<<8|gr[oe+2]<<16|gr[oe+3]<<24)>>>0}new I;var kt=[0],X=[0],Kt=[],It=new I,$t=k,Mt=function(gr,oe){var Ve={},ie=0,zt=!1,se=0,ae=0;if(Ve.frames=[],!function(wt,Qt,ge,Pe){for(var Ie=0;Ie<Pe;Ie++)if(wt[Qt+Ie]!=ge.charCodeAt(Ie))return!0;return!1}(gr,oe,"RIFF",4)){var $e,Ze;for(vt(gr,oe+=4),oe+=8;oe<gr.length;){var pr=$(gr,oe),Re=vt(gr,oe+=4);oe+=4;var br=Re+(1&Re);switch(pr){case"VP8 ":case"VP8L":Ve.frames[ie]===void 0&&(Ve.frames[ie]={}),(te=Ve.frames[ie]).src_off=zt?ae:oe-8,te.src_size=se+Re+8,ie++,zt&&(zt=!1,se=0,ae=0);break;case"VP8X":(te=Ve.header={}).feature_flags=gr[oe];var er=oe+4;te.canvas_width=1+bt(gr,er),er+=3,te.canvas_height=1+bt(gr,er),er+=3;break;case"ALPH":zt=!0,se=br+8,ae=oe-8;break;case"ANIM":(te=Ve.header).bgcolor=vt(gr,oe),er=oe+4,te.loop_count=($e=gr)[(Ze=er)+0]<<0|$e[Ze+1]<<8,er+=2;break;case"ANMF":var Ar,te;(te=Ve.frames[ie]={}).offset_x=2*bt(gr,oe),oe+=3,te.offset_y=2*bt(gr,oe),oe+=3,te.width=1+bt(gr,oe),oe+=3,te.height=1+bt(gr,oe),oe+=3,te.duration=bt(gr,oe),oe+=3,Ar=gr[oe++],te.dispose=1&Ar,te.blend=Ar>>1&1}pr!="ANMF"&&(oe+=br)}return Ve}}($t,0);Mt.response=$t,Mt.rgbaoutput=!0,Mt.dataurl=!1;var gt=Mt.header?Mt.header:null,Ae=Mt.frames?Mt.frames:null;if(gt){gt.loop_counter=gt.loop_count,kt=[gt.canvas_height],X=[gt.canvas_width];for(var Be=0;Be<Ae.length&&Ae[Be].blend!=0;Be++);}var tr=Ae[0],fr=It.WebPDecodeRGBA($t,tr.src_off,tr.src_size,X,kt);tr.rgba=fr,tr.imgwidth=X[0],tr.imgheight=kt[0];for(var Ge=0;Ge<X[0]*kt[0]*4;Ge++)Kt[Ge]=fr[Ge];return this.width=X,this.height=kt,this.data=Kt,this}(function(k){var g=function(){return typeof pt.b=="function"},y=function(X,Kt,It,$t){var Mt=4,gt=L;switch($t){case k.image_compression.FAST:Mt=1,gt=S;break;case k.image_compression.MEDIUM:Mt=6,gt=j;break;case k.image_compression.SLOW:Mt=9,gt=I}X=w(X,Kt,It,gt);var Ae=Object(pt.b)(X,{level:Mt});return k.__addimage__.arrayBufferToBinaryString(Ae)},w=function(X,Kt,It,$t){for(var Mt,gt,Ae,Be=X.length/Kt,tr=new Uint8Array(X.length+Be),fr=bt(),Ge=0;Ge<Be;Ge+=1){if(Ae=Ge*Kt,Mt=X.subarray(Ae,Ae+Kt),$t)tr.set($t(Mt,It,gt),Ae+Ge);else{for(var gr,oe=fr.length,Ve=[];gr<oe;gr+=1)Ve[gr]=fr[gr](Mt,It,gt);var ie=vt(Ve.concat());tr.set(Ve[ie],Ae+Ge)}gt=Mt}return tr},T=function(X){var Kt=Array.apply([],X);return Kt.unshift(0),Kt},S=function(X,Kt){var It,$t=[],Mt=X.length;$t[0]=1;for(var gt=0;gt<Mt;gt+=1)It=X[gt-Kt]||0,$t[gt+1]=X[gt]-It+256&255;return $t},L=function(X,Kt,It){var $t,Mt=[],gt=X.length;Mt[0]=2;for(var Ae=0;Ae<gt;Ae+=1)$t=It&&It[Ae]||0,Mt[Ae+1]=X[Ae]-$t+256&255;return Mt},j=function(X,Kt,It){var $t,Mt,gt=[],Ae=X.length;gt[0]=3;for(var Be=0;Be<Ae;Be+=1)$t=X[Be-Kt]||0,Mt=It&&It[Be]||0,gt[Be+1]=X[Be]+256-($t+Mt>>>1)&255;return gt},I=function(X,Kt,It){var $t,Mt,gt,Ae,Be=[],tr=X.length;Be[0]=4;for(var fr=0;fr<tr;fr+=1)$t=X[fr-Kt]||0,Mt=It&&It[fr]||0,gt=It&&It[fr-Kt]||0,Ae=$($t,Mt,gt),Be[fr+1]=X[fr]-Ae+256&255;return Be},$=function(X,Kt,It){if(X===Kt&&Kt===It)return X;var $t=Math.abs(Kt-It),Mt=Math.abs(X-It),gt=Math.abs(X+Kt-It-It);return $t<=Mt&&$t<=gt?X:Mt<=gt?Kt:It},bt=function(){return[T,S,L,j,I]},vt=function(X){var Kt=X.map(function(It){return It.reduce(function($t,Mt){return $t+Math.abs(Mt)},0)});return Kt.indexOf(Math.min.apply(null,Kt))};k.processPNG=function(kt,X,Kt,It){var $t,Mt,gt,Ae,Be,tr,fr,Ge,gr,oe,Ve,ie,zt,se,ae,$e=this.decode.FLATE_DECODE,Ze="";if(this.__addimage__.isArrayBuffer(kt)&&(kt=new Uint8Array(kt)),this.__addimage__.isArrayBufferView(kt)){if(kt=(gt=new Ht(kt)).imgData,Mt=gt.bits,$t=gt.colorSpace,Be=gt.colors,[4,6].indexOf(gt.colorType)!==-1){if(gt.bits===8){gr=(Ge=gt.pixelBitlength==32?new Uint32Array(gt.decodePixels().buffer):gt.pixelBitlength==16?new Uint16Array(gt.decodePixels().buffer):new Uint8Array(gt.decodePixels().buffer)).length,Ve=new Uint8Array(gr*gt.colors),oe=new Uint8Array(gr);var pr,Re=gt.pixelBitlength-gt.bits;for(se=0,ae=0;se<gr;se++){for(zt=Ge[se],pr=0;pr<Re;)Ve[ae++]=zt>>>pr&255,pr+=gt.bits;oe[se]=zt>>>pr&255}}if(gt.bits===16){gr=(Ge=new Uint32Array(gt.decodePixels().buffer)).length,Ve=new Uint8Array(gr*(32/gt.pixelBitlength)*gt.colors),oe=new Uint8Array(gr*(32/gt.pixelBitlength)),ie=gt.colors>1,se=0,ae=0;for(var br=0;se<gr;)zt=Ge[se++],Ve[ae++]=zt>>>0&255,ie&&(Ve[ae++]=zt>>>16&255,zt=Ge[se++],Ve[ae++]=zt>>>0&255),oe[br++]=zt>>>16&255;Mt=8}It!==k.image_compression.NONE&&g()?(kt=y(Ve,gt.width*gt.colors,gt.colors,It),fr=y(oe,gt.width,1,It)):(kt=Ve,fr=oe,$e=void 0)}if(gt.colorType===3&&($t=this.color_spaces.INDEXED,tr=gt.palette,gt.transparency.indexed)){var er=gt.transparency.indexed,Ar=0;for(se=0,gr=er.length;se<gr;++se)Ar+=er[se];if((Ar/=255)===gr-1&&er.indexOf(0)!==-1)Ae=[er.indexOf(0)];else if(Ar!==gr){for(Ge=gt.decodePixels(),oe=new Uint8Array(Ge.length),se=0,gr=Ge.length;se<gr;se++)oe[se]=er[Ge[se]];fr=y(oe,gt.width,1)}}var te=function(wt){var Qt;switch(wt){case k.image_compression.FAST:Qt=11;break;case k.image_compression.MEDIUM:Qt=13;break;case k.image_compression.SLOW:Qt=14;break;default:Qt=12}return Qt}(It);return $e===this.decode.FLATE_DECODE&&(Ze="/Predictor "+te+" "),Ze+="/Colors "+Be+" /BitsPerComponent "+Mt+" /Columns "+gt.width,(this.__addimage__.isArrayBuffer(kt)||this.__addimage__.isArrayBufferView(kt))&&(kt=this.__addimage__.arrayBufferToBinaryString(kt)),(fr&&this.__addimage__.isArrayBuffer(fr)||this.__addimage__.isArrayBufferView(fr))&&(fr=this.__addimage__.arrayBufferToBinaryString(fr)),{alias:Kt,data:kt,index:X,filter:$e,decodeParameters:Ze,transparency:Ae,palette:tr,sMask:fr,predictor:te,width:gt.width,height:gt.height,bitsPerComponent:Mt,colorSpace:$t}}}})(V.API),function(k){k.processGIF89A=function(g,y,w,T){var S=new Xt(g),L=S.width,j=S.height,I=[];S.decodeAndBlitFrameRGBA(0,I);var $={data:I,width:L,height:j},bt=new Me(100).encode($,100);return k.processJPEG.call(this,bt,y,w,T)},k.processGIF87A=k.processGIF89A}(V.API),ne.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var k=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(k);for(var g=0;g<k;g++){var y=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0);this.palette[g]={red:T,green:w,blue:y,quad:S}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ne.prototype.parseBGR=function(){this.pos=this.offset;try{var k="bit"+this.bitPP,g=this.width*this.height*4;this.data=new Uint8Array(g),this[k]()}catch(y){tt.log("bit decode error:"+y)}},ne.prototype.bit1=function(){var k,g=Math.ceil(this.width/8),y=g%4;for(k=this.height-1;k>=0;k--){for(var w=this.bottom_up?k:this.height-1-k,T=0;T<g;T++)for(var S=this.datav.getUint8(this.pos++,!0),L=w*this.width*4+8*T*4,j=0;j<8&&8*T+j<this.width;j++){var I=this.palette[S>>7-j&1];this.data[L+4*j]=I.blue,this.data[L+4*j+1]=I.green,this.data[L+4*j+2]=I.red,this.data[L+4*j+3]=255}y!==0&&(this.pos+=4-y)}},ne.prototype.bit4=function(){for(var k=Math.ceil(this.width/2),g=k%4,y=this.height-1;y>=0;y--){for(var w=this.bottom_up?y:this.height-1-y,T=0;T<k;T++){var S=this.datav.getUint8(this.pos++,!0),L=w*this.width*4+2*T*4,j=S>>4,I=15&S,$=this.palette[j];if(this.data[L]=$.blue,this.data[L+1]=$.green,this.data[L+2]=$.red,this.data[L+3]=255,2*T+1>=this.width)break;$=this.palette[I],this.data[L+4]=$.blue,this.data[L+4+1]=$.green,this.data[L+4+2]=$.red,this.data[L+4+3]=255}g!==0&&(this.pos+=4-g)}},ne.prototype.bit8=function(){for(var k=this.width%4,g=this.height-1;g>=0;g--){for(var y=this.bottom_up?g:this.height-1-g,w=0;w<this.width;w++){var T=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+4*w;if(T<this.palette.length){var L=this.palette[T];this.data[S]=L.red,this.data[S+1]=L.green,this.data[S+2]=L.blue,this.data[S+3]=255}else this.data[S]=255,this.data[S+1]=255,this.data[S+2]=255,this.data[S+3]=255}k!==0&&(this.pos+=4-k)}},ne.prototype.bit15=function(){for(var k=this.width%3,g=parseInt("11111",2),y=this.height-1;y>=0;y--){for(var w=this.bottom_up?y:this.height-1-y,T=0;T<this.width;T++){var S=this.datav.getUint16(this.pos,!0);this.pos+=2;var L=(S&g)/g*255|0,j=(S>>5&g)/g*255|0,I=(S>>10&g)/g*255|0,$=S>>15?255:0,bt=w*this.width*4+4*T;this.data[bt]=I,this.data[bt+1]=j,this.data[bt+2]=L,this.data[bt+3]=$}this.pos+=k}},ne.prototype.bit16=function(){for(var k=this.width%3,g=parseInt("11111",2),y=parseInt("111111",2),w=this.height-1;w>=0;w--){for(var T=this.bottom_up?w:this.height-1-w,S=0;S<this.width;S++){var L=this.datav.getUint16(this.pos,!0);this.pos+=2;var j=(L&g)/g*255|0,I=(L>>5&y)/y*255|0,$=(L>>11)/g*255|0,bt=T*this.width*4+4*S;this.data[bt]=$,this.data[bt+1]=I,this.data[bt+2]=j,this.data[bt+3]=255}this.pos+=k}},ne.prototype.bit24=function(){for(var k=this.height-1;k>=0;k--){for(var g=this.bottom_up?k:this.height-1-k,y=0;y<this.width;y++){var w=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),L=g*this.width*4+4*y;this.data[L]=S,this.data[L+1]=T,this.data[L+2]=w,this.data[L+3]=255}this.pos+=this.width%4}},ne.prototype.bit32=function(){for(var k=this.height-1;k>=0;k--)for(var g=this.bottom_up?k:this.height-1-k,y=0;y<this.width;y++){var w=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),L=this.datav.getUint8(this.pos++,!0),j=g*this.width*4+4*y;this.data[j]=S,this.data[j+1]=T,this.data[j+2]=w,this.data[j+3]=L}},ne.prototype.getData=function(){return this.data},function(k){k.processBMP=function(g,y,w,T){var S=new ne(g,!1),L=S.width,j=S.height,I={data:S.getData(),width:L,height:j},$=new Me(100).encode(I,100);return k.processJPEG.call(this,$,y,w,T)}}(V.API),je.prototype.getData=function(){return this.data},function(k){k.processWEBP=function(g,y,w,T){var S=new je(g,!1),L=S.width,j=S.height,I={data:S.getData(),width:L,height:j},$=new Me(100).encode(I,100);return k.processJPEG.call(this,$,y,w,T)}}(V.API),V.API.processRGBA=function(k,g,y){for(var w=k.data,T=w.length,S=new Uint8Array(T/4*3),L=new Uint8Array(T/4),j=0,I=0,$=0;$<T;$+=4){var bt=w[$],vt=w[$+1],kt=w[$+2],X=w[$+3];S[j++]=bt,S[j++]=vt,S[j++]=kt,L[I++]=X}var Kt=this.__addimage__.arrayBufferToBinaryString(S);return{alpha:this.__addimage__.arrayBufferToBinaryString(L),data:Kt,index:g,alias:y,colorSpace:"DeviceRGB",bitsPerComponent:8,width:k.width,height:k.height}},V.API.setLanguage=function(k){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[k]!==void 0&&(this.internal.languageSettings.languageCode=k,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},B=V.API,P=B.getCharWidthsArray=function(k,g){var y,w,T=(g=g||{}).font||this.internal.getFont(),S=g.fontSize||this.internal.getFontSize(),L=g.charSpace||this.internal.getCharSpace(),j=g.widths?g.widths:T.metadata.Unicode.widths,I=j.fof?j.fof:1,$=g.kerning?g.kerning:T.metadata.Unicode.kerning,bt=$.fof?$.fof:1,vt=g.doKerning!==!1,kt=0,X=k.length,Kt=0,It=j[0]||I,$t=[];for(y=0;y<X;y++)w=k.charCodeAt(y),typeof T.metadata.widthOfString=="function"?$t.push((T.metadata.widthOfGlyph(T.metadata.characterToGlyph(w))+L*(1e3/S)||0)/1e3):(kt=vt&&me()($[w])==="object"&&!isNaN(parseInt($[w][Kt],10))?$[w][Kt]/bt:0,$t.push((j[w]||It)/I+kt)),Kt=w;return $t},G=B.getStringUnitWidth=function(k,g){var y=(g=g||{}).fontSize||this.internal.getFontSize(),w=g.font||this.internal.getFont(),T=g.charSpace||this.internal.getCharSpace();return B.processArabic&&(k=B.processArabic(k)),typeof w.metadata.widthOfString=="function"?w.metadata.widthOfString(k,y,T)/y:P.apply(this,arguments).reduce(function(S,L){return S+L},0)},st=function(g,y,w,T){for(var S=[],L=0,j=g.length,I=0;L!==j&&I+y[L]<w;)I+=y[L],L++;S.push(g.slice(0,L));var $=L;for(I=0;L!==j;)I+y[L]>T&&(S.push(g.slice($,L)),I=0,$=L),I+=y[L],L++;return $!==L&&S.push(g.slice($,L)),S},Lt=function(g,y,w){w||(w={});var T,S,L,j,I,$,bt,vt=[],kt=[vt],X=w.textIndent||0,Kt=0,It=0,$t=g.split(" "),Mt=P.apply(this,[" ",w])[0];if($=w.lineIndent===-1?$t[0].length+2:w.lineIndent||0){var gt=Array($).join(" "),Ae=[];$t.map(function(tr){(tr=tr.split(/\s*\n/)).length>1?Ae=Ae.concat(tr.map(function(fr,Ge){return(Ge&&fr.length?`
`:"")+fr})):Ae.push(tr[0])}),$t=Ae,$=G.apply(this,[gt,w])}for(L=0,j=$t.length;L<j;L++){var Be=0;if(T=$t[L],$&&T[0]==`
`&&(T=T.substr(1),Be=1),X+Kt+(It=(S=P.apply(this,[T,w])).reduce(function(tr,fr){return tr+fr},0))>y||Be){if(It>y){for(I=st.apply(this,[T,S,y-(X+Kt),y]),vt.push(I.shift()),vt=[I.pop()];I.length;)kt.push([I.shift()]);It=S.slice(T.length-(vt[0]?vt[0].length:0)).reduce(function(tr,fr){return tr+fr},0)}else vt=[T];kt.push(vt),X=It+$,Kt=Mt}else vt.push(T),X+=Kt+It,Kt=Mt}return bt=$?function(tr,fr){return(fr?gt:"")+tr.join(" ")}:function(tr){return tr.join(" ")},kt.map(bt)},B.splitTextToSize=function(k,g,y){var w,T=(y=y||{}).fontSize||this.internal.getFontSize(),S=function(bt){if(bt.widths&&bt.kerning)return{widths:bt.widths,kerning:bt.kerning};var vt=this.internal.getFont(bt.fontName,bt.fontStyle);return vt.metadata.Unicode?{widths:vt.metadata.Unicode.widths||{0:1},kerning:vt.metadata.Unicode.kerning||{}}:{font:vt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,y);w=Array.isArray(k)?k:String(k).split(/\r?\n/);var L=1*this.internal.scaleFactor*g/T;S.textIndent=y.textIndent?1*y.textIndent*this.internal.scaleFactor/T:0,S.lineIndent=y.lineIndent;var j,I,$=[];for(j=0,I=w.length;j<I;j++)$=$.concat(Lt.apply(this,[w[j],L,S]));return $},function(k){k.__fontmetrics__=k.__fontmetrics__||{};for(var g="klmnopqrstuvwxyz",y={},w={},T=0;T<g.length;T++)y[g[T]]="0123456789abcdef"[T],w["0123456789abcdef"[T]]=g[T];var S=function(kt){return"0x"+parseInt(kt,10).toString(16)},L=k.__fontmetrics__.compress=function(vt){var kt,X,Kt,It,$t=["{"];for(var Mt in vt){if(kt=vt[Mt],isNaN(parseInt(Mt,10))?X="'"+Mt+"'":(Mt=parseInt(Mt,10),X=(X=S(Mt).slice(2)).slice(0,-1)+w[X.slice(-1)]),typeof kt=="number")kt<0?(Kt=S(kt).slice(3),It="-"):(Kt=S(kt).slice(2),It=""),Kt=It+Kt.slice(0,-1)+w[Kt.slice(-1)];else{if(me()(kt)!=="object")throw new Error("Don't know what to do with value type "+me()(kt)+".");Kt=L(kt)}$t.push(X+Kt)}return $t.push("}"),$t.join("")},j=k.__fontmetrics__.uncompress=function(vt){if(typeof vt!="string")throw new Error("Invalid argument passed to uncompress.");for(var kt,X,Kt,It,$t={},Mt=1,gt=$t,Ae=[],Be="",tr="",fr=vt.length-1,Ge=1;Ge<fr;Ge+=1)(It=vt[Ge])=="'"?kt?(Kt=kt.join(""),kt=void 0):kt=[]:kt?kt.push(It):It=="{"?(Ae.push([gt,Kt]),gt={},Kt=void 0):It=="}"?((X=Ae.pop())[0][X[1]]=gt,Kt=void 0,gt=X[0]):It=="-"?Mt=-1:Kt===void 0?y.hasOwnProperty(It)?(Be+=y[It],Kt=parseInt(Be,16)*Mt,Mt=1,Be=""):Be+=It:y.hasOwnProperty(It)?(tr+=y[It],gt[Kt]=parseInt(tr,16)*Mt,Mt=1,Kt=void 0,tr=""):tr+=It;return $t},I={codePages:["WinAnsiEncoding"],WinAnsiEncoding:j("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},$={Unicode:{Courier:I,"Courier-Bold":I,"Courier-BoldOblique":I,"Courier-Oblique":I,Helvetica:I,"Helvetica-Bold":I,"Helvetica-BoldOblique":I,"Helvetica-Oblique":I,"Times-Roman":I,"Times-Bold":I,"Times-BoldItalic":I,"Times-Italic":I}},bt={Unicode:{"Courier-Oblique":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":j("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":j("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":j("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:j("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:j("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":j("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:j("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":j("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":j("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":j("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};k.events.push(["addFont",function(vt){var kt=vt.font,X=bt.Unicode[kt.postScriptName];X&&(kt.metadata.Unicode={},kt.metadata.Unicode.widths=X.widths,kt.metadata.Unicode.kerning=X.kerning);var Kt=$.Unicode[kt.postScriptName];Kt&&(kt.metadata.Unicode.encoding=Kt,kt.encoding=Kt.codePages[0])}])}(V.API),function(k){var g=function(w){for(var T=w.length,S=new Uint8Array(T),L=0;L<T;L++)S[L]=w.charCodeAt(L);return S};k.API.events.push(["addFont",function(y){var w=void 0,T=y.font,S=y.instance;if(!T.isStandardFont){if(S===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+T.postScriptName+"').");if(typeof(w=S.existsFileInVFS(T.postScriptName)===!1?S.loadFile(T.postScriptName):S.getFileFromVFS(T.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+T.postScriptName+"').");(function(L,j){j=/^\x00\x01\x00\x00/.test(j)?g(j):g(u(j)),L.metadata=k.API.TTFFont.open(j),L.metadata.Unicode=L.metadata.Unicode||{encoding:{},kerning:{},widths:[]},L.metadata.glyIdsUsed=[0]})(T,w)}}])}(V),function(k){function g(){return(ft.canvg?Promise.resolve(ft.canvg):De.e(64).then(De.bind(null,"DXPr"))).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y})}V.API.addSvgAsImage=function(y,w,T,S,L,j,I,$){if(isNaN(w)||isNaN(T))throw tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(S)||isNaN(L))throw tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var bt=document.createElement("canvas");bt.width=S,bt.height=L;var vt=bt.getContext("2d");vt.fillStyle="#fff",vt.fillRect(0,0,bt.width,bt.height);var kt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},X=this;return g().then(function(Kt){return Kt.fromString(vt,y,kt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Kt){return Kt.render(kt)}).then(function(){X.addImage(bt.toDataURL("image/jpeg",1),w,T,S,L,I,$)})}}(),V.API.putTotalPages=function(k){var g,y=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(g=new RegExp(k,"g"),y=this.internal.getNumberOfPages()):(g=new RegExp(this.pdfEscape16(k,this.internal.getFont()),"g"),y=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var w=1;w<=this.internal.getNumberOfPages();w++)for(var T=0;T<this.internal.pages[w].length;T++)this.internal.pages[w][T]=this.internal.pages[w][T].replace(g,y);return this},V.API.viewerPreferences=function(k,g){var y;k=k||{},g=g||!1;var w,T,S,L={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},j=Object.keys(L),I=[],$=0,bt=0,vt=0;function kt(Kt,It){var $t,Mt=!1;for($t=0;$t<Kt.length;$t+=1)Kt[$t]===It&&(Mt=!0);return Mt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(L)),this.internal.viewerpreferences.isSubscribed=!1),y=this.internal.viewerpreferences.configuration,k==="reset"||g===!0){var X=j.length;for(vt=0;vt<X;vt+=1)y[j[vt]].value=y[j[vt]].defaultValue,y[j[vt]].explicitSet=!1}if(me()(k)==="object"){for(T in k)if(S=k[T],kt(j,T)&&S!==void 0){if(y[T].type==="boolean"&&typeof S=="boolean")y[T].value=S;else if(y[T].type==="name"&&kt(y[T].valueSet,S))y[T].value=S;else if(y[T].type==="integer"&&Number.isInteger(S))y[T].value=S;else if(y[T].type==="array"){for($=0;$<S.length;$+=1)if(w=!0,S[$].length===1&&typeof S[$][0]=="number")I.push(String(S[$]-1));else if(S[$].length>1){for(bt=0;bt<S[$].length;bt+=1)typeof S[$][bt]!="number"&&(w=!1);w===!0&&I.push([S[$][0]-1,S[$][1]-1].join(" "))}y[T].value="["+I.join(" ")+"]"}else y[T].value=y[T].defaultValue;y[T].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Kt,It=[];for(Kt in y)y[Kt].explicitSet===!0&&(y[Kt].type==="name"?It.push("/"+Kt+" /"+y[Kt].value):It.push("/"+Kt+" "+y[Kt].value));It.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+It.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=y,this},function(k){var g=function(){var T='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',S=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),L=unescape(encodeURIComponent(T)),j=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),I=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),$=unescape(encodeURIComponent("</x:xmpmeta>")),bt=L.length+j.length+I.length+S.length+$.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+bt+" >>"),this.internal.write("stream"),this.internal.write(S+L+j+I+$),this.internal.write("endstream"),this.internal.write("endobj")},y=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};k.addMetadata=function(w,T){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:w,namespaceuri:T||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",y),this.internal.events.subscribe("postPutResources",g)),this}}(V.API),function(k){var g=k.API,y=g.pdfEscape16=function(S,L){for(var j,I=L.metadata.Unicode.widths,$=["","0","00","000","0000"],bt=[""],vt=0,kt=S.length;vt<kt;++vt){if(j=L.metadata.characterToGlyph(S.charCodeAt(vt)),L.metadata.glyIdsUsed.push(j),L.metadata.toUnicode[j]=S.charCodeAt(vt),I.indexOf(j)==-1&&(I.push(j),I.push([parseInt(L.metadata.widthOfGlyph(j),10)])),j=="0")return bt.join("");j=j.toString(16),bt.push($[4-j.length],j)}return bt.join("")},w=function(L){var j,I,$,bt,vt,kt,X;for(vt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,$=[],kt=0,X=(I=Object.keys(L).sort(function(Kt,It){return Kt-It})).length;kt<X;kt++)j=I[kt],$.length>=100&&(vt+=`
`+$.length+` beginbfchar
`+$.join(`
`)+`
endbfchar`,$=[]),L[j]!==void 0&&L[j]!==null&&typeof L[j].toString=="function"&&(bt=("0000"+L[j].toString(16)).slice(-4),j=("0000"+(+j).toString(16)).slice(-4),$.push("<"+j+"><"+bt+">"));return $.length&&(vt+=`
`+$.length+` beginbfchar
`+$.join(`
`)+`
endbfchar
`),vt+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};g.events.push(["putFont",function(S){(function(L){var j=L.font,I=L.out,$=L.newObject,bt=L.putStream;if(j.metadata instanceof k.API.TTFFont&&j.encoding==="Identity-H"){for(var vt=j.metadata.Unicode.widths,kt=j.metadata.subset.encode(j.metadata.glyIdsUsed,1),X="",Kt=0;Kt<kt.length;Kt++)X+=String.fromCharCode(kt[Kt]);var It=$();bt({data:X,addLength1:!0,objectId:It}),I("endobj");var $t=$();bt({data:w(j.metadata.toUnicode),addLength1:!0,objectId:$t}),I("endobj");var Mt=$();I("<<"),I("/Type /FontDescriptor"),I("/FontName /"+Vt(j.fontName)),I("/FontFile2 "+It+" 0 R"),I("/FontBBox "+k.API.PDFObject.convert(j.metadata.bbox)),I("/Flags "+j.metadata.flags),I("/StemV "+j.metadata.stemV),I("/ItalicAngle "+j.metadata.italicAngle),I("/Ascent "+j.metadata.ascender),I("/Descent "+j.metadata.decender),I("/CapHeight "+j.metadata.capHeight),I(">>"),I("endobj");var gt=$();I("<<"),I("/Type /Font"),I("/BaseFont /"+Vt(j.fontName)),I("/FontDescriptor "+Mt+" 0 R"),I("/W "+k.API.PDFObject.convert(vt)),I("/CIDToGIDMap /Identity"),I("/DW 1000"),I("/Subtype /CIDFontType2"),I("/CIDSystemInfo"),I("<<"),I("/Supplement 0"),I("/Registry (Adobe)"),I("/Ordering ("+j.encoding+")"),I(">>"),I(">>"),I("endobj"),j.objectNumber=$(),I("<<"),I("/Type /Font"),I("/Subtype /Type0"),I("/ToUnicode "+$t+" 0 R"),I("/BaseFont /"+Vt(j.fontName)),I("/Encoding /"+j.encoding),I("/DescendantFonts ["+gt+" 0 R]"),I(">>"),I("endobj"),j.isAlreadyPutted=!0}})(S)}]),g.events.push(["putFont",function(S){(function(L){var j=L.font,I=L.out,$=L.newObject,bt=L.putStream;if(j.metadata instanceof k.API.TTFFont&&j.encoding==="WinAnsiEncoding"){for(var vt=j.metadata.rawData,kt="",X=0;X<vt.length;X++)kt+=String.fromCharCode(vt[X]);var Kt=$();bt({data:kt,addLength1:!0,objectId:Kt}),I("endobj");var It=$();bt({data:w(j.metadata.toUnicode),addLength1:!0,objectId:It}),I("endobj");var $t=$();I("<<"),I("/Descent "+j.metadata.decender),I("/CapHeight "+j.metadata.capHeight),I("/StemV "+j.metadata.stemV),I("/Type /FontDescriptor"),I("/FontFile2 "+Kt+" 0 R"),I("/Flags 96"),I("/FontBBox "+k.API.PDFObject.convert(j.metadata.bbox)),I("/FontName /"+Vt(j.fontName)),I("/ItalicAngle "+j.metadata.italicAngle),I("/Ascent "+j.metadata.ascender),I(">>"),I("endobj"),j.objectNumber=$();for(var Mt=0;Mt<j.metadata.hmtx.widths.length;Mt++)j.metadata.hmtx.widths[Mt]=parseInt(j.metadata.hmtx.widths[Mt]*(1e3/j.metadata.head.unitsPerEm));I("<</Subtype/TrueType/Type/Font/ToUnicode "+It+" 0 R/BaseFont/"+Vt(j.fontName)+"/FontDescriptor "+$t+" 0 R/Encoding/"+j.encoding+" /FirstChar 29 /LastChar 255 /Widths "+k.API.PDFObject.convert(j.metadata.hmtx.widths)+">>"),I("endobj"),j.isAlreadyPutted=!0}})(S)}]);var T=function(L){var j,I=L.text||"",$=L.x,bt=L.y,vt=L.options||{},kt=L.mutex||{},X=kt.pdfEscape,Kt=kt.activeFontKey,It=kt.fonts,$t=Kt,Mt="",gt=0,Ae="",Be=It[$t].encoding;if(It[$t].encoding!=="Identity-H")return{text:I,x:$,y:bt,options:vt,mutex:kt};for(Ae=I,$t=Kt,Array.isArray(I)&&(Ae=I[0]),gt=0;gt<Ae.length;gt+=1)It[$t].metadata.hasOwnProperty("cmap")&&(j=It[$t].metadata.cmap.unicode.codeMap[Ae[gt].charCodeAt(0)]),j||Ae[gt].charCodeAt(0)<256&&It[$t].metadata.hasOwnProperty("Unicode")?Mt+=Ae[gt]:Mt+="";var tr="";return parseInt($t.slice(1))<14||Be==="WinAnsiEncoding"?tr=X(Mt,$t).split("").map(function(fr){return fr.charCodeAt(0).toString(16)}).join(""):Be==="Identity-H"&&(tr=y(Mt,It[$t])),kt.isHex=!0,{text:tr,x:$,y:bt,options:vt,mutex:kt}};g.events.push(["postProcessText",function(S){var L=S.text||"",j=[],I={text:L,x:S.x,y:S.y,options:S.options,mutex:S.mutex};if(Array.isArray(L)){var $=0;for($=0;$<L.length;$+=1)Array.isArray(L[$])&&L[$].length===3?j.push([T(Object.assign({},I,{text:L[$][0]})).text,L[$][1],L[$][2]]):j.push(T(Object.assign({},I,{text:L[$]})).text);S.text=j}else S.text=T(Object.assign({},I,{text:L})).text}])}(V),function(k){var g=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};k.existsFileInVFS=function(y){return g.call(this),this.internal.vFS[y]!==void 0},k.addFileToVFS=function(y,w){return g.call(this),this.internal.vFS[y]=w,this},k.getFileFromVFS=function(y){return g.call(this),this.internal.vFS[y]!==void 0?this.internal.vFS[y]:null}}(V.API),function(k){k.__bidiEngine__=k.prototype.__bidiEngine__=function(w){var T,S,L,j,I,$,bt,vt=g,kt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],X=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Kt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},It={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$t=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Mt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),gt=!1,Ae=0;this.__bidiEngine__={};var Be=function(zt){var se=zt.charCodeAt(),ae=se>>8,$e=It[ae];return $e!==void 0?vt[256*$e+(255&se)]:ae===252||ae===253?"AL":Mt.test(ae)?"L":ae===8?"R":"N"},tr=function(zt){for(var se,ae=0;ae<zt.length;ae++){if((se=Be(zt.charAt(ae)))==="L")return!1;if(se==="R")return!0}return!1},fr=function(zt,se,ae,$e){var Ze,pr,Re,br,er=se[$e];switch(er){case"L":case"R":gt=!1;break;case"N":case"AN":break;case"EN":gt&&(er="AN");break;case"AL":gt=!0,er="R";break;case"WS":er="N";break;case"CS":$e<1||$e+1>=se.length||(Ze=ae[$e-1])!=="EN"&&Ze!=="AN"||(pr=se[$e+1])!=="EN"&&pr!=="AN"?er="N":gt&&(pr="AN"),er=pr===Ze?pr:"N";break;case"ES":er=(Ze=$e>0?ae[$e-1]:"B")==="EN"&&$e+1<se.length&&se[$e+1]==="EN"?"EN":"N";break;case"ET":if($e>0&&ae[$e-1]==="EN"){er="EN";break}if(gt){er="N";break}for(Re=$e+1,br=se.length;Re<br&&se[Re]==="ET";)Re++;er=Re<br&&se[Re]==="EN"?"EN":"N";break;case"NSM":if(L&&!j){for(br=se.length,Re=$e+1;Re<br&&se[Re]==="NSM";)Re++;if(Re<br){var Ar=zt[$e],te=Ar>=1425&&Ar<=2303||Ar===64286;if(Ze=se[Re],te&&(Ze==="R"||Ze==="AL")){er="R";break}}}er=$e<1||(Ze=se[$e-1])==="B"?"N":ae[$e-1];break;case"B":gt=!1,T=!0,er=Ae;break;case"S":S=!0,er="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":gt=!1;break;case"BN":er="N"}return er},Ge=function(zt,se,ae){var $e=zt.split("");return ae&&gr($e,ae,{hiLevel:Ae}),$e.reverse(),se&&se.reverse(),$e.join("")},gr=function(zt,se,ae){var $e,Ze,pr,Re,br,er=-1,Ar=zt.length,te=0,wt=[],Qt=Ae?X:kt,ge=[];for(gt=!1,T=!1,S=!1,Ze=0;Ze<Ar;Ze++)ge[Ze]=Be(zt[Ze]);for(pr=0;pr<Ar;pr++){if(br=te,wt[pr]=fr(zt,ge,wt,pr),$e=240&(te=Qt[br][Kt[wt[pr]]]),te&=15,se[pr]=Re=Qt[te][5],$e>0)if($e===16){for(Ze=er;Ze<pr;Ze++)se[Ze]=1;er=-1}else er=-1;if(Qt[te][6])er===-1&&(er=pr);else if(er>-1){for(Ze=er;Ze<pr;Ze++)se[Ze]=Re;er=-1}ge[pr]==="B"&&(se[pr]=0),ae.hiLevel|=Re}S&&function(Pe,Ie,ar){for(var We=0;We<ar;We++)if(Pe[We]==="S"){Ie[We]=Ae;for(var Ye=We-1;Ye>=0&&Pe[Ye]==="WS";Ye--)Ie[Ye]=Ae}}(ge,se,Ar)},oe=function(zt,se,ae,$e,Ze){if(!(Ze.hiLevel<zt)){if(zt===1&&Ae===1&&!T)return se.reverse(),void(ae&&ae.reverse());for(var pr,Re,br,er,Ar=se.length,te=0;te<Ar;){if($e[te]>=zt){for(br=te+1;br<Ar&&$e[br]>=zt;)br++;for(er=te,Re=br-1;er<Re;er++,Re--)pr=se[er],se[er]=se[Re],se[Re]=pr,ae&&(pr=ae[er],ae[er]=ae[Re],ae[Re]=pr);te=br}te++}}},Ve=function(zt,se,ae){var $e=zt.split(""),Ze={hiLevel:Ae};return ae||(ae=[]),gr($e,ae,Ze),function(pr,Re,br){if(br.hiLevel!==0&&bt)for(var er,Ar=0;Ar<pr.length;Ar++)Re[Ar]===1&&(er=$t.indexOf(pr[Ar]))>=0&&(pr[Ar]=$t[er+1])}($e,ae,Ze),oe(2,$e,se,ae,Ze),oe(1,$e,se,ae,Ze),$e.join("")};return this.__bidiEngine__.doBidiReorder=function(ie,zt,se){if(function($e,Ze){if(Ze)for(var pr=0;pr<$e.length;pr++)Ze[pr]=pr;j===void 0&&(j=tr($e)),$===void 0&&($=tr($e))}(ie,zt),L||!I||$)if(L&&I&&j^$)Ae=j?1:0,ie=Ge(ie,zt,se);else if(!L&&I&&$)Ae=j?1:0,ie=Ve(ie,zt,se),ie=Ge(ie,zt);else if(!L||j||I||$){if(L&&!I&&j^$)ie=Ge(ie,zt),j?(Ae=0,ie=Ve(ie,zt,se)):(Ae=1,ie=Ve(ie,zt,se),ie=Ge(ie,zt));else if(L&&j&&!I&&$)Ae=1,ie=Ve(ie,zt,se),ie=Ge(ie,zt);else if(!L&&!I&&j^$){var ae=bt;j?(Ae=1,ie=Ve(ie,zt,se),Ae=0,bt=!1,ie=Ve(ie,zt,se),bt=ae):(Ae=0,ie=Ve(ie,zt,se),ie=Ge(ie,zt),Ae=1,bt=!1,ie=Ve(ie,zt,se),bt=ae,ie=Ge(ie,zt))}}else Ae=0,ie=Ve(ie,zt,se);else Ae=j?1:0,ie=Ve(ie,zt,se);return ie},this.__bidiEngine__.setOptions=function(ie){ie&&(L=ie.isInputVisual,I=ie.isOutputVisual,j=ie.isInputRtl,$=ie.isOutputRtl,bt=ie.isSymmetricSwapping)},this.__bidiEngine__.setOptions(w),this.__bidiEngine__};var g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],y=new k.__bidiEngine__({isInputVisual:!0});k.API.events.push(["postProcessText",function(w){var T=w.text,S=(w.x,w.y,w.options||{}),L=(w.mutex,S.lang,[]);if(S.isInputVisual=typeof S.isInputVisual!="boolean"||S.isInputVisual,y.setOptions(S),Object.prototype.toString.call(T)==="[object Array]"){var j=0;for(L=[],j=0;j<T.length;j+=1)Object.prototype.toString.call(T[j])==="[object Array]"?L.push([y.doBidiReorder(T[j][0]),T[j][1],T[j][2]]):L.push([y.doBidiReorder(T[j])]);w.text=L}else w.text=y.doBidiReorder(T);y.setOptions({isInputVisual:!0})}])}(V),V.API.TTFFont=function(){function k(g){var y;if(this.rawData=g,y=this.contents=new Rt(g),this.contents.pos=4,y.readString(4)==="ttcf")throw new Error("TTCF not supported.");y.pos=0,this.parse(),this.subset=new Fn(this),this.registerTTF()}return k.open=function(g){return new k(g)},k.prototype.parse=function(){return this.directory=new Q(this.contents),this.head=new Jt(this),this.name=new yr(this),this.cmap=new Ue(this),this.toUnicode={},this.hhea=new rr(this),this.maxp=new ln(this),this.hmtx=new Qr(this),this.post=new He(this),this.os2=new nr(this),this.loca=new Yn(this),this.glyf=new xn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},k.prototype.registerTTF=function(){var g,y,w,T,S;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var L,j,I,$;for($=[],L=0,j=(I=this.bbox).length;L<j;L++)g=I[L],$.push(Math.round(g*this.scaleFactor));return $}.call(this),this.stemV=0,this.post.exists?(w=255&(T=this.post.italic_angle),(32768&(y=T>>16))!=0&&(y=-(1+(65535^y))),this.italicAngle=+(y+"."+w)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(S=this.familyClass)===1||S===2||S===3||S===4||S===5||S===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},k.prototype.characterToGlyph=function(g){var y;return((y=this.cmap.unicode)!=null?y.codeMap[g]:void 0)||0},k.prototype.widthOfGlyph=function(g){var y;return y=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(g).advance*y},k.prototype.widthOfString=function(g,y,w){var T,S,L,j;for(L=0,S=0,j=(g=""+g).length;0<=j?S<j:S>j;S=0<=j?++S:--S)T=g.charCodeAt(S),L+=this.widthOfGlyph(this.characterToGlyph(T))+w*(1e3/y)||0;return L*(y/1e3)},k.prototype.lineHeight=function(g,y){var w;return y==null&&(y=!1),w=y?this.lineGap:0,(this.ascender+w-this.decender)/1e3*g},k}();var jr,Rt=function(){function k(g){this.data=g!=null?g:[],this.pos=0,this.length=this.data.length}return k.prototype.readByte=function(){return this.data[this.pos++]},k.prototype.writeByte=function(g){return this.data[this.pos++]=g},k.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},k.prototype.writeUInt32=function(g){return this.writeByte(g>>>24&255),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(255&g)},k.prototype.readInt32=function(){var g;return(g=this.readUInt32())>=2147483648?g-4294967296:g},k.prototype.writeInt32=function(g){return g<0&&(g+=4294967296),this.writeUInt32(g)},k.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},k.prototype.writeUInt16=function(g){return this.writeByte(g>>8&255),this.writeByte(255&g)},k.prototype.readInt16=function(){var g;return(g=this.readUInt16())>=32768?g-65536:g},k.prototype.writeInt16=function(g){return g<0&&(g+=65536),this.writeUInt16(g)},k.prototype.readString=function(g){var y,w;for(w=[],y=0;0<=g?y<g:y>g;y=0<=g?++y:--y)w[y]=String.fromCharCode(this.readByte());return w.join("")},k.prototype.writeString=function(g){var y,w,T;for(T=[],y=0,w=g.length;0<=w?y<w:y>w;y=0<=w?++y:--y)T.push(this.writeByte(g.charCodeAt(y)));return T},k.prototype.readShort=function(){return this.readInt16()},k.prototype.writeShort=function(g){return this.writeInt16(g)},k.prototype.readLongLong=function(){var g,y,w,T,S,L,j,I;return g=this.readByte(),y=this.readByte(),w=this.readByte(),T=this.readByte(),S=this.readByte(),L=this.readByte(),j=this.readByte(),I=this.readByte(),128&g?-1*(72057594037927940*(255^g)+281474976710656*(255^y)+1099511627776*(255^w)+4294967296*(255^T)+16777216*(255^S)+65536*(255^L)+256*(255^j)+(255^I)+1):72057594037927940*g+281474976710656*y+1099511627776*w+4294967296*T+16777216*S+65536*L+256*j+I},k.prototype.writeLongLong=function(g){var y,w;return y=Math.floor(g/4294967296),w=4294967295&g,this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y),this.writeByte(w>>24&255),this.writeByte(w>>16&255),this.writeByte(w>>8&255),this.writeByte(255&w)},k.prototype.readInt=function(){return this.readInt32()},k.prototype.writeInt=function(g){return this.writeInt32(g)},k.prototype.read=function(g){var y,w;for(y=[],w=0;0<=g?w<g:w>g;w=0<=g?++w:--w)y.push(this.readByte());return y},k.prototype.write=function(g){var y,w,T,S;for(S=[],w=0,T=g.length;w<T;w++)y=g[w],S.push(this.writeByte(y));return S},k}(),Q=function(){var k;function g(y){var w,T,S;for(this.scalarType=y.readInt(),this.tableCount=y.readShort(),this.searchRange=y.readShort(),this.entrySelector=y.readShort(),this.rangeShift=y.readShort(),this.tables={},T=0,S=this.tableCount;0<=S?T<S:T>S;T=0<=S?++T:--T)w={tag:y.readString(4),checksum:y.readInt(),offset:y.readInt(),length:y.readInt()},this.tables[w.tag]=w}return g.prototype.encode=function(y){var w,T,S,L,j,I,$,bt,vt,kt,X,Kt,It;for(It in X=Object.keys(y).length,I=Math.log(2),vt=16*Math.floor(Math.log(X)/I),L=Math.floor(vt/I),bt=16*X-vt,(T=new Rt).writeInt(this.scalarType),T.writeShort(X),T.writeShort(vt),T.writeShort(L),T.writeShort(bt),S=16*X,$=T.pos+S,j=null,Kt=[],y)for(kt=y[It],T.writeString(It),T.writeInt(k(kt)),T.writeInt($),T.writeInt(kt.length),Kt=Kt.concat(kt),It==="head"&&(j=$),$+=kt.length;$%4;)Kt.push(0),$++;return T.write(Kt),w=2981146554-k(T.data),T.pos=j+8,T.writeUInt32(w),T.data},k=function(w){var T,S,L,j;for(w=Br.call(w);w.length%4;)w.push(0);for(L=new Rt(w),S=0,T=0,j=w.length;T<j;T=T+=4)S+=L.readUInt32();return 4294967295&S},g}(),rt={}.hasOwnProperty,Et=function(g,y){for(var w in y)rt.call(y,w)&&(g[w]=y[w]);function T(){this.constructor=g}return T.prototype=y.prototype,g.prototype=new T,g.__super__=y.prototype,g};jr=function(){function k(g){var y;this.file=g,y=this.file.directory.tables[this.tag],this.exists=!!y,y&&(this.offset=y.offset,this.length=y.length,this.parse(this.file.contents))}return k.prototype.parse=function(){},k.prototype.encode=function(){},k.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},k}();var Jt=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="head",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.revision=y.readInt(),this.checkSumAdjustment=y.readInt(),this.magicNumber=y.readInt(),this.flags=y.readShort(),this.unitsPerEm=y.readShort(),this.created=y.readLongLong(),this.modified=y.readLongLong(),this.xMin=y.readShort(),this.yMin=y.readShort(),this.xMax=y.readShort(),this.yMax=y.readShort(),this.macStyle=y.readShort(),this.lowestRecPPEM=y.readShort(),this.fontDirectionHint=y.readShort(),this.indexToLocFormat=y.readShort(),this.glyphDataFormat=y.readShort()},g.prototype.encode=function(y){var w;return(w=new Rt).writeInt(this.version),w.writeInt(this.revision),w.writeInt(this.checkSumAdjustment),w.writeInt(this.magicNumber),w.writeShort(this.flags),w.writeShort(this.unitsPerEm),w.writeLongLong(this.created),w.writeLongLong(this.modified),w.writeShort(this.xMin),w.writeShort(this.yMin),w.writeShort(this.xMax),w.writeShort(this.yMax),w.writeShort(this.macStyle),w.writeShort(this.lowestRecPPEM),w.writeShort(this.fontDirectionHint),w.writeShort(y),w.writeShort(this.glyphDataFormat),w.data},g}(),pe=function(){function k(g,y){var w,T,S,L,j,I,$,bt,vt,kt,X,Kt,It,$t,Mt,gt,Ae;switch(this.platformID=g.readUInt16(),this.encodingID=g.readShort(),this.offset=y+g.readInt(),vt=g.pos,g.pos=this.offset,this.format=g.readUInt16(),this.length=g.readUInt16(),this.language=g.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(I=0;I<256;++I)this.codeMap[I]=g.readByte();break;case 4:for(X=g.readUInt16(),kt=X/2,g.pos+=6,S=function(){var Be,tr;for(tr=[],I=Be=0;0<=kt?Be<kt:Be>kt;I=0<=kt?++Be:--Be)tr.push(g.readUInt16());return tr}(),g.pos+=2,It=function(){var Be,tr;for(tr=[],I=Be=0;0<=kt?Be<kt:Be>kt;I=0<=kt?++Be:--Be)tr.push(g.readUInt16());return tr}(),$=function(){var Be,tr;for(tr=[],I=Be=0;0<=kt?Be<kt:Be>kt;I=0<=kt?++Be:--Be)tr.push(g.readUInt16());return tr}(),bt=function(){var Be,tr;for(tr=[],I=Be=0;0<=kt?Be<kt:Be>kt;I=0<=kt?++Be:--Be)tr.push(g.readUInt16());return tr}(),T=(this.length-g.pos+this.offset)/2,j=function(){var Be,tr;for(tr=[],I=Be=0;0<=T?Be<T:Be>T;I=0<=T?++Be:--Be)tr.push(g.readUInt16());return tr}(),I=Mt=0,Ae=S.length;Mt<Ae;I=++Mt)for($t=S[I],w=gt=Kt=It[I];Kt<=$t?gt<=$t:gt>=$t;w=Kt<=$t?++gt:--gt)bt[I]===0?L=w+$[I]:(L=j[bt[I]/2+(w-Kt)-(kt-I)]||0)!==0&&(L+=$[I]),this.codeMap[w]=65535&L}g.pos=vt}return k.encode=function(g,y){var w,T,S,L,j,I,$,bt,vt,kt,X,Kt,It,$t,Mt,gt,Ae,Be,tr,fr,Ge,gr,oe,Ve,ie,zt,se,ae,$e,Ze,pr,Re,br,er,Ar,te,wt,Qt,ge,Pe,Ie,ar,We,Ye,mr,Wr;switch(ae=new Rt,L=Object.keys(g).sort(function(Pr,rn){return Pr-rn}),y){case"macroman":for(It=0,$t=function(){var Pr=[];for(Kt=0;Kt<256;++Kt)Pr.push(0);return Pr}(),gt={0:0},S={},$e=0,br=L.length;$e<br;$e++)gt[We=g[T=L[$e]]]==null&&(gt[We]=++It),S[T]={old:g[T],new:gt[g[T]]},$t[T]=gt[g[T]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write($t),{charMap:S,subtable:ae.data,maxGlyphID:It+1};case"unicode":for(zt=[],vt=[],Ae=0,gt={},w={},Mt=$=null,Ze=0,er=L.length;Ze<er;Ze++)gt[tr=g[T=L[Ze]]]==null&&(gt[tr]=++Ae),w[T]={old:tr,new:gt[tr]},j=gt[tr]-T,Mt!=null&&j===$||(Mt&&vt.push(Mt),zt.push(T),$=j),Mt=T;for(Mt&&vt.push(Mt),vt.push(65535),zt.push(65535),Ve=2*(oe=zt.length),gr=2*Math.pow(Math.log(oe)/Math.LN2,2),kt=Math.log(gr/2)/Math.LN2,Ge=2*oe-gr,I=[],fr=[],X=[],Kt=pr=0,Ar=zt.length;pr<Ar;Kt=++pr){if(ie=zt[Kt],bt=vt[Kt],ie===65535){I.push(0),fr.push(0);break}if(ie-(se=w[ie].new)>=32768)for(I.push(0),fr.push(2*(X.length+oe-Kt)),T=Re=ie;ie<=bt?Re<=bt:Re>=bt;T=ie<=bt?++Re:--Re)X.push(w[T].new);else I.push(se-ie),fr.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*oe+2*X.length),ae.writeUInt16(0),ae.writeUInt16(Ve),ae.writeUInt16(gr),ae.writeUInt16(kt),ae.writeUInt16(Ge),Ie=0,te=vt.length;Ie<te;Ie++)T=vt[Ie],ae.writeUInt16(T);for(ae.writeUInt16(0),ar=0,wt=zt.length;ar<wt;ar++)T=zt[ar],ae.writeUInt16(T);for(Ye=0,Qt=I.length;Ye<Qt;Ye++)j=I[Ye],ae.writeUInt16(j);for(mr=0,ge=fr.length;mr<ge;mr++)Be=fr[mr],ae.writeUInt16(Be);for(Wr=0,Pe=X.length;Wr<Pe;Wr++)It=X[Wr],ae.writeUInt16(It);return{charMap:w,subtable:ae.data,maxGlyphID:Ae+1}}},k}(),Ue=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="cmap",g.prototype.parse=function(y){var w,T,S;for(y.pos=this.offset,this.version=y.readUInt16(),S=y.readUInt16(),this.tables=[],this.unicode=null,T=0;0<=S?T<S:T>S;T=0<=S?++T:--T)w=new pe(y,this.offset),this.tables.push(w),w.isUnicode&&this.unicode==null&&(this.unicode=w);return!0},g.encode=function(y,w){var T,S;return w==null&&(w="macroman"),T=pe.encode(y,w),(S=new Rt).writeUInt16(0),S.writeUInt16(1),T.table=S.data.concat(T.subtable),T},g}(),rr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="hhea",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.ascender=y.readShort(),this.decender=y.readShort(),this.lineGap=y.readShort(),this.advanceWidthMax=y.readShort(),this.minLeftSideBearing=y.readShort(),this.minRightSideBearing=y.readShort(),this.xMaxExtent=y.readShort(),this.caretSlopeRise=y.readShort(),this.caretSlopeRun=y.readShort(),this.caretOffset=y.readShort(),y.pos+=8,this.metricDataFormat=y.readShort(),this.numberOfMetrics=y.readUInt16()},g}(),nr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="OS/2",g.prototype.parse=function(y){if(y.pos=this.offset,this.version=y.readUInt16(),this.averageCharWidth=y.readShort(),this.weightClass=y.readUInt16(),this.widthClass=y.readUInt16(),this.type=y.readShort(),this.ySubscriptXSize=y.readShort(),this.ySubscriptYSize=y.readShort(),this.ySubscriptXOffset=y.readShort(),this.ySubscriptYOffset=y.readShort(),this.ySuperscriptXSize=y.readShort(),this.ySuperscriptYSize=y.readShort(),this.ySuperscriptXOffset=y.readShort(),this.ySuperscriptYOffset=y.readShort(),this.yStrikeoutSize=y.readShort(),this.yStrikeoutPosition=y.readShort(),this.familyClass=y.readShort(),this.panose=function(){var w,T;for(T=[],w=0;w<10;++w)T.push(y.readByte());return T}(),this.charRange=function(){var w,T;for(T=[],w=0;w<4;++w)T.push(y.readInt());return T}(),this.vendorID=y.readString(4),this.selection=y.readShort(),this.firstCharIndex=y.readShort(),this.lastCharIndex=y.readShort(),this.version>0&&(this.ascent=y.readShort(),this.descent=y.readShort(),this.lineGap=y.readShort(),this.winAscent=y.readShort(),this.winDescent=y.readShort(),this.codePageRange=function(){var w,T;for(T=[],w=0;w<2;w=++w)T.push(y.readInt());return T}(),this.version>1))return this.xHeight=y.readShort(),this.capHeight=y.readShort(),this.defaultChar=y.readShort(),this.breakChar=y.readShort(),this.maxContext=y.readShort()},g}(),He=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="post",g.prototype.parse=function(y){var w,T,S;switch(y.pos=this.offset,this.format=y.readInt(),this.italicAngle=y.readInt(),this.underlinePosition=y.readShort(),this.underlineThickness=y.readShort(),this.isFixedPitch=y.readInt(),this.minMemType42=y.readInt(),this.maxMemType42=y.readInt(),this.minMemType1=y.readInt(),this.maxMemType1=y.readInt(),this.format){case 65536:break;case 131072:var L;for(T=y.readUInt16(),this.glyphNameIndex=[],L=0;0<=T?L<T:L>T;L=0<=T?++L:--L)this.glyphNameIndex.push(y.readUInt16());for(this.names=[],S=[];y.pos<this.offset+this.length;)w=y.readByte(),S.push(this.names.push(y.readString(w)));return S;case 151552:return T=y.readUInt16(),this.offsets=y.read(T);case 196608:break;case 262144:return this.map=function(){var j,I,$;for($=[],L=j=0,I=this.file.maxp.numGlyphs;0<=I?j<I:j>I;L=0<=I?++j:--j)$.push(y.readUInt32());return $}.call(this)}},g}(),Sr=function(g,y){this.raw=g,this.length=g.length,this.platformID=y.platformID,this.encodingID=y.encodingID,this.languageID=y.languageID},yr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="name",g.prototype.parse=function(y){var w,T,S,L,j,I,$,bt,vt,kt,X;for(y.pos=this.offset,y.readShort(),w=y.readShort(),I=y.readShort(),T=[],L=0;0<=w?L<w:L>w;L=0<=w?++L:--L)T.push({platformID:y.readShort(),encodingID:y.readShort(),languageID:y.readShort(),nameID:y.readShort(),length:y.readShort(),offset:this.offset+I+y.readShort()});for($={},L=vt=0,kt=T.length;vt<kt;L=++vt)S=T[L],y.pos=S.offset,bt=y.readString(S.length),j=new Sr(bt,S),$[X=S.nameID]==null&&($[X]=[]),$[S.nameID].push(j);this.strings=$,this.copyright=$[0],this.fontFamily=$[1],this.fontSubfamily=$[2],this.uniqueSubfamily=$[3],this.fontName=$[4],this.version=$[5];try{this.postscriptName=$[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Kt){this.postscriptName=$[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=$[7],this.manufacturer=$[8],this.designer=$[9],this.description=$[10],this.vendorUrl=$[11],this.designerUrl=$[12],this.license=$[13],this.licenseUrl=$[14],this.preferredFamily=$[15],this.preferredSubfamily=$[17],this.compatibleFull=$[18],this.sampleText=$[19]},g}(),ln=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="maxp",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.numGlyphs=y.readUInt16(),this.maxPoints=y.readUInt16(),this.maxContours=y.readUInt16(),this.maxCompositePoints=y.readUInt16(),this.maxComponentContours=y.readUInt16(),this.maxZones=y.readUInt16(),this.maxTwilightPoints=y.readUInt16(),this.maxStorage=y.readUInt16(),this.maxFunctionDefs=y.readUInt16(),this.maxInstructionDefs=y.readUInt16(),this.maxStackElements=y.readUInt16(),this.maxSizeOfInstructions=y.readUInt16(),this.maxComponentElements=y.readUInt16(),this.maxComponentDepth=y.readUInt16()},g}(),Qr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="hmtx",g.prototype.parse=function(y){var w,T,S,L,j,I,$;for(y.pos=this.offset,this.metrics=[],w=0,I=this.file.hhea.numberOfMetrics;0<=I?w<I:w>I;w=0<=I?++w:--w)this.metrics.push({advance:y.readUInt16(),lsb:y.readInt16()});for(S=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var bt,vt;for(vt=[],w=bt=0;0<=S?bt<S:bt>S;w=0<=S?++bt:--bt)vt.push(y.readInt16());return vt}(),this.widths=function(){var bt,vt,kt,X;for(X=[],bt=0,vt=(kt=this.metrics).length;bt<vt;bt++)L=kt[bt],X.push(L.advance);return X}.call(this),T=this.widths[this.widths.length-1],$=[],w=j=0;0<=S?j<S:j>S;w=0<=S?++j:--j)$.push(this.widths.push(T));return $},g.prototype.forGlyph=function(y){return y in this.metrics?this.metrics[y]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[y-this.metrics.length]}},g}(),Br=[].slice,xn=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="glyf",g.prototype.parse=function(){return this.cache={}},g.prototype.glyphFor=function(y){var w,T,S,L,j,I,$,bt,vt,kt;return y in this.cache?this.cache[y]:(L=this.file.loca,w=this.file.contents,T=L.indexOf(y),(S=L.lengthOf(y))===0?this.cache[y]=null:(w.pos=this.offset+T,j=(I=new Rt(w.read(S))).readShort(),bt=I.readShort(),kt=I.readShort(),$=I.readShort(),vt=I.readShort(),this.cache[y]=j===-1?new yn(I,bt,kt,$,vt):new tn(I,j,bt,kt,$,vt),this.cache[y]))},g.prototype.encode=function(y,w,T){var S,L,j,I,$;for(j=[],L=[],I=0,$=w.length;I<$;I++)S=y[w[I]],L.push(j.length),S&&(j=j.concat(S.encode(T)));return L.push(j.length),{table:j,offsets:L}},g}(),tn=function(){function k(g,y,w,T,S,L){this.raw=g,this.numberOfContours=y,this.xMin=w,this.yMin=T,this.xMax=S,this.yMax=L,this.compound=!1}return k.prototype.encode=function(){return this.raw.data},k}(),yn=function(){function k(g,y,w,T,S){var L,j;for(this.raw=g,this.xMin=y,this.yMin=w,this.xMax=T,this.yMax=S,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],L=this.raw;j=L.readShort(),this.glyphOffsets.push(L.pos),this.glyphIDs.push(L.readUInt16()),32&j;)L.pos+=1&j?4:2,128&j?L.pos+=8:64&j?L.pos+=4:8&j&&(L.pos+=2)}return k.prototype.encode=function(){var g,y,w;for(y=new Rt(Br.call(this.raw.data)),g=0,w=this.glyphIDs.length;g<w;++g)y.pos=this.glyphOffsets[g];return y.data},k}(),Yn=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return Et(g,jr),g.prototype.tag="loca",g.prototype.parse=function(y){var w,T;return y.pos=this.offset,w=this.file.head.indexToLocFormat,this.offsets=w===0?function(){var S,L;for(L=[],T=0,S=this.length;T<S;T+=2)L.push(2*y.readUInt16());return L}.call(this):function(){var S,L;for(L=[],T=0,S=this.length;T<S;T+=4)L.push(y.readUInt32());return L}.call(this)},g.prototype.indexOf=function(y){return this.offsets[y]},g.prototype.lengthOf=function(y){return this.offsets[y+1]-this.offsets[y]},g.prototype.encode=function(y,w){for(var T=new Uint32Array(this.offsets.length),S=0,L=0,j=0;j<T.length;++j)if(T[j]=S,L<w.length&&w[L]==j){++L,T[j]=S;var I=this.offsets[j],$=this.offsets[j+1]-I;$>0&&(S+=$)}for(var bt=new Array(4*T.length),vt=0;vt<T.length;++vt)bt[4*vt+3]=255&T[vt],bt[4*vt+2]=(65280&T[vt])>>8,bt[4*vt+1]=(16711680&T[vt])>>16,bt[4*vt]=(4278190080&T[vt])>>24;return bt},g}(),Fn=function(){function k(g){this.font=g,this.subset={},this.unicodes={},this.next=33}return k.prototype.generateCmap=function(){var g,y,w,T,S;for(y in T=this.font.cmap.tables[0].codeMap,g={},S=this.subset)w=S[y],g[y]=T[w];return g},k.prototype.glyphsFor=function(g){var y,w,T,S,L,j,I;for(T={},L=0,j=g.length;L<j;L++)T[S=g[L]]=this.font.glyf.glyphFor(S);for(S in y=[],T)((w=T[S])!=null?w.compound:void 0)&&y.push.apply(y,w.glyphIDs);if(y.length>0)for(S in I=this.glyphsFor(y))w=I[S],T[S]=w;return T},k.prototype.encode=function(g,y){var w,T,S,L,j,I,$,bt,vt,kt,X,Kt,It,$t,Mt;for(T in w=Ue.encode(this.generateCmap(),"unicode"),L=this.glyphsFor(g),X={0:0},Mt=w.charMap)X[(I=Mt[T]).old]=I.new;for(Kt in kt=w.maxGlyphID,L)Kt in X||(X[Kt]=kt++);return bt=function(gt){var Ae,Be;for(Ae in Be={},gt)Be[gt[Ae]]=Ae;return Be}(X),vt=Object.keys(bt).sort(function(gt,Ae){return gt-Ae}),It=function(){var gt,Ae,Be;for(Be=[],gt=0,Ae=vt.length;gt<Ae;gt++)j=vt[gt],Be.push(bt[j]);return Be}(),S=this.font.glyf.encode(L,It,X),$=this.font.loca.encode(S.offsets,It),$t={cmap:this.font.cmap.raw(),glyf:S.table,loca:$,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(y)},this.font.os2.exists&&($t["OS/2"]=this.font.os2.raw()),this.font.directory.encode($t)},k}();V.API.PDFObject=function(){var k;function g(){}return k=function(w,T){return(Array(T+1).join("0")+w).slice(-T)},g.convert=function(y){var w,T,S,L;if(Array.isArray(y))return"["+function(){var j,I,$;for($=[],j=0,I=y.length;j<I;j++)w=y[j],$.push(g.convert(w));return $}().join(" ")+"]";if(typeof y=="string")return"/"+y;if(y!=null?y.isString:void 0)return"("+y+")";if(y instanceof Date)return"(D:"+k(y.getUTCFullYear(),4)+k(y.getUTCMonth(),2)+k(y.getUTCDate(),2)+k(y.getUTCHours(),2)+k(y.getUTCMinutes(),2)+k(y.getUTCSeconds(),2)+"Z)";if({}.toString.call(y)==="[object Object]"){for(T in S=["<<"],y)L=y[T],S.push("/"+T+" "+g.convert(L));return S.push(">>"),S.join(`
`)}return""+y},g}(),_r.d=V}).call(this,De("IyRk"))},"kVK+":function(un,_r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */_r.read=function(De,Xe,O,me,pt){var ft,Gt,tt=pt*8-me-1,b=(1<<tt)-1,s=b>>1,h=-7,u=O?pt-1:0,o=O?-1:1,e=De[Xe+u];for(u+=o,ft=e&(1<<-h)-1,e>>=-h,h+=tt;h>0;ft=ft*256+De[Xe+u],u+=o,h-=8);for(Gt=ft&(1<<-h)-1,ft>>=-h,h+=me;h>0;Gt=Gt*256+De[Xe+u],u+=o,h-=8);if(ft===0)ft=1-s;else{if(ft===b)return Gt?NaN:(e?-1:1)*Infinity;Gt=Gt+Math.pow(2,me),ft=ft-s}return(e?-1:1)*Gt*Math.pow(2,ft-me)},_r.write=function(De,Xe,O,me,pt,ft){var Gt,tt,b,s=ft*8-pt-1,h=(1<<s)-1,u=h>>1,o=pt===23?Math.pow(2,-24)-Math.pow(2,-77):0,e=me?0:ft-1,n=me?1:-1,t=Xe<0||Xe===0&&1/Xe<0?1:0;for(Xe=Math.abs(Xe),isNaN(Xe)||Xe===Infinity?(tt=isNaN(Xe)?1:0,Gt=h):(Gt=Math.floor(Math.log(Xe)/Math.LN2),Xe*(b=Math.pow(2,-Gt))<1&&(Gt--,b*=2),Gt+u>=1?Xe+=o/b:Xe+=o*Math.pow(2,1-u),Xe*b>=2&&(Gt++,b/=2),Gt+u>=h?(tt=0,Gt=h):Gt+u>=1?(tt=(Xe*b-1)*Math.pow(2,pt),Gt=Gt+u):(tt=Xe*Math.pow(2,u-1)*Math.pow(2,pt),Gt=0));pt>=8;De[O+e]=tt&255,e+=n,tt/=256,pt-=8);for(Gt=Gt<<pt|tt,s+=pt;s>0;De[O+e]=Gt&255,e+=n,Gt/=256,s-=8);De[O+e-n]|=t*128}},oOwn:function(un,_r,De){(function(){var Xe=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],O=typeof window!="undefined",me=O&&window.mozInnerScreenX!=null;function pt(ft,Gt,tt){if(!O)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var b=tt&&tt.debug||!1;if(b){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var u=h.style,o=window.getComputedStyle?getComputedStyle(ft):ft.currentStyle;u.whiteSpace="pre-wrap",ft.nodeName!=="INPUT"&&(u.wordWrap="break-word"),u.position="absolute",b||(u.visibility="hidden"),Xe.forEach(function(t){u[t]=o[t]}),me?ft.scrollHeight>parseInt(o.height)&&(u.overflowY="scroll"):u.overflow="hidden",h.textContent=ft.value.substring(0,Gt),ft.nodeName==="INPUT"&&(h.textContent=h.textContent.replace(/\s/g,"\xA0"));var e=document.createElement("span");e.textContent=ft.value.substring(Gt)||".",h.appendChild(e);var n={top:e.offsetTop+parseInt(o.borderTopWidth),left:e.offsetLeft+parseInt(o.borderLeftWidth)};return b?e.style.backgroundColor="#aaa":document.body.removeChild(h),n}typeof un.exports!="undefined"?un.exports=pt:O&&(window.getCaretCoordinates=pt)})()},tneF:function(un,_r,De){"use strict";var Xe=De("sRBo"),O=De("kaz8"),me=De("VTBJ"),pt=De("Ff2n"),ft=De("nKUr"),Gt=De.n(ft),tt=De("uX+g"),b=De("q1tI"),s=De.n(b),h=De("WFLz"),u=De("adzw"),o=["options","fieldProps","proFieldProps","valueEnum"],e=s.a.forwardRef(function(l,i){var f=l.options,p=l.fieldProps,m=l.proFieldProps,x=l.valueEnum,M=Object(pt.a)(l,o);return Object(ft.jsx)(u.a,Object(me.a)({ref:i,valueType:"checkbox",mode:"edit",valueEnum:Object(tt.a)(x,void 0),fieldProps:Object(me.a)({options:f},p),lightProps:Object(me.a)({labelFormatter:function(){return Object(ft.jsx)(u.a,Object(me.a)({ref:i,valueType:"checkbox",mode:"read",valueEnum:Object(tt.a)(x,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(me.a)({options:f},p),proFieldProps:m},M))}},M.lightProps),proFieldProps:m},M))}),n=s.a.forwardRef(function(l,i){var f=l.fieldProps,p=l.children;return Object(ft.jsx)(O.a,Object(me.a)(Object(me.a)({ref:i},f),{},{children:p}))}),t=Object(h.a)(n,{valuePropName:"checked"}),a=t;a.Group=e,_r.a=a},vHD6:function(un,_r,De){"use strict";var Xe=De("4hEd"),O={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},me=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,pt=/[\s,]+/;un.exports=function(Gt){var tt=new Xe,b,s;return Gt.split(me).forEach(function(h){if(!!h.length){if(typeof O[h]!="undefined"){b=h;return}switch(s=h.split(pt).map(function(u){return+u||0}),b){case"matrix":s.length===6&&tt.matrix(s);return;case"scale":s.length===1?tt.scale(s[0],s[0]):s.length===2&&tt.scale(s[0],s[1]);return;case"rotate":s.length===1?tt.rotate(s[0],0,0):s.length===3&&tt.rotate(s[0],s[1],s[2]);return;case"translate":s.length===1?tt.translate(s[0],0):s.length===2&&tt.translate(s[0],s[1]);return;case"skewX":s.length===1&&tt.skewX(s[0]);return;case"skewY":s.length===1&&tt.skewY(s[0]);return}}}),tt}},xOOu:function(un,_r,De){(function(Xe,O,me){var pt,pt;/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(ft){un.exports=ft()})(function(){return function ft(Gt,tt,b){function s(o,e){if(!tt[o]){if(!Gt[o]){var n=typeof pt=="function"&&pt;if(!e&&n)return pt(o,!0);if(h)return h(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var a=tt[o]={exports:{}};Gt[o][0].call(a.exports,function(l){var i=Gt[o][1][l];return s(i||l)},a,a.exports,ft,Gt,tt,b)}return tt[o].exports}for(var h=typeof pt=="function"&&pt,u=0;u<b.length;u++)s(b[u]);return s}({1:[function(ft,Gt,tt){"use strict";var b=ft("./utils"),s=ft("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";tt.encode=function(u){for(var o,e,n,t,a,l,i,f=[],p=0,m=u.length,x=m,M=b.getTypeOf(u)!=="string";p<u.length;)x=m-p,n=M?(o=u[p++],e=p<m?u[p++]:0,p<m?u[p++]:0):(o=u.charCodeAt(p++),e=p<m?u.charCodeAt(p++):0,p<m?u.charCodeAt(p++):0),t=o>>2,a=(3&o)<<4|e>>4,l=1<x?(15&e)<<2|n>>6:64,i=2<x?63&n:64,f.push(h.charAt(t)+h.charAt(a)+h.charAt(l)+h.charAt(i));return f.join("")},tt.decode=function(u){var o,e,n,t,a,l,i=0,f=0,p="data:";if(u.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var m,x=3*(u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(u.charAt(u.length-1)===h.charAt(64)&&x--,u.charAt(u.length-2)===h.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=s.uint8array?new Uint8Array(0|x):new Array(0|x);i<u.length;)o=h.indexOf(u.charAt(i++))<<2|(t=h.indexOf(u.charAt(i++)))>>4,e=(15&t)<<4|(a=h.indexOf(u.charAt(i++)))>>2,n=(3&a)<<6|(l=h.indexOf(u.charAt(i++))),m[f++]=o,a!==64&&(m[f++]=e),l!==64&&(m[f++]=n);return m}},{"./support":30,"./utils":32}],2:[function(ft,Gt,tt){"use strict";var b=ft("./external"),s=ft("./stream/DataWorker"),h=ft("./stream/Crc32Probe"),u=ft("./stream/DataLengthProbe");function o(e,n,t,a,l){this.compressedSize=e,this.uncompressedSize=n,this.crc32=t,this.compression=a,this.compressedContent=l}o.prototype={getContentWorker:function(){var n=new s(b.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),t=this;return n.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),n},getCompressedWorker:function(){return new s(b.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,n,t){return e.pipe(new h).pipe(new u("uncompressedSize")).pipe(n.compressWorker(t)).pipe(new u("compressedSize")).withStreamInfo("compression",n)},Gt.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ft,Gt,tt){"use strict";var b=ft("./stream/GenericWorker");tt.STORE={magic:"\0\0",compressWorker:function(h){return new b("STORE compression")},uncompressWorker:function(){return new b("STORE decompression")}},tt.DEFLATE=ft("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ft,Gt,tt){"use strict";var b=ft("./utils"),s=function(){for(var h,u=[],o=0;o<256;o++){h=o;for(var e=0;e<8;e++)h=1&h?3988292384^h>>>1:h>>>1;u[o]=h}return u}();Gt.exports=function(h,u){return h!==void 0&&h.length?b.getTypeOf(h)!=="string"?function(o,e,n,t){var a=s,l=t+n;o^=-1;for(var i=t;i<l;i++)o=o>>>8^a[255&(o^e[i])];return-1^o}(0|u,h,h.length,0):function(o,e,n,t){var a=s,l=t+n;o^=-1;for(var i=t;i<l;i++)o=o>>>8^a[255&(o^e.charCodeAt(i))];return-1^o}(0|u,h,h.length,0):0}},{"./utils":32}],5:[function(ft,Gt,tt){"use strict";tt.base64=!1,tt.binary=!1,tt.dir=!1,tt.createFolders=!0,tt.date=null,tt.compression=null,tt.compressionOptions=null,tt.comment=null,tt.unixPermissions=null,tt.dosPermissions=null},{}],6:[function(ft,Gt,tt){"use strict";var b=null;b=typeof Promise!="undefined"?Promise:ft("lie"),Gt.exports={Promise:b}},{lie:37}],7:[function(ft,Gt,tt){"use strict";var b=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=ft("pako"),h=ft("./utils"),u=ft("./stream/GenericWorker"),o=b?"uint8array":"array";function e(n,t){u.call(this,"FlateWorker/"+n),this._pako=null,this._pakoAction=n,this._pakoOptions=t,this.meta={}}tt.magic="\b\0",h.inherits(e,u),e.prototype.processChunk=function(n){this.meta=n.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(o,n.data),!1)},e.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},e.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},e.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var n=this;this._pako.onData=function(t){n.push({data:t,meta:n.meta})}},tt.compressWorker=function(n){return new e("Deflate",n)},tt.uncompressWorker=function(){return new e("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ft,Gt,tt){"use strict";function b(a,l){var i,f="";for(i=0;i<l;i++)f+=String.fromCharCode(255&a),a>>>=8;return f}function s(a,l,i,f,p,m){var x,M,Y=a.file,nt=a.compression,xt=m!==o.utf8encode,Dt=h.transformTo("string",m(Y.name)),Ut=h.transformTo("string",o.utf8encode(Y.name)),fe=Y.comment,Oe=h.transformTo("string",m(fe)),_t=h.transformTo("string",o.utf8encode(fe)),Vt=Ut.length!==Y.name.length,J=_t.length!==fe.length,be="",Qe="",W="",At=Y.dir,V=Y.date,it={crc32:0,compressedSize:0,uncompressedSize:0};l&&!i||(it.crc32=a.crc32,it.compressedSize=a.compressedSize,it.uncompressedSize=a.uncompressedSize);var et=0;l&&(et|=8),xt||!Vt&&!J||(et|=2048);var F=0,K=0;At&&(F|=16),p==="UNIX"?(K=798,F|=function(dt,Wt){var Tt=dt;return dt||(Tt=Wt?16893:33204),(65535&Tt)<<16}(Y.unixPermissions,At)):(K=20,F|=function(dt){return 63&(dt||0)}(Y.dosPermissions)),x=V.getUTCHours(),x<<=6,x|=V.getUTCMinutes(),x<<=5,x|=V.getUTCSeconds()/2,M=V.getUTCFullYear()-1980,M<<=4,M|=V.getUTCMonth()+1,M<<=5,M|=V.getUTCDate(),Vt&&(Qe=b(1,1)+b(e(Dt),4)+Ut,be+="up"+b(Qe.length,2)+Qe),J&&(W=b(1,1)+b(e(Oe),4)+_t,be+="uc"+b(W.length,2)+W);var ht="";return ht+=`
\0`,ht+=b(et,2),ht+=nt.magic,ht+=b(x,2),ht+=b(M,2),ht+=b(it.crc32,4),ht+=b(it.compressedSize,4),ht+=b(it.uncompressedSize,4),ht+=b(Dt.length,2),ht+=b(be.length,2),{fileRecord:n.LOCAL_FILE_HEADER+ht+Dt+be,dirRecord:n.CENTRAL_FILE_HEADER+b(K,2)+ht+b(Oe.length,2)+"\0\0\0\0"+b(F,4)+b(f,4)+Dt+be+Oe}}var h=ft("../utils"),u=ft("../stream/GenericWorker"),o=ft("../utf8"),e=ft("../crc32"),n=ft("../signature");function t(a,l,i,f){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=l,this.zipPlatform=i,this.encodeFileName=f,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(t,u),t.prototype.push=function(a){var l=a.meta.percent||0,i=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,u.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:i?(l+100*(i-f-1))/i:100}}))},t.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var l=this.streamFiles&&!a.file.dir;if(l){var i=s(a,l,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},t.prototype.closedSource=function(a){this.accumulate=!1;var l=this.streamFiles&&!a.file.dir,i=s(a,l,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),l)this.push({data:function(f){return n.DATA_DESCRIPTOR+b(f.crc32,4)+b(f.compressedSize,4)+b(f.uncompressedSize,4)}(a),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},t.prototype.flush=function(){for(var a=this.bytesWritten,l=0;l<this.dirRecords.length;l++)this.push({data:this.dirRecords[l],meta:{percent:100}});var i=this.bytesWritten-a,f=function(p,m,x,M,Y){var nt=h.transformTo("string",Y(M));return n.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(p,2)+b(p,2)+b(m,4)+b(x,4)+b(nt.length,2)+nt}(this.dirRecords.length,i,a,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},t.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},t.prototype.registerPrevious=function(a){this._sources.push(a);var l=this;return a.on("data",function(i){l.processChunk(i)}),a.on("end",function(){l.closedSource(l.previous.streamInfo),l._sources.length?l.prepareNextSource():l.end()}),a.on("error",function(i){l.error(i)}),this},t.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},t.prototype.error=function(a){var l=this._sources;if(!u.prototype.error.call(this,a))return!1;for(var i=0;i<l.length;i++)try{l[i].error(a)}catch(f){}return!0},t.prototype.lock=function(){u.prototype.lock.call(this);for(var a=this._sources,l=0;l<a.length;l++)a[l].lock()},Gt.exports=t},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ft,Gt,tt){"use strict";var b=ft("../compressions"),s=ft("./ZipFileWorker");tt.generateWorker=function(h,u,o){var e=new s(u.streamFiles,o,u.platform,u.encodeFileName),n=0;try{h.forEach(function(t,a){n++;var l=function(m,x){var M=m||x,Y=b[M];if(!Y)throw new Error(M+" is not a valid compression method !");return Y}(a.options.compression,u.compression),i=a.options.compressionOptions||u.compressionOptions||{},f=a.dir,p=a.date;a._compressWorker(l,i).withStreamInfo("file",{name:t,dir:f,date:p,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(e)}),e.entriesCount=n}catch(t){e.error(t)}return e}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ft,Gt,tt){"use strict";function b(){if(!(this instanceof b))return new b;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new b;for(var h in this)typeof this[h]!="function"&&(s[h]=this[h]);return s}}(b.prototype=ft("./object")).loadAsync=ft("./load"),b.support=ft("./support"),b.defaults=ft("./defaults"),b.version="3.10.0",b.loadAsync=function(s,h){return new b().loadAsync(s,h)},b.external=ft("./external"),Gt.exports=b},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ft,Gt,tt){"use strict";var b=ft("./utils"),s=ft("./external"),h=ft("./utf8"),u=ft("./zipEntries"),o=ft("./stream/Crc32Probe"),e=ft("./nodejsUtils");function n(t){return new s.Promise(function(a,l){var i=t.decompressed.getContentWorker().pipe(new o);i.on("error",function(f){l(f)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?l(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}Gt.exports=function(t,a){var l=this;return a=b.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),e.isNode&&e.isStream(t)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):b.prepareContent("the loaded zip file",t,!0,a.optimizedBinaryString,a.base64).then(function(i){var f=new u(a);return f.load(i),f}).then(function(i){var f=[s.Promise.resolve(i)],p=i.files;if(a.checkCRC32)for(var m=0;m<p.length;m++)f.push(n(p[m]));return s.Promise.all(f)}).then(function(i){for(var f=i.shift(),p=f.files,m=0;m<p.length;m++){var x=p[m],M=x.fileNameStr,Y=b.resolve(x.fileNameStr);l.file(Y,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:a.createFolders}),x.dir||(l.file(Y).unsafeOriginalName=M)}return f.zipComment.length&&(l.comment=f.zipComment),l})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ft,Gt,tt){"use strict";var b=ft("../utils"),s=ft("../stream/GenericWorker");function h(u,o){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(o)}b.inherits(h,s),h.prototype._bindStream=function(u){var o=this;(this._stream=u).pause(),u.on("data",function(e){o.push({data:e,meta:{percent:0}})}).on("error",function(e){o.isPaused?this.generatedError=e:o.error(e)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},h.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Gt.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ft,Gt,tt){"use strict";var b=ft("readable-stream").Readable;function s(h,u,o){b.call(this,u),this._helper=h;var e=this;h.on("data",function(n,t){e.push(n)||e._helper.pause(),o&&o(t)}).on("error",function(n){e.emit("error",n)}).on("end",function(){e.push(null)})}ft("../utils").inherits(s,b),s.prototype._read=function(){this._helper.resume()},Gt.exports=s},{"../utils":32,"readable-stream":16}],14:[function(ft,Gt,tt){"use strict";Gt.exports={isNode:typeof Xe!="undefined",newBufferFrom:function(s,h){if(Xe.from&&Xe.from!==Uint8Array.from)return Xe.from(s,h);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Xe(s,h)},allocBuffer:function(s){if(Xe.alloc)return Xe.alloc(s);var h=new Xe(s);return h.fill(0),h},isBuffer:function(s){return Xe.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(ft,Gt,tt){"use strict";function b(Y,nt,xt){var Dt,Ut=h.getTypeOf(nt),fe=h.extend(xt||{},e);fe.date=fe.date||new Date,fe.compression!==null&&(fe.compression=fe.compression.toUpperCase()),typeof fe.unixPermissions=="string"&&(fe.unixPermissions=parseInt(fe.unixPermissions,8)),fe.unixPermissions&&16384&fe.unixPermissions&&(fe.dir=!0),fe.dosPermissions&&16&fe.dosPermissions&&(fe.dir=!0),fe.dir&&(Y=p(Y)),fe.createFolders&&(Dt=f(Y))&&m.call(this,Dt,!0);var Oe=Ut==="string"&&fe.binary===!1&&fe.base64===!1;xt&&xt.binary!==void 0||(fe.binary=!Oe),(nt instanceof n&&nt.uncompressedSize===0||fe.dir||!nt||nt.length===0)&&(fe.base64=!1,fe.binary=!0,nt="",fe.compression="STORE",Ut="string");var _t=null;_t=nt instanceof n||nt instanceof u?nt:l.isNode&&l.isStream(nt)?new i(Y,nt):h.prepareContent(Y,nt,fe.binary,fe.optimizedBinaryString,fe.base64);var Vt=new t(Y,_t,fe);this.files[Y]=Vt}var s=ft("./utf8"),h=ft("./utils"),u=ft("./stream/GenericWorker"),o=ft("./stream/StreamHelper"),e=ft("./defaults"),n=ft("./compressedObject"),t=ft("./zipObject"),a=ft("./generate"),l=ft("./nodejsUtils"),i=ft("./nodejs/NodejsStreamInputAdapter"),f=function(nt){nt.slice(-1)==="/"&&(nt=nt.substring(0,nt.length-1));var xt=nt.lastIndexOf("/");return 0<xt?nt.substring(0,xt):""},p=function(nt){return nt.slice(-1)!=="/"&&(nt+="/"),nt},m=function(nt,xt){return xt=xt!==void 0?xt:e.createFolders,nt=p(nt),this.files[nt]||b.call(this,nt,null,{dir:!0,createFolders:xt}),this.files[nt]};function x(Y){return Object.prototype.toString.call(Y)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(nt){var xt,Dt,Ut;for(xt in this.files)Ut=this.files[xt],(Dt=xt.slice(this.root.length,xt.length))&&xt.slice(0,this.root.length)===this.root&&nt(Dt,Ut)},filter:function(nt){var xt=[];return this.forEach(function(Dt,Ut){nt(Dt,Ut)&&xt.push(Ut)}),xt},file:function(nt,xt,Dt){if(arguments.length!==1)return nt=this.root+nt,b.call(this,nt,xt,Dt),this;if(x(nt)){var Ut=nt;return this.filter(function(Oe,_t){return!_t.dir&&Ut.test(Oe)})}var fe=this.files[this.root+nt];return fe&&!fe.dir?fe:null},folder:function(nt){if(!nt)return this;if(x(nt))return this.filter(function(fe,Oe){return Oe.dir&&nt.test(fe)});var xt=this.root+nt,Dt=m.call(this,xt),Ut=this.clone();return Ut.root=Dt.name,Ut},remove:function(nt){nt=this.root+nt;var xt=this.files[nt];if(xt||(nt.slice(-1)!=="/"&&(nt+="/"),xt=this.files[nt]),xt&&!xt.dir)delete this.files[nt];else for(var Dt=this.filter(function(fe,Oe){return Oe.name.slice(0,nt.length)===nt}),Ut=0;Ut<Dt.length;Ut++)delete this.files[Dt[Ut].name];return this},generate:function(nt){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(nt){var xt,Dt={};try{if((Dt=h.extend(nt||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=Dt.type.toLowerCase(),Dt.compression=Dt.compression.toUpperCase(),Dt.type==="binarystring"&&(Dt.type="string"),!Dt.type)throw new Error("No output type specified.");h.checkSupport(Dt.type),Dt.platform!=="darwin"&&Dt.platform!=="freebsd"&&Dt.platform!=="linux"&&Dt.platform!=="sunos"||(Dt.platform="UNIX"),Dt.platform==="win32"&&(Dt.platform="DOS");var Ut=Dt.comment||this.comment||"";xt=a.generateWorker(this,Dt,Ut)}catch(fe){(xt=new u("error")).error(fe)}return new o(xt,Dt.type||"string",Dt.mimeType)},generateAsync:function(nt,xt){return this.generateInternalStream(nt).accumulate(xt)},generateNodeStream:function(nt,xt){return(nt=nt||{}).type||(nt.type="nodebuffer"),this.generateInternalStream(nt).toNodejsStream(xt)}};Gt.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ft,Gt,tt){Gt.exports=ft("stream")},{stream:void 0}],17:[function(ft,Gt,tt){"use strict";var b=ft("./DataReader");function s(h){b.call(this,h);for(var u=0;u<this.data.length;u++)h[u]=255&h[u]}ft("../utils").inherits(s,b),s.prototype.byteAt=function(h){return this.data[this.zero+h]},s.prototype.lastIndexOfSignature=function(h){for(var u=h.charCodeAt(0),o=h.charCodeAt(1),e=h.charCodeAt(2),n=h.charCodeAt(3),t=this.length-4;0<=t;--t)if(this.data[t]===u&&this.data[t+1]===o&&this.data[t+2]===e&&this.data[t+3]===n)return t-this.zero;return-1},s.prototype.readAndCheckSignature=function(h){var u=h.charCodeAt(0),o=h.charCodeAt(1),e=h.charCodeAt(2),n=h.charCodeAt(3),t=this.readData(4);return u===t[0]&&o===t[1]&&e===t[2]&&n===t[3]},s.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Gt.exports=s},{"../utils":32,"./DataReader":18}],18:[function(ft,Gt,tt){"use strict";var b=ft("../utils");function s(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(u){},readInt:function(u){var o,e=0;for(this.checkOffset(u),o=this.index+u-1;o>=this.index;o--)e=(e<<8)+this.byteAt(o);return this.index+=u,e},readString:function(u){return b.transformTo("string",this.readData(u))},readData:function(u){},lastIndexOfSignature:function(u){},readAndCheckSignature:function(u){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},Gt.exports=s},{"../utils":32}],19:[function(ft,Gt,tt){"use strict";var b=ft("./Uint8ArrayReader");function s(h){b.call(this,h)}ft("../utils").inherits(s,b),s.prototype.readData=function(h){this.checkOffset(h);var u=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Gt.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ft,Gt,tt){"use strict";var b=ft("./DataReader");function s(h){b.call(this,h)}ft("../utils").inherits(s,b),s.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},s.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},s.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},s.prototype.readData=function(h){this.checkOffset(h);var u=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Gt.exports=s},{"../utils":32,"./DataReader":18}],21:[function(ft,Gt,tt){"use strict";var b=ft("./ArrayReader");function s(h){b.call(this,h)}ft("../utils").inherits(s,b),s.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Gt.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(ft,Gt,tt){"use strict";var b=ft("../utils"),s=ft("../support"),h=ft("./ArrayReader"),u=ft("./StringReader"),o=ft("./NodeBufferReader"),e=ft("./Uint8ArrayReader");Gt.exports=function(n){var t=b.getTypeOf(n);return b.checkSupport(t),t!=="string"||s.uint8array?t==="nodebuffer"?new o(n):s.uint8array?new e(b.transformTo("uint8array",n)):new h(b.transformTo("array",n)):new u(n)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ft,Gt,tt){"use strict";tt.LOCAL_FILE_HEADER="PK",tt.CENTRAL_FILE_HEADER="PK",tt.CENTRAL_DIRECTORY_END="PK",tt.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",tt.ZIP64_CENTRAL_DIRECTORY_END="PK",tt.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ft,Gt,tt){"use strict";var b=ft("./GenericWorker"),s=ft("../utils");function h(u){b.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(h,b),h.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},Gt.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(ft,Gt,tt){"use strict";var b=ft("./GenericWorker"),s=ft("../crc32");function h(){b.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ft("../utils").inherits(h,b),h.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},Gt.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ft,Gt,tt){"use strict";var b=ft("../utils"),s=ft("./GenericWorker");function h(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}b.inherits(h,s),h.prototype.processChunk=function(u){if(u){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+u.data.length}s.prototype.processChunk.call(this,u)},Gt.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(ft,Gt,tt){"use strict";var b=ft("../utils"),s=ft("./GenericWorker");function h(u){s.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(e){o.dataIsReady=!0,o.data=e,o.max=e&&e.length||0,o.type=b.getTypeOf(e),o.isPaused||o._tickAndRepeat()},function(e){o.error(e)})}b.inherits(h,s),h.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,b.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(b.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,o);break;case"uint8array":u=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":u=this.data.slice(this.index,o)}return this.index=o,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},Gt.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(ft,Gt,tt){"use strict";function b(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}b.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,u){return this._listeners[h].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,u){if(this._listeners[h])for(var o=0;o<this._listeners[h].length;o++)this._listeners[h][o].call(this,u)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var u=this;return h.on("data",function(o){u.processChunk(o)}),h.on("end",function(){u.end()}),h.on("error",function(o){u.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,u){return this.extraStreamInfo[h]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},Gt.exports=b},{}],29:[function(ft,Gt,tt){"use strict";var b=ft("../utils"),s=ft("./ConvertWorker"),h=ft("./GenericWorker"),u=ft("../base64"),o=ft("../support"),e=ft("../external"),n=null;if(o.nodestream)try{n=ft("../nodejs/NodejsStreamOutputAdapter")}catch(l){}function t(l,i){return new e.Promise(function(f,p){var m=[],x=l._internalType,M=l._outputType,Y=l._mimeType;l.on("data",function(nt,xt){m.push(nt),i&&i(xt)}).on("error",function(nt){m=[],p(nt)}).on("end",function(){try{var nt=function(xt,Dt,Ut){switch(xt){case"blob":return b.newBlob(b.transformTo("arraybuffer",Dt),Ut);case"base64":return u.encode(Dt);default:return b.transformTo(xt,Dt)}}(M,function(xt,Dt){var Ut,fe=0,Oe=null,_t=0;for(Ut=0;Ut<Dt.length;Ut++)_t+=Dt[Ut].length;switch(xt){case"string":return Dt.join("");case"array":return Array.prototype.concat.apply([],Dt);case"uint8array":for(Oe=new Uint8Array(_t),Ut=0;Ut<Dt.length;Ut++)Oe.set(Dt[Ut],fe),fe+=Dt[Ut].length;return Oe;case"nodebuffer":return Xe.concat(Dt);default:throw new Error("concat : unsupported type '"+xt+"'")}}(x,m),Y);f(nt)}catch(xt){p(xt)}m=[]}).resume()})}function a(l,i,f){var p=i;switch(i){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=i,this._mimeType=f,b.checkSupport(p),this._worker=l.pipe(new s(p)),l.lock()}catch(m){this._worker=new h("error"),this._worker.error(m)}}a.prototype={accumulate:function(i){return t(this,i)},on:function(i,f){var p=this;return i==="data"?this._worker.on(i,function(m){f.call(p,m.data,m.meta)}):this._worker.on(i,function(){b.delay(f,arguments,p)}),this},resume:function(){return b.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(i){if(b.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:this._outputType!=="nodebuffer"},i)}},Gt.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ft,Gt,tt){"use strict";if(tt.base64=!0,tt.array=!0,tt.string=!0,tt.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",tt.nodebuffer=typeof Xe!="undefined",tt.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")tt.blob=!1;else{var b=new ArrayBuffer(0);try{tt.blob=new Blob([b],{type:"application/zip"}).size===0}catch(h){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(b),tt.blob=s.getBlob("application/zip").size===0}catch(u){tt.blob=!1}}}try{tt.nodestream=!!ft("readable-stream").Readable}catch(h){tt.nodestream=!1}},{"readable-stream":16}],31:[function(ft,Gt,tt){"use strict";for(var b=ft("./utils"),s=ft("./support"),h=ft("./nodejsUtils"),u=ft("./stream/GenericWorker"),o=new Array(256),e=0;e<256;e++)o[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;o[254]=o[254]=1;function n(){u.call(this,"utf-8 decode"),this.leftOver=null}function t(){u.call(this,"utf-8 encode")}tt.utf8encode=function(a){return s.nodebuffer?h.newBufferFrom(a,"utf-8"):function(l){var i,f,p,m,x,M=l.length,Y=0;for(m=0;m<M;m++)(64512&(f=l.charCodeAt(m)))==55296&&m+1<M&&(64512&(p=l.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),Y+=f<128?1:f<2048?2:f<65536?3:4;for(i=s.uint8array?new Uint8Array(Y):new Array(Y),m=x=0;x<Y;m++)(64512&(f=l.charCodeAt(m)))==55296&&m+1<M&&(64512&(p=l.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),m++),f<128?i[x++]=f:(f<2048?i[x++]=192|f>>>6:(f<65536?i[x++]=224|f>>>12:(i[x++]=240|f>>>18,i[x++]=128|f>>>12&63),i[x++]=128|f>>>6&63),i[x++]=128|63&f);return i}(a)},tt.utf8decode=function(a){return s.nodebuffer?b.transformTo("nodebuffer",a).toString("utf-8"):function(l){var i,f,p,m,x=l.length,M=new Array(2*x);for(i=f=0;i<x;)if((p=l[i++])<128)M[f++]=p;else if(4<(m=o[p]))M[f++]=65533,i+=m-1;else{for(p&=m===2?31:m===3?15:7;1<m&&i<x;)p=p<<6|63&l[i++],m--;1<m?M[f++]=65533:p<65536?M[f++]=p:(p-=65536,M[f++]=55296|p>>10&1023,M[f++]=56320|1023&p)}return M.length!==f&&(M.subarray?M=M.subarray(0,f):M.length=f),b.applyFromCharCode(M)}(a=b.transformTo(s.uint8array?"uint8array":"array",a))},b.inherits(n,u),n.prototype.processChunk=function(a){var l=b.transformTo(s.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var i=l;(l=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),l.set(i,this.leftOver.length)}else l=this.leftOver.concat(l);this.leftOver=null}var f=function(m,x){var M;for((x=x||m.length)>m.length&&(x=m.length),M=x-1;0<=M&&(192&m[M])==128;)M--;return M<0||M===0?x:M+o[m[M]]>x?M:x}(l),p=l;f!==l.length&&(s.uint8array?(p=l.subarray(0,f),this.leftOver=l.subarray(f,l.length)):(p=l.slice(0,f),this.leftOver=l.slice(f,l.length))),this.push({data:tt.utf8decode(p),meta:a.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:tt.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},tt.Utf8DecodeWorker=n,b.inherits(t,u),t.prototype.processChunk=function(a){this.push({data:tt.utf8encode(a.data),meta:a.meta})},tt.Utf8EncodeWorker=t},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ft,Gt,tt){"use strict";var b=ft("./support"),s=ft("./base64"),h=ft("./nodejsUtils"),u=ft("./external");function o(i){return i}function e(i,f){for(var p=0;p<i.length;++p)f[p]=255&i.charCodeAt(p);return f}ft("setimmediate"),tt.newBlob=function(i,f){tt.checkSupport("blob");try{return new Blob([i],{type:f})}catch(m){try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(i),p.getBlob(f)}catch(x){throw new Error("Bug : can't construct the Blob.")}}};var n={stringifyByChunk:function(f,p,m){var x=[],M=0,Y=f.length;if(Y<=m)return String.fromCharCode.apply(null,f);for(;M<Y;)p==="array"||p==="nodebuffer"?x.push(String.fromCharCode.apply(null,f.slice(M,Math.min(M+m,Y)))):x.push(String.fromCharCode.apply(null,f.subarray(M,Math.min(M+m,Y)))),M+=m;return x.join("")},stringifyByChar:function(f){for(var p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);return p},applyCanBeUsed:{uint8array:function(){try{return b.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(i){return!1}}(),nodebuffer:function(){try{return b.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch(i){return!1}}()}};function t(i){var f=65536,p=tt.getTypeOf(i),m=!0;if(p==="uint8array"?m=n.applyCanBeUsed.uint8array:p==="nodebuffer"&&(m=n.applyCanBeUsed.nodebuffer),m)for(;1<f;)try{return n.stringifyByChunk(i,p,f)}catch(x){f=Math.floor(f/2)}return n.stringifyByChar(i)}function a(i,f){for(var p=0;p<i.length;p++)f[p]=i[p];return f}tt.applyFromCharCode=t;var l={};l.string={string:o,array:function(f){return e(f,new Array(f.length))},arraybuffer:function(f){return l.string.uint8array(f).buffer},uint8array:function(f){return e(f,new Uint8Array(f.length))},nodebuffer:function(f){return e(f,h.allocBuffer(f.length))}},l.array={string:t,array:o,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return h.newBufferFrom(f)}},l.arraybuffer={string:function(f){return t(new Uint8Array(f))},array:function(f){return a(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:o,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return h.newBufferFrom(new Uint8Array(f))}},l.uint8array={string:t,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:o,nodebuffer:function(f){return h.newBufferFrom(f)}},l.nodebuffer={string:t,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return l.nodebuffer.uint8array(f).buffer},uint8array:function(f){return a(f,new Uint8Array(f.length))},nodebuffer:o},tt.transformTo=function(i,f){if(f=f||"",!i)return f;tt.checkSupport(i);var p=tt.getTypeOf(f);return l[p][i](f)},tt.resolve=function(i){for(var f=i.split("/"),p=[],m=0;m<f.length;m++){var x=f[m];x==="."||x===""&&m!==0&&m!==f.length-1||(x===".."?p.pop():p.push(x))}return p.join("/")},tt.getTypeOf=function(i){return typeof i=="string"?"string":Object.prototype.toString.call(i)==="[object Array]"?"array":b.nodebuffer&&h.isBuffer(i)?"nodebuffer":b.uint8array&&i instanceof Uint8Array?"uint8array":b.arraybuffer&&i instanceof ArrayBuffer?"arraybuffer":void 0},tt.checkSupport=function(i){if(!b[i.toLowerCase()])throw new Error(i+" is not supported by this platform")},tt.MAX_VALUE_16BITS=65535,tt.MAX_VALUE_32BITS=-1,tt.pretty=function(i){var f,p,m="";for(p=0;p<(i||"").length;p++)m+="\\x"+((f=i.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return m},tt.delay=function(i,f,p){setImmediate(function(){i.apply(p||null,f||[])})},tt.inherits=function(i,f){function p(){}p.prototype=f.prototype,i.prototype=new p},tt.extend=function(){var i,f,p={};for(i=0;i<arguments.length;i++)for(f in arguments[i])arguments[i].hasOwnProperty(f)&&p[f]===void 0&&(p[f]=arguments[i][f]);return p},tt.prepareContent=function(i,f,p,m,x){return u.Promise.resolve(f).then(function(M){return b.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(Y,nt){var xt=new FileReader;xt.onload=function(Dt){Y(Dt.target.result)},xt.onerror=function(Dt){nt(Dt.target.error)},xt.readAsArrayBuffer(M)}):M}).then(function(M){var Y=tt.getTypeOf(M);return Y?(Y==="arraybuffer"?M=tt.transformTo("uint8array",M):Y==="string"&&(x?M=s.decode(M):p&&m!==!0&&(M=function(nt){return e(nt,b.uint8array?new Uint8Array(nt.length):new Array(nt.length))}(M))),M):u.Promise.reject(new Error("Can't read the data of '"+i+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ft,Gt,tt){"use strict";var b=ft("./reader/readerFor"),s=ft("./utils"),h=ft("./signature"),u=ft("./zipEntry"),o=(ft("./utf8"),ft("./support"));function e(n){this.files=[],this.loadOptions=n}e.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var a=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(a)+", expected "+s.pretty(t)+")")}},isSignature:function(t,a){var l=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===a;return this.reader.setIndex(l),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),a=o.uint8array?"uint8array":"array",l=s.transformTo(a,t);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,a,l,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),a=this.reader.readInt(4),l=this.reader.readData(a),this.zip64ExtensibleData[t]={id:t,length:a,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,a;for(t=0;t<this.files.length;t++)a=this.files[t],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(t=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var a=t;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var i=a-l;if(0<i)this.isSignature(a,h.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=b(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Gt.exports=e},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(ft,Gt,tt){"use strict";var b=ft("./reader/readerFor"),s=ft("./utils"),h=ft("./compressedObject"),u=ft("./crc32"),o=ft("./utf8"),e=ft("./compressions"),n=ft("./support");function t(a,l){this.options=a,this.loadOptions=l}t.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var i,f;if(l.skip(22),this.fileNameLength=l.readInt(2),f=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((i=function(p){for(var m in e)if(e.hasOwnProperty(m)&&e[m].magic===p)return e[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,i,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var i=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(i),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(l){if(this.extraFields[1]){var i=b(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(l){var i,f,p,m=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<m;)i=l.readInt(2),f=l.readInt(2),p=l.readData(f),this.extraFields[i]={id:i,length:f,value:p};l.setIndex(m)},handleUTF8:function(){var l=n.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var i=this.findExtraFieldUnicodePath();if(i!==null)this.fileNameStr=i;else{var f=s.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var m=s.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var i=b(l.value);return i.readInt(1)!==1||u(this.fileName)!==i.readInt(4)?null:o.utf8decode(i.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var i=b(l.value);return i.readInt(1)!==1||u(this.fileComment)!==i.readInt(4)?null:o.utf8decode(i.readData(l.length-5))}return null}},Gt.exports=t},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ft,Gt,tt){"use strict";function b(l,i,f){this.name=l,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=i,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var s=ft("./stream/StreamHelper"),h=ft("./stream/DataWorker"),u=ft("./utf8"),o=ft("./compressedObject"),e=ft("./stream/GenericWorker");b.prototype={internalStream:function(i){var f=null,p="string";try{if(!i)throw new Error("No output type specified.");var m=(p=i.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),f=this._decompressWorker();var x=!this._dataBinary;x&&!m&&(f=f.pipe(new u.Utf8EncodeWorker)),!x&&m&&(f=f.pipe(new u.Utf8DecodeWorker))}catch(M){(f=new e("error")).error(M)}return new s(f,p,"")},async:function(i,f){return this.internalStream(i).accumulate(f)},nodeStream:function(i,f){return this.internalStream(i||"nodebuffer").toNodejsStream(f)},_compressWorker:function(i,f){if(this._data instanceof o&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new u.Utf8EncodeWorker)),o.createWorkerFrom(p,i,f)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof e?this._data:new h(this._data)}};for(var n=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],t=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<n.length;a++)b.prototype[n[a]]=t;Gt.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ft,Gt,tt){(function(b){"use strict";var s,h,u=b.MutationObserver||b.WebKitMutationObserver;if(u){var o=0,e=new u(l),n=b.document.createTextNode("");e.observe(n,{characterData:!0}),s=function(){n.data=o=++o%2}}else if(b.setImmediate||b.MessageChannel===void 0)s="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var i=b.document.createElement("script");i.onreadystatechange=function(){l(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},b.document.documentElement.appendChild(i)}:function(){setTimeout(l,0)};else{var t=new b.MessageChannel;t.port1.onmessage=l,s=function(){t.port2.postMessage(0)}}var a=[];function l(){var i,f;h=!0;for(var p=a.length;p;){for(f=a,a=[],i=-1;++i<p;)f[i]();p=a.length}h=!1}Gt.exports=function(i){a.push(i)!==1||h||s()}}).call(this,typeof O!="undefined"?O:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(ft,Gt,tt){"use strict";var b=ft("immediate");function s(){}var h={},u=["REJECTED"],o=["FULFILLED"],e=["PENDING"];function n(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=e,this.queue=[],this.outcome=void 0,p!==s&&i(this,p)}function t(p,m,x){this.promise=p,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function a(p,m,x){b(function(){var M;try{M=m(x)}catch(Y){return h.reject(p,Y)}M===p?h.reject(p,new TypeError("Cannot resolve promise with itself")):h.resolve(p,M)})}function l(p){var m=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof m=="function")return function(){m.apply(p,arguments)}}function i(p,m){var x=!1;function M(xt){x||(x=!0,h.reject(p,xt))}function Y(xt){x||(x=!0,h.resolve(p,xt))}var nt=f(function(){m(Y,M)});nt.status==="error"&&M(nt.value)}function f(p,m){var x={};try{x.value=p(m),x.status="success"}catch(M){x.status="error",x.value=M}return x}(Gt.exports=n).prototype.finally=function(p){if(typeof p!="function")return this;var m=this.constructor;return this.then(function(x){return m.resolve(p()).then(function(){return x})},function(x){return m.resolve(p()).then(function(){throw x})})},n.prototype.catch=function(p){return this.then(null,p)},n.prototype.then=function(p,m){if(typeof p!="function"&&this.state===o||typeof m!="function"&&this.state===u)return this;var x=new this.constructor(s);return this.state!==e?a(x,this.state===o?p:m,this.outcome):this.queue.push(new t(x,p,m)),x},t.prototype.callFulfilled=function(p){h.resolve(this.promise,p)},t.prototype.otherCallFulfilled=function(p){a(this.promise,this.onFulfilled,p)},t.prototype.callRejected=function(p){h.reject(this.promise,p)},t.prototype.otherCallRejected=function(p){a(this.promise,this.onRejected,p)},h.resolve=function(p,m){var x=f(l,m);if(x.status==="error")return h.reject(p,x.value);var M=x.value;if(M)i(p,M);else{p.state=o,p.outcome=m;for(var Y=-1,nt=p.queue.length;++Y<nt;)p.queue[Y].callFulfilled(m)}return p},h.reject=function(p,m){p.state=u,p.outcome=m;for(var x=-1,M=p.queue.length;++x<M;)p.queue[x].callRejected(m);return p},n.resolve=function(p){return p instanceof this?p:h.resolve(new this(s),p)},n.reject=function(p){var m=new this(s);return h.reject(m,p)},n.all=function(p){var m=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=p.length,M=!1;if(!x)return this.resolve([]);for(var Y=new Array(x),nt=0,xt=-1,Dt=new this(s);++xt<x;)Ut(p[xt],xt);return Dt;function Ut(fe,Oe){m.resolve(fe).then(function(_t){Y[Oe]=_t,++nt!==x||M||(M=!0,h.resolve(Dt,Y))},function(_t){M||(M=!0,h.reject(Dt,_t))})}},n.race=function(p){var m=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=p.length,M=!1;if(!x)return this.resolve([]);for(var Y=-1,nt=new this(s);++Y<x;)xt=p[Y],m.resolve(xt).then(function(Dt){M||(M=!0,h.resolve(nt,Dt))},function(Dt){M||(M=!0,h.reject(nt,Dt))});var xt;return nt}},{immediate:36}],38:[function(ft,Gt,tt){"use strict";var b={};(0,ft("./lib/utils/common").assign)(b,ft("./lib/deflate"),ft("./lib/inflate"),ft("./lib/zlib/constants")),Gt.exports=b},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ft,Gt,tt){"use strict";var b=ft("./zlib/deflate"),s=ft("./utils/common"),h=ft("./utils/strings"),u=ft("./zlib/messages"),o=ft("./zlib/zstream"),e=Object.prototype.toString,n=0,t=-1,a=0,l=8;function i(p){if(!(this instanceof i))return new i(p);this.options=s.assign({level:t,method:l,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},p||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var x=b.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(x!==n)throw new Error(u[x]);if(m.header&&b.deflateSetHeader(this.strm,m.header),m.dictionary){var M;if(M=typeof m.dictionary=="string"?h.string2buf(m.dictionary):e.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(x=b.deflateSetDictionary(this.strm,M))!==n)throw new Error(u[x]);this._dict_set=!0}}function f(p,m){var x=new i(m);if(x.push(p,!0),x.err)throw x.msg||u[x.err];return x.result}i.prototype.push=function(p,m){var x,M,Y=this.strm,nt=this.options.chunkSize;if(this.ended)return!1;M=m===~~m?m:m===!0?4:0,typeof p=="string"?Y.input=h.string2buf(p):e.call(p)==="[object ArrayBuffer]"?Y.input=new Uint8Array(p):Y.input=p,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new s.Buf8(nt),Y.next_out=0,Y.avail_out=nt),(x=b.deflate(Y,M))!==1&&x!==n)return this.onEnd(x),!(this.ended=!0);Y.avail_out!==0&&(Y.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(s.shrinkBuf(Y.output,Y.next_out))):this.onData(s.shrinkBuf(Y.output,Y.next_out)))}while((0<Y.avail_in||Y.avail_out===0)&&x!==1);return M===4?(x=b.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===n):M!==2||(this.onEnd(n),!(Y.avail_out=0))},i.prototype.onData=function(p){this.chunks.push(p)},i.prototype.onEnd=function(p){p===n&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},tt.Deflate=i,tt.deflate=f,tt.deflateRaw=function(p,m){return(m=m||{}).raw=!0,f(p,m)},tt.gzip=function(p,m){return(m=m||{}).gzip=!0,f(p,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ft,Gt,tt){"use strict";var b=ft("./zlib/inflate"),s=ft("./utils/common"),h=ft("./utils/strings"),u=ft("./zlib/constants"),o=ft("./zlib/messages"),e=ft("./zlib/zstream"),n=ft("./zlib/gzheader"),t=Object.prototype.toString;function a(i){if(!(this instanceof a))return new a(i);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},i||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||i&&i.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e,this.strm.avail_out=0;var p=b.inflateInit2(this.strm,f.windowBits);if(p!==u.Z_OK)throw new Error(o[p]);this.header=new n,b.inflateGetHeader(this.strm,this.header)}function l(i,f){var p=new a(f);if(p.push(i,!0),p.err)throw p.msg||o[p.err];return p.result}a.prototype.push=function(i,f){var p,m,x,M,Y,nt,xt=this.strm,Dt=this.options.chunkSize,Ut=this.options.dictionary,fe=!1;if(this.ended)return!1;m=f===~~f?f:f===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof i=="string"?xt.input=h.binstring2buf(i):t.call(i)==="[object ArrayBuffer]"?xt.input=new Uint8Array(i):xt.input=i,xt.next_in=0,xt.avail_in=xt.input.length;do{if(xt.avail_out===0&&(xt.output=new s.Buf8(Dt),xt.next_out=0,xt.avail_out=Dt),(p=b.inflate(xt,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&Ut&&(nt=typeof Ut=="string"?h.string2buf(Ut):t.call(Ut)==="[object ArrayBuffer]"?new Uint8Array(Ut):Ut,p=b.inflateSetDictionary(this.strm,nt)),p===u.Z_BUF_ERROR&&fe===!0&&(p=u.Z_OK,fe=!1),p!==u.Z_STREAM_END&&p!==u.Z_OK)return this.onEnd(p),!(this.ended=!0);xt.next_out&&(xt.avail_out!==0&&p!==u.Z_STREAM_END&&(xt.avail_in!==0||m!==u.Z_FINISH&&m!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=h.utf8border(xt.output,xt.next_out),M=xt.next_out-x,Y=h.buf2string(xt.output,x),xt.next_out=M,xt.avail_out=Dt-M,M&&s.arraySet(xt.output,xt.output,x,M,0),this.onData(Y)):this.onData(s.shrinkBuf(xt.output,xt.next_out)))),xt.avail_in===0&&xt.avail_out===0&&(fe=!0)}while((0<xt.avail_in||xt.avail_out===0)&&p!==u.Z_STREAM_END);return p===u.Z_STREAM_END&&(m=u.Z_FINISH),m===u.Z_FINISH?(p=b.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===u.Z_OK):m!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(xt.avail_out=0))},a.prototype.onData=function(i){this.chunks.push(i)},a.prototype.onEnd=function(i){i===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},tt.Inflate=a,tt.inflate=l,tt.inflateRaw=function(i,f){return(f=f||{}).raw=!0,l(i,f)},tt.ungzip=l},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ft,Gt,tt){"use strict";var b=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";tt.assign=function(u){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var e=o.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var n in e)e.hasOwnProperty(n)&&(u[n]=e[n])}}return u},tt.shrinkBuf=function(u,o){return u.length===o?u:u.subarray?u.subarray(0,o):(u.length=o,u)};var s={arraySet:function(o,e,n,t,a){if(e.subarray&&o.subarray)o.set(e.subarray(n,n+t),a);else for(var l=0;l<t;l++)o[a+l]=e[n+l]},flattenChunks:function(o){var e,n,t,a,l,i;for(e=t=0,n=o.length;e<n;e++)t+=o[e].length;for(i=new Uint8Array(t),e=a=0,n=o.length;e<n;e++)l=o[e],i.set(l,a),a+=l.length;return i}},h={arraySet:function(o,e,n,t,a){for(var l=0;l<t;l++)o[a+l]=e[n+l]},flattenChunks:function(o){return[].concat.apply([],o)}};tt.setTyped=function(u){u?(tt.Buf8=Uint8Array,tt.Buf16=Uint16Array,tt.Buf32=Int32Array,tt.assign(tt,s)):(tt.Buf8=Array,tt.Buf16=Array,tt.Buf32=Array,tt.assign(tt,h))},tt.setTyped(b)},{}],42:[function(ft,Gt,tt){"use strict";var b=ft("./common"),s=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(n){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){h=!1}for(var u=new b.Buf8(256),o=0;o<256;o++)u[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function e(n,t){if(t<65537&&(n.subarray&&h||!n.subarray&&s))return String.fromCharCode.apply(null,b.shrinkBuf(n,t));for(var a="",l=0;l<t;l++)a+=String.fromCharCode(n[l]);return a}u[254]=u[254]=1,tt.string2buf=function(n){var t,a,l,i,f,p=n.length,m=0;for(i=0;i<p;i++)(64512&(a=n.charCodeAt(i)))==55296&&i+1<p&&(64512&(l=n.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(l-56320),i++),m+=a<128?1:a<2048?2:a<65536?3:4;for(t=new b.Buf8(m),i=f=0;f<m;i++)(64512&(a=n.charCodeAt(i)))==55296&&i+1<p&&(64512&(l=n.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(l-56320),i++),a<128?t[f++]=a:(a<2048?t[f++]=192|a>>>6:(a<65536?t[f++]=224|a>>>12:(t[f++]=240|a>>>18,t[f++]=128|a>>>12&63),t[f++]=128|a>>>6&63),t[f++]=128|63&a);return t},tt.buf2binstring=function(n){return e(n,n.length)},tt.binstring2buf=function(n){for(var t=new b.Buf8(n.length),a=0,l=t.length;a<l;a++)t[a]=n.charCodeAt(a);return t},tt.buf2string=function(n,t){var a,l,i,f,p=t||n.length,m=new Array(2*p);for(a=l=0;a<p;)if((i=n[a++])<128)m[l++]=i;else if(4<(f=u[i]))m[l++]=65533,a+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&a<p;)i=i<<6|63&n[a++],f--;1<f?m[l++]=65533:i<65536?m[l++]=i:(i-=65536,m[l++]=55296|i>>10&1023,m[l++]=56320|1023&i)}return e(m,l)},tt.utf8border=function(n,t){var a;for((t=t||n.length)>n.length&&(t=n.length),a=t-1;0<=a&&(192&n[a])==128;)a--;return a<0||a===0?t:a+u[n[a]]>t?a:t}},{"./common":41}],43:[function(ft,Gt,tt){"use strict";Gt.exports=function(b,s,h,u){for(var o=65535&b|0,e=b>>>16&65535|0,n=0;h!==0;){for(h-=n=2e3<h?2e3:h;e=e+(o=o+s[u++]|0)|0,--n;);o%=65521,e%=65521}return o|e<<16|0}},{}],44:[function(ft,Gt,tt){"use strict";Gt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ft,Gt,tt){"use strict";var b=function(){for(var s,h=[],u=0;u<256;u++){s=u;for(var o=0;o<8;o++)s=1&s?3988292384^s>>>1:s>>>1;h[u]=s}return h}();Gt.exports=function(s,h,u,o){var e=b,n=o+u;s^=-1;for(var t=o;t<n;t++)s=s>>>8^e[255&(s^h[t])];return-1^s}},{}],46:[function(ft,Gt,tt){"use strict";var b,s=ft("../utils/common"),h=ft("./trees"),u=ft("./adler32"),o=ft("./crc32"),e=ft("./messages"),n=0,t=4,a=0,l=-2,i=-1,f=4,p=2,m=8,x=9,M=286,Y=30,nt=19,xt=2*M+1,Dt=15,Ut=3,fe=258,Oe=fe+Ut+1,_t=42,Vt=113,J=1,be=2,Qe=3,W=4;function At(N,Bt){return N.msg=e[Bt],Bt}function V(N){return(N<<1)-(4<N?9:0)}function it(N){for(var Bt=N.length;0<=--Bt;)N[Bt]=0}function et(N){var Bt=N.state,U=Bt.pending;U>N.avail_out&&(U=N.avail_out),U!==0&&(s.arraySet(N.output,Bt.pending_buf,Bt.pending_out,U,N.next_out),N.next_out+=U,Bt.pending_out+=U,N.total_out+=U,N.avail_out-=U,Bt.pending-=U,Bt.pending===0&&(Bt.pending_out=0))}function F(N,Bt){h._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,Bt),N.block_start=N.strstart,et(N.strm)}function K(N,Bt){N.pending_buf[N.pending++]=Bt}function ht(N,Bt){N.pending_buf[N.pending++]=Bt>>>8&255,N.pending_buf[N.pending++]=255&Bt}function dt(N,Bt){var U,C,A=N.max_chain_length,q=N.strstart,at=N.prev_length,Ot=N.nice_match,St=N.strstart>N.w_size-Oe?N.strstart-(N.w_size-Oe):0,xe=N.window,Ne=N.w_mask,we=N.prev,Ke=N.strstart+fe,xr=xe[q+at-1],Or=xe[q+at];N.prev_length>=N.good_match&&(A>>=2),Ot>N.lookahead&&(Ot=N.lookahead);do if(xe[(U=Bt)+at]===Or&&xe[U+at-1]===xr&&xe[U]===xe[q]&&xe[++U]===xe[q+1]){q+=2,U++;do;while(xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&xe[++q]===xe[++U]&&q<Ke);if(C=fe-(Ke-q),q=Ke-fe,at<C){if(N.match_start=Bt,Ot<=(at=C))break;xr=xe[q+at-1],Or=xe[q+at]}}while((Bt=we[Bt&Ne])>St&&--A!=0);return at<=N.lookahead?at:N.lookahead}function Wt(N){var Bt,U,C,A,q,at,Ot,St,xe,Ne,we=N.w_size;do{if(A=N.window_size-N.lookahead-N.strstart,N.strstart>=we+(we-Oe)){for(s.arraySet(N.window,N.window,we,we,0),N.match_start-=we,N.strstart-=we,N.block_start-=we,Bt=U=N.hash_size;C=N.head[--Bt],N.head[Bt]=we<=C?C-we:0,--U;);for(Bt=U=we;C=N.prev[--Bt],N.prev[Bt]=we<=C?C-we:0,--U;);A+=we}if(N.strm.avail_in===0)break;if(at=N.strm,Ot=N.window,St=N.strstart+N.lookahead,xe=A,Ne=void 0,Ne=at.avail_in,xe<Ne&&(Ne=xe),U=Ne===0?0:(at.avail_in-=Ne,s.arraySet(Ot,at.input,at.next_in,Ne,St),at.state.wrap===1?at.adler=u(at.adler,Ot,Ne,St):at.state.wrap===2&&(at.adler=o(at.adler,Ot,Ne,St)),at.next_in+=Ne,at.total_in+=Ne,Ne),N.lookahead+=U,N.lookahead+N.insert>=Ut)for(q=N.strstart-N.insert,N.ins_h=N.window[q],N.ins_h=(N.ins_h<<N.hash_shift^N.window[q+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[q+Ut-1])&N.hash_mask,N.prev[q&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=q,q++,N.insert--,!(N.lookahead+N.insert<Ut)););}while(N.lookahead<Oe&&N.strm.avail_in!==0)}function Tt(N,Bt){for(var U,C;;){if(N.lookahead<Oe){if(Wt(N),N.lookahead<Oe&&Bt===n)return J;if(N.lookahead===0)break}if(U=0,N.lookahead>=Ut&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),U!==0&&N.strstart-U<=N.w_size-Oe&&(N.match_length=dt(N,U)),N.match_length>=Ut)if(C=h._tr_tally(N,N.strstart-N.match_start,N.match_length-Ut),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=Ut){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else C=h._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(C&&(F(N,!1),N.strm.avail_out===0))return J}return N.insert=N.strstart<Ut-1?N.strstart:Ut-1,Bt===t?(F(N,!0),N.strm.avail_out===0?Qe:W):N.last_lit&&(F(N,!1),N.strm.avail_out===0)?J:be}function jt(N,Bt){for(var U,C,A;;){if(N.lookahead<Oe){if(Wt(N),N.lookahead<Oe&&Bt===n)return J;if(N.lookahead===0)break}if(U=0,N.lookahead>=Ut&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=Ut-1,U!==0&&N.prev_length<N.max_lazy_match&&N.strstart-U<=N.w_size-Oe&&(N.match_length=dt(N,U),N.match_length<=5&&(N.strategy===1||N.match_length===Ut&&4096<N.strstart-N.match_start)&&(N.match_length=Ut-1)),N.prev_length>=Ut&&N.match_length<=N.prev_length){for(A=N.strstart+N.lookahead-Ut,C=h._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-Ut),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=A&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=Ut-1,N.strstart++,C&&(F(N,!1),N.strm.avail_out===0))return J}else if(N.match_available){if((C=h._tr_tally(N,0,N.window[N.strstart-1]))&&F(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return J}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(C=h._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<Ut-1?N.strstart:Ut-1,Bt===t?(F(N,!0),N.strm.avail_out===0?Qe:W):N.last_lit&&(F(N,!1),N.strm.avail_out===0)?J:be}function ce(N,Bt,U,C,A){this.good_length=N,this.max_lazy=Bt,this.nice_length=U,this.max_chain=C,this.func=A}function ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*xt),this.dyn_dtree=new s.Buf16(2*(2*Y+1)),this.bl_tree=new s.Buf16(2*(2*nt+1)),it(this.dyn_ltree),it(this.dyn_dtree),it(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(Dt+1),this.heap=new s.Buf16(2*M+1),it(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*M+1),it(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function re(N){var Bt;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=p,(Bt=N.state).pending=0,Bt.pending_out=0,Bt.wrap<0&&(Bt.wrap=-Bt.wrap),Bt.status=Bt.wrap?_t:Vt,N.adler=Bt.wrap===2?0:1,Bt.last_flush=n,h._tr_init(Bt),a):At(N,l)}function Yt(N){var Bt=re(N);return Bt===a&&function(U){U.window_size=2*U.w_size,it(U.head),U.max_lazy_match=b[U.level].max_lazy,U.good_match=b[U.level].good_length,U.nice_match=b[U.level].nice_length,U.max_chain_length=b[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=Ut-1,U.match_available=0,U.ins_h=0}(N.state),Bt}function de(N,Bt,U,C,A,q){if(!N)return l;var at=1;if(Bt===i&&(Bt=6),C<0?(at=0,C=-C):15<C&&(at=2,C-=16),A<1||x<A||U!==m||C<8||15<C||Bt<0||9<Bt||q<0||f<q)return At(N,l);C===8&&(C=9);var Ot=new ve;return(N.state=Ot).strm=N,Ot.wrap=at,Ot.gzhead=null,Ot.w_bits=C,Ot.w_size=1<<Ot.w_bits,Ot.w_mask=Ot.w_size-1,Ot.hash_bits=A+7,Ot.hash_size=1<<Ot.hash_bits,Ot.hash_mask=Ot.hash_size-1,Ot.hash_shift=~~((Ot.hash_bits+Ut-1)/Ut),Ot.window=new s.Buf8(2*Ot.w_size),Ot.head=new s.Buf16(Ot.hash_size),Ot.prev=new s.Buf16(Ot.w_size),Ot.lit_bufsize=1<<A+6,Ot.pending_buf_size=4*Ot.lit_bufsize,Ot.pending_buf=new s.Buf8(Ot.pending_buf_size),Ot.d_buf=1*Ot.lit_bufsize,Ot.l_buf=3*Ot.lit_bufsize,Ot.level=Bt,Ot.strategy=q,Ot.method=U,Yt(N)}b=[new ce(0,0,0,0,function(N,Bt){var U=65535;for(U>N.pending_buf_size-5&&(U=N.pending_buf_size-5);;){if(N.lookahead<=1){if(Wt(N),N.lookahead===0&&Bt===n)return J;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var C=N.block_start+U;if((N.strstart===0||N.strstart>=C)&&(N.lookahead=N.strstart-C,N.strstart=C,F(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-Oe&&(F(N,!1),N.strm.avail_out===0))return J}return N.insert=0,Bt===t?(F(N,!0),N.strm.avail_out===0?Qe:W):(N.strstart>N.block_start&&(F(N,!1),N.strm.avail_out),J)}),new ce(4,4,8,4,Tt),new ce(4,5,16,8,Tt),new ce(4,6,32,32,Tt),new ce(4,4,16,16,jt),new ce(8,16,32,32,jt),new ce(8,16,128,128,jt),new ce(8,32,128,256,jt),new ce(32,128,258,1024,jt),new ce(32,258,258,4096,jt)],tt.deflateInit=function(N,Bt){return de(N,Bt,m,15,8,0)},tt.deflateInit2=de,tt.deflateReset=Yt,tt.deflateResetKeep=re,tt.deflateSetHeader=function(N,Bt){return N&&N.state?N.state.wrap!==2?l:(N.state.gzhead=Bt,a):l},tt.deflate=function(N,Bt){var U,C,A,q;if(!N||!N.state||5<Bt||Bt<0)return N?At(N,l):l;if(C=N.state,!N.output||!N.input&&N.avail_in!==0||C.status===666&&Bt!==t)return At(N,N.avail_out===0?-5:l);if(C.strm=N,U=C.last_flush,C.last_flush=Bt,C.status===_t)if(C.wrap===2)N.adler=0,K(C,31),K(C,139),K(C,8),C.gzhead?(K(C,(C.gzhead.text?1:0)+(C.gzhead.hcrc?2:0)+(C.gzhead.extra?4:0)+(C.gzhead.name?8:0)+(C.gzhead.comment?16:0)),K(C,255&C.gzhead.time),K(C,C.gzhead.time>>8&255),K(C,C.gzhead.time>>16&255),K(C,C.gzhead.time>>24&255),K(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),K(C,255&C.gzhead.os),C.gzhead.extra&&C.gzhead.extra.length&&(K(C,255&C.gzhead.extra.length),K(C,C.gzhead.extra.length>>8&255)),C.gzhead.hcrc&&(N.adler=o(N.adler,C.pending_buf,C.pending,0)),C.gzindex=0,C.status=69):(K(C,0),K(C,0),K(C,0),K(C,0),K(C,0),K(C,C.level===9?2:2<=C.strategy||C.level<2?4:0),K(C,3),C.status=Vt);else{var at=m+(C.w_bits-8<<4)<<8;at|=(2<=C.strategy||C.level<2?0:C.level<6?1:C.level===6?2:3)<<6,C.strstart!==0&&(at|=32),at+=31-at%31,C.status=Vt,ht(C,at),C.strstart!==0&&(ht(C,N.adler>>>16),ht(C,65535&N.adler)),N.adler=1}if(C.status===69)if(C.gzhead.extra){for(A=C.pending;C.gzindex<(65535&C.gzhead.extra.length)&&(C.pending!==C.pending_buf_size||(C.gzhead.hcrc&&C.pending>A&&(N.adler=o(N.adler,C.pending_buf,C.pending-A,A)),et(N),A=C.pending,C.pending!==C.pending_buf_size));)K(C,255&C.gzhead.extra[C.gzindex]),C.gzindex++;C.gzhead.hcrc&&C.pending>A&&(N.adler=o(N.adler,C.pending_buf,C.pending-A,A)),C.gzindex===C.gzhead.extra.length&&(C.gzindex=0,C.status=73)}else C.status=73;if(C.status===73)if(C.gzhead.name){A=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>A&&(N.adler=o(N.adler,C.pending_buf,C.pending-A,A)),et(N),A=C.pending,C.pending===C.pending_buf_size)){q=1;break}q=C.gzindex<C.gzhead.name.length?255&C.gzhead.name.charCodeAt(C.gzindex++):0,K(C,q)}while(q!==0);C.gzhead.hcrc&&C.pending>A&&(N.adler=o(N.adler,C.pending_buf,C.pending-A,A)),q===0&&(C.gzindex=0,C.status=91)}else C.status=91;if(C.status===91)if(C.gzhead.comment){A=C.pending;do{if(C.pending===C.pending_buf_size&&(C.gzhead.hcrc&&C.pending>A&&(N.adler=o(N.adler,C.pending_buf,C.pending-A,A)),et(N),A=C.pending,C.pending===C.pending_buf_size)){q=1;break}q=C.gzindex<C.gzhead.comment.length?255&C.gzhead.comment.charCodeAt(C.gzindex++):0,K(C,q)}while(q!==0);C.gzhead.hcrc&&C.pending>A&&(N.adler=o(N.adler,C.pending_buf,C.pending-A,A)),q===0&&(C.status=103)}else C.status=103;if(C.status===103&&(C.gzhead.hcrc?(C.pending+2>C.pending_buf_size&&et(N),C.pending+2<=C.pending_buf_size&&(K(C,255&N.adler),K(C,N.adler>>8&255),N.adler=0,C.status=Vt)):C.status=Vt),C.pending!==0){if(et(N),N.avail_out===0)return C.last_flush=-1,a}else if(N.avail_in===0&&V(Bt)<=V(U)&&Bt!==t)return At(N,-5);if(C.status===666&&N.avail_in!==0)return At(N,-5);if(N.avail_in!==0||C.lookahead!==0||Bt!==n&&C.status!==666){var Ot=C.strategy===2?function(St,xe){for(var Ne;;){if(St.lookahead===0&&(Wt(St),St.lookahead===0)){if(xe===n)return J;break}if(St.match_length=0,Ne=h._tr_tally(St,0,St.window[St.strstart]),St.lookahead--,St.strstart++,Ne&&(F(St,!1),St.strm.avail_out===0))return J}return St.insert=0,xe===t?(F(St,!0),St.strm.avail_out===0?Qe:W):St.last_lit&&(F(St,!1),St.strm.avail_out===0)?J:be}(C,Bt):C.strategy===3?function(St,xe){for(var Ne,we,Ke,xr,Or=St.window;;){if(St.lookahead<=fe){if(Wt(St),St.lookahead<=fe&&xe===n)return J;if(St.lookahead===0)break}if(St.match_length=0,St.lookahead>=Ut&&0<St.strstart&&(we=Or[Ke=St.strstart-1])===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]){xr=St.strstart+fe;do;while(we===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]&&we===Or[++Ke]&&Ke<xr);St.match_length=fe-(xr-Ke),St.match_length>St.lookahead&&(St.match_length=St.lookahead)}if(St.match_length>=Ut?(Ne=h._tr_tally(St,1,St.match_length-Ut),St.lookahead-=St.match_length,St.strstart+=St.match_length,St.match_length=0):(Ne=h._tr_tally(St,0,St.window[St.strstart]),St.lookahead--,St.strstart++),Ne&&(F(St,!1),St.strm.avail_out===0))return J}return St.insert=0,xe===t?(F(St,!0),St.strm.avail_out===0?Qe:W):St.last_lit&&(F(St,!1),St.strm.avail_out===0)?J:be}(C,Bt):b[C.level].func(C,Bt);if(Ot!==Qe&&Ot!==W||(C.status=666),Ot===J||Ot===Qe)return N.avail_out===0&&(C.last_flush=-1),a;if(Ot===be&&(Bt===1?h._tr_align(C):Bt!==5&&(h._tr_stored_block(C,0,0,!1),Bt===3&&(it(C.head),C.lookahead===0&&(C.strstart=0,C.block_start=0,C.insert=0))),et(N),N.avail_out===0))return C.last_flush=-1,a}return Bt!==t?a:C.wrap<=0?1:(C.wrap===2?(K(C,255&N.adler),K(C,N.adler>>8&255),K(C,N.adler>>16&255),K(C,N.adler>>24&255),K(C,255&N.total_in),K(C,N.total_in>>8&255),K(C,N.total_in>>16&255),K(C,N.total_in>>24&255)):(ht(C,N.adler>>>16),ht(C,65535&N.adler)),et(N),0<C.wrap&&(C.wrap=-C.wrap),C.pending!==0?a:1)},tt.deflateEnd=function(N){var Bt;return N&&N.state?(Bt=N.state.status)!==_t&&Bt!==69&&Bt!==73&&Bt!==91&&Bt!==103&&Bt!==Vt&&Bt!==666?At(N,l):(N.state=null,Bt===Vt?At(N,-3):a):l},tt.deflateSetDictionary=function(N,Bt){var U,C,A,q,at,Ot,St,xe,Ne=Bt.length;if(!N||!N.state||(q=(U=N.state).wrap)===2||q===1&&U.status!==_t||U.lookahead)return l;for(q===1&&(N.adler=u(N.adler,Bt,Ne,0)),U.wrap=0,Ne>=U.w_size&&(q===0&&(it(U.head),U.strstart=0,U.block_start=0,U.insert=0),xe=new s.Buf8(U.w_size),s.arraySet(xe,Bt,Ne-U.w_size,U.w_size,0),Bt=xe,Ne=U.w_size),at=N.avail_in,Ot=N.next_in,St=N.input,N.avail_in=Ne,N.next_in=0,N.input=Bt,Wt(U);U.lookahead>=Ut;){for(C=U.strstart,A=U.lookahead-(Ut-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[C+Ut-1])&U.hash_mask,U.prev[C&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=C,C++,--A;);U.strstart=C,U.lookahead=Ut-1,Wt(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=Ut-1,U.match_available=0,N.next_in=Ot,N.input=St,N.avail_in=at,U.wrap=q,a},tt.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ft,Gt,tt){"use strict";Gt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ft,Gt,tt){"use strict";Gt.exports=function(b,s){var h,u,o,e,n,t,a,l,i,f,p,m,x,M,Y,nt,xt,Dt,Ut,fe,Oe,_t,Vt,J,be;h=b.state,u=b.next_in,J=b.input,o=u+(b.avail_in-5),e=b.next_out,be=b.output,n=e-(s-b.avail_out),t=e+(b.avail_out-257),a=h.dmax,l=h.wsize,i=h.whave,f=h.wnext,p=h.window,m=h.hold,x=h.bits,M=h.lencode,Y=h.distcode,nt=(1<<h.lenbits)-1,xt=(1<<h.distbits)-1;t:do{x<15&&(m+=J[u++]<<x,x+=8,m+=J[u++]<<x,x+=8),Dt=M[m&nt];e:for(;;){if(m>>>=Ut=Dt>>>24,x-=Ut,(Ut=Dt>>>16&255)==0)be[e++]=65535&Dt;else{if(!(16&Ut)){if((64&Ut)==0){Dt=M[(65535&Dt)+(m&(1<<Ut)-1)];continue e}if(32&Ut){h.mode=12;break t}b.msg="invalid literal/length code",h.mode=30;break t}fe=65535&Dt,(Ut&=15)&&(x<Ut&&(m+=J[u++]<<x,x+=8),fe+=m&(1<<Ut)-1,m>>>=Ut,x-=Ut),x<15&&(m+=J[u++]<<x,x+=8,m+=J[u++]<<x,x+=8),Dt=Y[m&xt];r:for(;;){if(m>>>=Ut=Dt>>>24,x-=Ut,!(16&(Ut=Dt>>>16&255))){if((64&Ut)==0){Dt=Y[(65535&Dt)+(m&(1<<Ut)-1)];continue r}b.msg="invalid distance code",h.mode=30;break t}if(Oe=65535&Dt,x<(Ut&=15)&&(m+=J[u++]<<x,(x+=8)<Ut&&(m+=J[u++]<<x,x+=8)),a<(Oe+=m&(1<<Ut)-1)){b.msg="invalid distance too far back",h.mode=30;break t}if(m>>>=Ut,x-=Ut,(Ut=e-n)<Oe){if(i<(Ut=Oe-Ut)&&h.sane){b.msg="invalid distance too far back",h.mode=30;break t}if(Vt=p,(_t=0)===f){if(_t+=l-Ut,Ut<fe){for(fe-=Ut;be[e++]=p[_t++],--Ut;);_t=e-Oe,Vt=be}}else if(f<Ut){if(_t+=l+f-Ut,(Ut-=f)<fe){for(fe-=Ut;be[e++]=p[_t++],--Ut;);if(_t=0,f<fe){for(fe-=Ut=f;be[e++]=p[_t++],--Ut;);_t=e-Oe,Vt=be}}}else if(_t+=f-Ut,Ut<fe){for(fe-=Ut;be[e++]=p[_t++],--Ut;);_t=e-Oe,Vt=be}for(;2<fe;)be[e++]=Vt[_t++],be[e++]=Vt[_t++],be[e++]=Vt[_t++],fe-=3;fe&&(be[e++]=Vt[_t++],1<fe&&(be[e++]=Vt[_t++]))}else{for(_t=e-Oe;be[e++]=be[_t++],be[e++]=be[_t++],be[e++]=be[_t++],2<(fe-=3););fe&&(be[e++]=be[_t++],1<fe&&(be[e++]=be[_t++]))}break}}break}}while(u<o&&e<t);u-=fe=x>>3,m&=(1<<(x-=fe<<3))-1,b.next_in=u,b.next_out=e,b.avail_in=u<o?o-u+5:5-(u-o),b.avail_out=e<t?t-e+257:257-(e-t),h.hold=m,h.bits=x}},{}],49:[function(ft,Gt,tt){"use strict";var b=ft("../utils/common"),s=ft("./adler32"),h=ft("./crc32"),u=ft("./inffast"),o=ft("./inftrees"),e=1,n=2,t=0,a=-2,l=1,i=852,f=592;function p(_t){return(_t>>>24&255)+(_t>>>8&65280)+((65280&_t)<<8)+((255&_t)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(_t){var Vt;return _t&&_t.state?(Vt=_t.state,_t.total_in=_t.total_out=Vt.total=0,_t.msg="",Vt.wrap&&(_t.adler=1&Vt.wrap),Vt.mode=l,Vt.last=0,Vt.havedict=0,Vt.dmax=32768,Vt.head=null,Vt.hold=0,Vt.bits=0,Vt.lencode=Vt.lendyn=new b.Buf32(i),Vt.distcode=Vt.distdyn=new b.Buf32(f),Vt.sane=1,Vt.back=-1,t):a}function M(_t){var Vt;return _t&&_t.state?((Vt=_t.state).wsize=0,Vt.whave=0,Vt.wnext=0,x(_t)):a}function Y(_t,Vt){var J,be;return _t&&_t.state?(be=_t.state,Vt<0?(J=0,Vt=-Vt):(J=1+(Vt>>4),Vt<48&&(Vt&=15)),Vt&&(Vt<8||15<Vt)?a:(be.window!==null&&be.wbits!==Vt&&(be.window=null),be.wrap=J,be.wbits=Vt,M(_t))):a}function nt(_t,Vt){var J,be;return _t?(be=new m,(_t.state=be).window=null,(J=Y(_t,Vt))!==t&&(_t.state=null),J):a}var xt,Dt,Ut=!0;function fe(_t){if(Ut){var Vt;for(xt=new b.Buf32(512),Dt=new b.Buf32(32),Vt=0;Vt<144;)_t.lens[Vt++]=8;for(;Vt<256;)_t.lens[Vt++]=9;for(;Vt<280;)_t.lens[Vt++]=7;for(;Vt<288;)_t.lens[Vt++]=8;for(o(e,_t.lens,0,288,xt,0,_t.work,{bits:9}),Vt=0;Vt<32;)_t.lens[Vt++]=5;o(n,_t.lens,0,32,Dt,0,_t.work,{bits:5}),Ut=!1}_t.lencode=xt,_t.lenbits=9,_t.distcode=Dt,_t.distbits=5}function Oe(_t,Vt,J,be){var Qe,W=_t.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new b.Buf8(W.wsize)),be>=W.wsize?(b.arraySet(W.window,Vt,J-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(be<(Qe=W.wsize-W.wnext)&&(Qe=be),b.arraySet(W.window,Vt,J-be,Qe,W.wnext),(be-=Qe)?(b.arraySet(W.window,Vt,J-be,be,0),W.wnext=be,W.whave=W.wsize):(W.wnext+=Qe,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=Qe))),0}tt.inflateReset=M,tt.inflateReset2=Y,tt.inflateResetKeep=x,tt.inflateInit=function(_t){return nt(_t,15)},tt.inflateInit2=nt,tt.inflate=function(_t,Vt){var J,be,Qe,W,At,V,it,et,F,K,ht,dt,Wt,Tt,jt,ce,ve,re,Yt,de,N,Bt,U,C,A=0,q=new b.Buf8(4),at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_t||!_t.state||!_t.output||!_t.input&&_t.avail_in!==0)return a;(J=_t.state).mode===12&&(J.mode=13),At=_t.next_out,Qe=_t.output,it=_t.avail_out,W=_t.next_in,be=_t.input,V=_t.avail_in,et=J.hold,F=J.bits,K=V,ht=it,Bt=t;t:for(;;)switch(J.mode){case l:if(J.wrap===0){J.mode=13;break}for(;F<16;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(2&J.wrap&&et===35615){q[J.check=0]=255&et,q[1]=et>>>8&255,J.check=h(J.check,q,2,0),F=et=0,J.mode=2;break}if(J.flags=0,J.head&&(J.head.done=!1),!(1&J.wrap)||(((255&et)<<8)+(et>>8))%31){_t.msg="incorrect header check",J.mode=30;break}if((15&et)!=8){_t.msg="unknown compression method",J.mode=30;break}if(F-=4,N=8+(15&(et>>>=4)),J.wbits===0)J.wbits=N;else if(N>J.wbits){_t.msg="invalid window size",J.mode=30;break}J.dmax=1<<N,_t.adler=J.check=1,J.mode=512&et?10:12,F=et=0;break;case 2:for(;F<16;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(J.flags=et,(255&J.flags)!=8){_t.msg="unknown compression method",J.mode=30;break}if(57344&J.flags){_t.msg="unknown header flags set",J.mode=30;break}J.head&&(J.head.text=et>>8&1),512&J.flags&&(q[0]=255&et,q[1]=et>>>8&255,J.check=h(J.check,q,2,0)),F=et=0,J.mode=3;case 3:for(;F<32;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}J.head&&(J.head.time=et),512&J.flags&&(q[0]=255&et,q[1]=et>>>8&255,q[2]=et>>>16&255,q[3]=et>>>24&255,J.check=h(J.check,q,4,0)),F=et=0,J.mode=4;case 4:for(;F<16;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}J.head&&(J.head.xflags=255&et,J.head.os=et>>8),512&J.flags&&(q[0]=255&et,q[1]=et>>>8&255,J.check=h(J.check,q,2,0)),F=et=0,J.mode=5;case 5:if(1024&J.flags){for(;F<16;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}J.length=et,J.head&&(J.head.extra_len=et),512&J.flags&&(q[0]=255&et,q[1]=et>>>8&255,J.check=h(J.check,q,2,0)),F=et=0}else J.head&&(J.head.extra=null);J.mode=6;case 6:if(1024&J.flags&&(V<(dt=J.length)&&(dt=V),dt&&(J.head&&(N=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Array(J.head.extra_len)),b.arraySet(J.head.extra,be,W,dt,N)),512&J.flags&&(J.check=h(J.check,be,dt,W)),V-=dt,W+=dt,J.length-=dt),J.length))break t;J.length=0,J.mode=7;case 7:if(2048&J.flags){if(V===0)break t;for(dt=0;N=be[W+dt++],J.head&&N&&J.length<65536&&(J.head.name+=String.fromCharCode(N)),N&&dt<V;);if(512&J.flags&&(J.check=h(J.check,be,dt,W)),V-=dt,W+=dt,N)break t}else J.head&&(J.head.name=null);J.length=0,J.mode=8;case 8:if(4096&J.flags){if(V===0)break t;for(dt=0;N=be[W+dt++],J.head&&N&&J.length<65536&&(J.head.comment+=String.fromCharCode(N)),N&&dt<V;);if(512&J.flags&&(J.check=h(J.check,be,dt,W)),V-=dt,W+=dt,N)break t}else J.head&&(J.head.comment=null);J.mode=9;case 9:if(512&J.flags){for(;F<16;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(et!==(65535&J.check)){_t.msg="header crc mismatch",J.mode=30;break}F=et=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),_t.adler=J.check=0,J.mode=12;break;case 10:for(;F<32;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}_t.adler=J.check=p(et),F=et=0,J.mode=11;case 11:if(J.havedict===0)return _t.next_out=At,_t.avail_out=it,_t.next_in=W,_t.avail_in=V,J.hold=et,J.bits=F,2;_t.adler=J.check=1,J.mode=12;case 12:if(Vt===5||Vt===6)break t;case 13:if(J.last){et>>>=7&F,F-=7&F,J.mode=27;break}for(;F<3;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}switch(J.last=1&et,F-=1,3&(et>>>=1)){case 0:J.mode=14;break;case 1:if(fe(J),J.mode=20,Vt!==6)break;et>>>=2,F-=2;break t;case 2:J.mode=17;break;case 3:_t.msg="invalid block type",J.mode=30}et>>>=2,F-=2;break;case 14:for(et>>>=7&F,F-=7&F;F<32;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if((65535&et)!=(et>>>16^65535)){_t.msg="invalid stored block lengths",J.mode=30;break}if(J.length=65535&et,F=et=0,J.mode=15,Vt===6)break t;case 15:J.mode=16;case 16:if(dt=J.length){if(V<dt&&(dt=V),it<dt&&(dt=it),dt===0)break t;b.arraySet(Qe,be,W,dt,At),V-=dt,W+=dt,it-=dt,At+=dt,J.length-=dt;break}J.mode=12;break;case 17:for(;F<14;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(J.nlen=257+(31&et),et>>>=5,F-=5,J.ndist=1+(31&et),et>>>=5,F-=5,J.ncode=4+(15&et),et>>>=4,F-=4,286<J.nlen||30<J.ndist){_t.msg="too many length or distance symbols",J.mode=30;break}J.have=0,J.mode=18;case 18:for(;J.have<J.ncode;){for(;F<3;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}J.lens[at[J.have++]]=7&et,et>>>=3,F-=3}for(;J.have<19;)J.lens[at[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,U={bits:J.lenbits},Bt=o(0,J.lens,0,19,J.lencode,0,J.work,U),J.lenbits=U.bits,Bt){_t.msg="invalid code lengths set",J.mode=30;break}J.have=0,J.mode=19;case 19:for(;J.have<J.nlen+J.ndist;){for(;ce=(A=J.lencode[et&(1<<J.lenbits)-1])>>>16&255,ve=65535&A,!((jt=A>>>24)<=F);){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(ve<16)et>>>=jt,F-=jt,J.lens[J.have++]=ve;else{if(ve===16){for(C=jt+2;F<C;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(et>>>=jt,F-=jt,J.have===0){_t.msg="invalid bit length repeat",J.mode=30;break}N=J.lens[J.have-1],dt=3+(3&et),et>>>=2,F-=2}else if(ve===17){for(C=jt+3;F<C;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}F-=jt,N=0,dt=3+(7&(et>>>=jt)),et>>>=3,F-=3}else{for(C=jt+7;F<C;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}F-=jt,N=0,dt=11+(127&(et>>>=jt)),et>>>=7,F-=7}if(J.have+dt>J.nlen+J.ndist){_t.msg="invalid bit length repeat",J.mode=30;break}for(;dt--;)J.lens[J.have++]=N}}if(J.mode===30)break;if(J.lens[256]===0){_t.msg="invalid code -- missing end-of-block",J.mode=30;break}if(J.lenbits=9,U={bits:J.lenbits},Bt=o(e,J.lens,0,J.nlen,J.lencode,0,J.work,U),J.lenbits=U.bits,Bt){_t.msg="invalid literal/lengths set",J.mode=30;break}if(J.distbits=6,J.distcode=J.distdyn,U={bits:J.distbits},Bt=o(n,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,U),J.distbits=U.bits,Bt){_t.msg="invalid distances set",J.mode=30;break}if(J.mode=20,Vt===6)break t;case 20:J.mode=21;case 21:if(6<=V&&258<=it){_t.next_out=At,_t.avail_out=it,_t.next_in=W,_t.avail_in=V,J.hold=et,J.bits=F,u(_t,ht),At=_t.next_out,Qe=_t.output,it=_t.avail_out,W=_t.next_in,be=_t.input,V=_t.avail_in,et=J.hold,F=J.bits,J.mode===12&&(J.back=-1);break}for(J.back=0;ce=(A=J.lencode[et&(1<<J.lenbits)-1])>>>16&255,ve=65535&A,!((jt=A>>>24)<=F);){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(ce&&(240&ce)==0){for(re=jt,Yt=ce,de=ve;ce=(A=J.lencode[de+((et&(1<<re+Yt)-1)>>re)])>>>16&255,ve=65535&A,!(re+(jt=A>>>24)<=F);){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}et>>>=re,F-=re,J.back+=re}if(et>>>=jt,F-=jt,J.back+=jt,J.length=ve,ce===0){J.mode=26;break}if(32&ce){J.back=-1,J.mode=12;break}if(64&ce){_t.msg="invalid literal/length code",J.mode=30;break}J.extra=15&ce,J.mode=22;case 22:if(J.extra){for(C=J.extra;F<C;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}J.length+=et&(1<<J.extra)-1,et>>>=J.extra,F-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=23;case 23:for(;ce=(A=J.distcode[et&(1<<J.distbits)-1])>>>16&255,ve=65535&A,!((jt=A>>>24)<=F);){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if((240&ce)==0){for(re=jt,Yt=ce,de=ve;ce=(A=J.distcode[de+((et&(1<<re+Yt)-1)>>re)])>>>16&255,ve=65535&A,!(re+(jt=A>>>24)<=F);){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}et>>>=re,F-=re,J.back+=re}if(et>>>=jt,F-=jt,J.back+=jt,64&ce){_t.msg="invalid distance code",J.mode=30;break}J.offset=ve,J.extra=15&ce,J.mode=24;case 24:if(J.extra){for(C=J.extra;F<C;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}J.offset+=et&(1<<J.extra)-1,et>>>=J.extra,F-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){_t.msg="invalid distance too far back",J.mode=30;break}J.mode=25;case 25:if(it===0)break t;if(dt=ht-it,J.offset>dt){if((dt=J.offset-dt)>J.whave&&J.sane){_t.msg="invalid distance too far back",J.mode=30;break}Wt=dt>J.wnext?(dt-=J.wnext,J.wsize-dt):J.wnext-dt,dt>J.length&&(dt=J.length),Tt=J.window}else Tt=Qe,Wt=At-J.offset,dt=J.length;for(it<dt&&(dt=it),it-=dt,J.length-=dt;Qe[At++]=Tt[Wt++],--dt;);J.length===0&&(J.mode=21);break;case 26:if(it===0)break t;Qe[At++]=J.length,it--,J.mode=21;break;case 27:if(J.wrap){for(;F<32;){if(V===0)break t;V--,et|=be[W++]<<F,F+=8}if(ht-=it,_t.total_out+=ht,J.total+=ht,ht&&(_t.adler=J.check=J.flags?h(J.check,Qe,ht,At-ht):s(J.check,Qe,ht,At-ht)),ht=it,(J.flags?et:p(et))!==J.check){_t.msg="incorrect data check",J.mode=30;break}F=et=0}J.mode=28;case 28:if(J.wrap&&J.flags){for(;F<32;){if(V===0)break t;V--,et+=be[W++]<<F,F+=8}if(et!==(4294967295&J.total)){_t.msg="incorrect length check",J.mode=30;break}F=et=0}J.mode=29;case 29:Bt=1;break t;case 30:Bt=-3;break t;case 31:return-4;case 32:default:return a}return _t.next_out=At,_t.avail_out=it,_t.next_in=W,_t.avail_in=V,J.hold=et,J.bits=F,(J.wsize||ht!==_t.avail_out&&J.mode<30&&(J.mode<27||Vt!==4))&&Oe(_t,_t.output,_t.next_out,ht-_t.avail_out)?(J.mode=31,-4):(K-=_t.avail_in,ht-=_t.avail_out,_t.total_in+=K,_t.total_out+=ht,J.total+=ht,J.wrap&&ht&&(_t.adler=J.check=J.flags?h(J.check,Qe,ht,_t.next_out-ht):s(J.check,Qe,ht,_t.next_out-ht)),_t.data_type=J.bits+(J.last?64:0)+(J.mode===12?128:0)+(J.mode===20||J.mode===15?256:0),(K==0&&ht===0||Vt===4)&&Bt===t&&(Bt=-5),Bt)},tt.inflateEnd=function(_t){if(!_t||!_t.state)return a;var Vt=_t.state;return Vt.window&&(Vt.window=null),_t.state=null,t},tt.inflateGetHeader=function(_t,Vt){var J;return _t&&_t.state?(2&(J=_t.state).wrap)==0?a:((J.head=Vt).done=!1,t):a},tt.inflateSetDictionary=function(_t,Vt){var J,be=Vt.length;return _t&&_t.state?(J=_t.state).wrap!==0&&J.mode!==11?a:J.mode===11&&s(1,Vt,be,0)!==J.check?-3:Oe(_t,Vt,be,be)?(J.mode=31,-4):(J.havedict=1,t):a},tt.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ft,Gt,tt){"use strict";var b=ft("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Gt.exports=function(e,n,t,a,l,i,f,p){var m,x,M,Y,nt,xt,Dt,Ut,fe,Oe=p.bits,_t=0,Vt=0,J=0,be=0,Qe=0,W=0,At=0,V=0,it=0,et=0,F=null,K=0,ht=new b.Buf16(16),dt=new b.Buf16(16),Wt=null,Tt=0;for(_t=0;_t<=15;_t++)ht[_t]=0;for(Vt=0;Vt<a;Vt++)ht[n[t+Vt]]++;for(Qe=Oe,be=15;1<=be&&ht[be]===0;be--);if(be<Qe&&(Qe=be),be===0)return l[i++]=20971520,l[i++]=20971520,p.bits=1,0;for(J=1;J<be&&ht[J]===0;J++);for(Qe<J&&(Qe=J),_t=V=1;_t<=15;_t++)if(V<<=1,(V-=ht[_t])<0)return-1;if(0<V&&(e===0||be!==1))return-1;for(dt[1]=0,_t=1;_t<15;_t++)dt[_t+1]=dt[_t]+ht[_t];for(Vt=0;Vt<a;Vt++)n[t+Vt]!==0&&(f[dt[n[t+Vt]]++]=Vt);if(xt=e===0?(F=Wt=f,19):e===1?(F=s,K-=257,Wt=h,Tt-=257,256):(F=u,Wt=o,-1),_t=J,nt=i,At=Vt=et=0,M=-1,Y=(it=1<<(W=Qe))-1,e===1&&852<it||e===2&&592<it)return 1;for(;;){for(Dt=_t-At,fe=f[Vt]<xt?(Ut=0,f[Vt]):f[Vt]>xt?(Ut=Wt[Tt+f[Vt]],F[K+f[Vt]]):(Ut=96,0),m=1<<_t-At,J=x=1<<W;l[nt+(et>>At)+(x-=m)]=Dt<<24|Ut<<16|fe|0,x!==0;);for(m=1<<_t-1;et&m;)m>>=1;if(m!==0?(et&=m-1,et+=m):et=0,Vt++,--ht[_t]==0){if(_t===be)break;_t=n[t+f[Vt]]}if(Qe<_t&&(et&Y)!==M){for(At===0&&(At=Qe),nt+=J,V=1<<(W=_t-At);W+At<be&&!((V-=ht[W+At])<=0);)W++,V<<=1;if(it+=1<<W,e===1&&852<it||e===2&&592<it)return 1;l[M=et&Y]=Qe<<24|W<<16|nt-i|0}}return et!==0&&(l[nt+et]=_t-At<<24|64<<16|0),p.bits=Qe,0}},{"../utils/common":41}],51:[function(ft,Gt,tt){"use strict";Gt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ft,Gt,tt){"use strict";var b=ft("../utils/common"),s=0,h=1;function u(A){for(var q=A.length;0<=--q;)A[q]=0}var o=0,e=29,n=256,t=n+1+e,a=30,l=19,i=2*t+1,f=15,p=16,m=7,x=256,M=16,Y=17,nt=18,xt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Dt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Oe=new Array(2*(t+2));u(Oe);var _t=new Array(2*a);u(_t);var Vt=new Array(512);u(Vt);var J=new Array(256);u(J);var be=new Array(e);u(be);var Qe,W,At,V=new Array(a);function it(A,q,at,Ot,St){this.static_tree=A,this.extra_bits=q,this.extra_base=at,this.elems=Ot,this.max_length=St,this.has_stree=A&&A.length}function et(A,q){this.dyn_tree=A,this.max_code=0,this.stat_desc=q}function F(A){return A<256?Vt[A]:Vt[256+(A>>>7)]}function K(A,q){A.pending_buf[A.pending++]=255&q,A.pending_buf[A.pending++]=q>>>8&255}function ht(A,q,at){A.bi_valid>p-at?(A.bi_buf|=q<<A.bi_valid&65535,K(A,A.bi_buf),A.bi_buf=q>>p-A.bi_valid,A.bi_valid+=at-p):(A.bi_buf|=q<<A.bi_valid&65535,A.bi_valid+=at)}function dt(A,q,at){ht(A,at[2*q],at[2*q+1])}function Wt(A,q){for(var at=0;at|=1&A,A>>>=1,at<<=1,0<--q;);return at>>>1}function Tt(A,q,at){var Ot,St,xe=new Array(f+1),Ne=0;for(Ot=1;Ot<=f;Ot++)xe[Ot]=Ne=Ne+at[Ot-1]<<1;for(St=0;St<=q;St++){var we=A[2*St+1];we!==0&&(A[2*St]=Wt(xe[we]++,we))}}function jt(A){var q;for(q=0;q<t;q++)A.dyn_ltree[2*q]=0;for(q=0;q<a;q++)A.dyn_dtree[2*q]=0;for(q=0;q<l;q++)A.bl_tree[2*q]=0;A.dyn_ltree[2*x]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function ce(A){8<A.bi_valid?K(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function ve(A,q,at,Ot){var St=2*q,xe=2*at;return A[St]<A[xe]||A[St]===A[xe]&&Ot[q]<=Ot[at]}function re(A,q,at){for(var Ot=A.heap[at],St=at<<1;St<=A.heap_len&&(St<A.heap_len&&ve(q,A.heap[St+1],A.heap[St],A.depth)&&St++,!ve(q,Ot,A.heap[St],A.depth));)A.heap[at]=A.heap[St],at=St,St<<=1;A.heap[at]=Ot}function Yt(A,q,at){var Ot,St,xe,Ne,we=0;if(A.last_lit!==0)for(;Ot=A.pending_buf[A.d_buf+2*we]<<8|A.pending_buf[A.d_buf+2*we+1],St=A.pending_buf[A.l_buf+we],we++,Ot===0?dt(A,St,q):(dt(A,(xe=J[St])+n+1,q),(Ne=xt[xe])!==0&&ht(A,St-=be[xe],Ne),dt(A,xe=F(--Ot),at),(Ne=Dt[xe])!==0&&ht(A,Ot-=V[xe],Ne)),we<A.last_lit;);dt(A,x,q)}function de(A,q){var at,Ot,St,xe=q.dyn_tree,Ne=q.stat_desc.static_tree,we=q.stat_desc.has_stree,Ke=q.stat_desc.elems,xr=-1;for(A.heap_len=0,A.heap_max=i,at=0;at<Ke;at++)xe[2*at]!==0?(A.heap[++A.heap_len]=xr=at,A.depth[at]=0):xe[2*at+1]=0;for(;A.heap_len<2;)xe[2*(St=A.heap[++A.heap_len]=xr<2?++xr:0)]=1,A.depth[St]=0,A.opt_len--,we&&(A.static_len-=Ne[2*St+1]);for(q.max_code=xr,at=A.heap_len>>1;1<=at;at--)re(A,xe,at);for(St=Ke;at=A.heap[1],A.heap[1]=A.heap[A.heap_len--],re(A,xe,1),Ot=A.heap[1],A.heap[--A.heap_max]=at,A.heap[--A.heap_max]=Ot,xe[2*St]=xe[2*at]+xe[2*Ot],A.depth[St]=(A.depth[at]>=A.depth[Ot]?A.depth[at]:A.depth[Ot])+1,xe[2*at+1]=xe[2*Ot+1]=St,A.heap[1]=St++,re(A,xe,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(Or,Jr){var fn,En,ri,Yr,zn,pi,Jn=Jr.dyn_tree,ki=Jr.max_code,ni=Jr.stat_desc.static_tree,Ia=Jr.stat_desc.has_stree,Mr=Jr.stat_desc.extra_bits,Ki=Jr.stat_desc.extra_base,va=Jr.stat_desc.max_length,ya=0;for(Yr=0;Yr<=f;Yr++)Or.bl_count[Yr]=0;for(Jn[2*Or.heap[Or.heap_max]+1]=0,fn=Or.heap_max+1;fn<i;fn++)va<(Yr=Jn[2*Jn[2*(En=Or.heap[fn])+1]+1]+1)&&(Yr=va,ya++),Jn[2*En+1]=Yr,ki<En||(Or.bl_count[Yr]++,zn=0,Ki<=En&&(zn=Mr[En-Ki]),pi=Jn[2*En],Or.opt_len+=pi*(Yr+zn),Ia&&(Or.static_len+=pi*(ni[2*En+1]+zn)));if(ya!==0){do{for(Yr=va-1;Or.bl_count[Yr]===0;)Yr--;Or.bl_count[Yr]--,Or.bl_count[Yr+1]+=2,Or.bl_count[va]--,ya-=2}while(0<ya);for(Yr=va;Yr!==0;Yr--)for(En=Or.bl_count[Yr];En!==0;)ki<(ri=Or.heap[--fn])||(Jn[2*ri+1]!==Yr&&(Or.opt_len+=(Yr-Jn[2*ri+1])*Jn[2*ri],Jn[2*ri+1]=Yr),En--)}}(A,q),Tt(xe,xr,A.bl_count)}function N(A,q,at){var Ot,St,xe=-1,Ne=q[1],we=0,Ke=7,xr=4;for(Ne===0&&(Ke=138,xr=3),q[2*(at+1)+1]=65535,Ot=0;Ot<=at;Ot++)St=Ne,Ne=q[2*(Ot+1)+1],++we<Ke&&St===Ne||(we<xr?A.bl_tree[2*St]+=we:St!==0?(St!==xe&&A.bl_tree[2*St]++,A.bl_tree[2*M]++):we<=10?A.bl_tree[2*Y]++:A.bl_tree[2*nt]++,xe=St,xr=(we=0)===Ne?(Ke=138,3):St===Ne?(Ke=6,3):(Ke=7,4))}function Bt(A,q,at){var Ot,St,xe=-1,Ne=q[1],we=0,Ke=7,xr=4;for(Ne===0&&(Ke=138,xr=3),Ot=0;Ot<=at;Ot++)if(St=Ne,Ne=q[2*(Ot+1)+1],!(++we<Ke&&St===Ne)){if(we<xr)for(;dt(A,St,A.bl_tree),--we!=0;);else St!==0?(St!==xe&&(dt(A,St,A.bl_tree),we--),dt(A,M,A.bl_tree),ht(A,we-3,2)):we<=10?(dt(A,Y,A.bl_tree),ht(A,we-3,3)):(dt(A,nt,A.bl_tree),ht(A,we-11,7));xe=St,xr=(we=0)===Ne?(Ke=138,3):St===Ne?(Ke=6,3):(Ke=7,4)}}u(V);var U=!1;function C(A,q,at,Ot){ht(A,(o<<1)+(Ot?1:0),3),function(St,xe,Ne,we){ce(St),we&&(K(St,Ne),K(St,~Ne)),b.arraySet(St.pending_buf,St.window,xe,Ne,St.pending),St.pending+=Ne}(A,q,at,!0)}tt._tr_init=function(A){U||(function(){var q,at,Ot,St,xe,Ne=new Array(f+1);for(St=Ot=0;St<e-1;St++)for(be[St]=Ot,q=0;q<1<<xt[St];q++)J[Ot++]=St;for(J[Ot-1]=St,St=xe=0;St<16;St++)for(V[St]=xe,q=0;q<1<<Dt[St];q++)Vt[xe++]=St;for(xe>>=7;St<a;St++)for(V[St]=xe<<7,q=0;q<1<<Dt[St]-7;q++)Vt[256+xe++]=St;for(at=0;at<=f;at++)Ne[at]=0;for(q=0;q<=143;)Oe[2*q+1]=8,q++,Ne[8]++;for(;q<=255;)Oe[2*q+1]=9,q++,Ne[9]++;for(;q<=279;)Oe[2*q+1]=7,q++,Ne[7]++;for(;q<=287;)Oe[2*q+1]=8,q++,Ne[8]++;for(Tt(Oe,t+1,Ne),q=0;q<a;q++)_t[2*q+1]=5,_t[2*q]=Wt(q,5);Qe=new it(Oe,xt,n+1,t,f),W=new it(_t,Dt,0,a,f),At=new it(new Array(0),Ut,0,l,m)}(),U=!0),A.l_desc=new et(A.dyn_ltree,Qe),A.d_desc=new et(A.dyn_dtree,W),A.bl_desc=new et(A.bl_tree,At),A.bi_buf=0,A.bi_valid=0,jt(A)},tt._tr_stored_block=C,tt._tr_flush_block=function(A,q,at,Ot){var St,xe,Ne=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(we){var Ke,xr=4093624447;for(Ke=0;Ke<=31;Ke++,xr>>>=1)if(1&xr&&we.dyn_ltree[2*Ke]!==0)return s;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return h;for(Ke=32;Ke<n;Ke++)if(we.dyn_ltree[2*Ke]!==0)return h;return s}(A)),de(A,A.l_desc),de(A,A.d_desc),Ne=function(we){var Ke;for(N(we,we.dyn_ltree,we.l_desc.max_code),N(we,we.dyn_dtree,we.d_desc.max_code),de(we,we.bl_desc),Ke=l-1;3<=Ke&&we.bl_tree[2*fe[Ke]+1]===0;Ke--);return we.opt_len+=3*(Ke+1)+5+5+4,Ke}(A),St=A.opt_len+3+7>>>3,(xe=A.static_len+3+7>>>3)<=St&&(St=xe)):St=xe=at+5,at+4<=St&&q!==-1?C(A,q,at,Ot):A.strategy===4||xe===St?(ht(A,2+(Ot?1:0),3),Yt(A,Oe,_t)):(ht(A,4+(Ot?1:0),3),function(we,Ke,xr,Or){var Jr;for(ht(we,Ke-257,5),ht(we,xr-1,5),ht(we,Or-4,4),Jr=0;Jr<Or;Jr++)ht(we,we.bl_tree[2*fe[Jr]+1],3);Bt(we,we.dyn_ltree,Ke-1),Bt(we,we.dyn_dtree,xr-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,Ne+1),Yt(A,A.dyn_ltree,A.dyn_dtree)),jt(A),Ot&&ce(A)},tt._tr_tally=function(A,q,at){return A.pending_buf[A.d_buf+2*A.last_lit]=q>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&q,A.pending_buf[A.l_buf+A.last_lit]=255&at,A.last_lit++,q===0?A.dyn_ltree[2*at]++:(A.matches++,q--,A.dyn_ltree[2*(J[at]+n+1)]++,A.dyn_dtree[2*F(q)]++),A.last_lit===A.lit_bufsize-1},tt._tr_align=function(A){ht(A,2,3),dt(A,x,Oe),function(q){q.bi_valid===16?(K(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(ft,Gt,tt){"use strict";Gt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ft,Gt,tt){(function(b){(function(s,h){"use strict";if(!s.setImmediate){var u,o,e,n,t=1,a={},l=!1,i=s.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(s);f=f&&f.setTimeout?f:s,u={}.toString.call(s.process)==="[object process]"?function(M){me.nextTick(function(){m(M)})}:function(){if(s.postMessage&&!s.importScripts){var M=!0,Y=s.onmessage;return s.onmessage=function(){M=!1},s.postMessage("","*"),s.onmessage=Y,M}}()?(n="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(M){s.postMessage(n+M,"*")}):s.MessageChannel?((e=new MessageChannel).port1.onmessage=function(M){m(M.data)},function(M){e.port2.postMessage(M)}):i&&"onreadystatechange"in i.createElement("script")?(o=i.documentElement,function(M){var Y=i.createElement("script");Y.onreadystatechange=function(){m(M),Y.onreadystatechange=null,o.removeChild(Y),Y=null},o.appendChild(Y)}):function(M){setTimeout(m,0,M)},f.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var Y=new Array(arguments.length-1),nt=0;nt<Y.length;nt++)Y[nt]=arguments[nt+1];var xt={callback:M,args:Y};return a[t]=xt,u(t),t++},f.clearImmediate=p}function p(M){delete a[M]}function m(M){if(l)setTimeout(m,0,M);else{var Y=a[M];if(Y){l=!0;try{(function(nt){var xt=nt.callback,Dt=nt.args;switch(Dt.length){case 0:xt();break;case 1:xt(Dt[0]);break;case 2:xt(Dt[0],Dt[1]);break;case 3:xt(Dt[0],Dt[1],Dt[2]);break;default:xt.apply(h,Dt)}})(Y)}finally{p(M),l=!1}}}}function x(M){M.source===s&&typeof M.data=="string"&&M.data.indexOf(n)===0&&m(+M.data.slice(n.length))}})(typeof self=="undefined"?b===void 0?this:b:self)}).call(this,typeof O!="undefined"?O:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this,De("HDXh").Buffer,De("IyRk"),De("Q2Ig"))},"yj/a":function(un,_r,De){"use strict";var Xe=De("VTBJ"),O=De("Ff2n"),me=De("nKUr"),pt=De.n(me),ft=De("uX+g"),Gt=De("q1tI"),tt=De.n(Gt),b=De("lS/g"),s=De("adzw"),h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],o=tt.a.forwardRef(function(l,i){var f=l.fieldProps,p=l.children,m=l.params,x=l.proFieldProps,M=l.mode,Y=l.valueEnum,nt=l.request,xt=l.showSearch,Dt=l.options,Ut=Object(O.a)(l,h),fe=Object(Gt.useContext)(b.b);return Object(me.jsx)(s.a,Object(Xe.a)(Object(Xe.a)({mode:"edit",valueEnum:Object(ft.a)(Y),request:nt,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(Xe.a)({options:Dt,mode:M,showSearch:xt,getPopupContainer:fe.getPopupContainer},f),ref:i,proFieldProps:x},Ut),{},{children:p}))}),e=tt.a.forwardRef(function(l,i){var f=l.fieldProps,p=l.children,m=l.params,x=l.proFieldProps,M=l.mode,Y=l.valueEnum,nt=l.request,xt=l.options,Dt=Object(O.a)(l,u),Ut=Object(Xe.a)({options:xt,mode:M||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},f),fe=Object(Gt.useContext)(b.b);return Object(me.jsx)(s.a,Object(Xe.a)(Object(Xe.a)({mode:"edit",valueEnum:Object(ft.a)(Y),request:nt,params:m,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(Xe.a)({getPopupContainer:fe.getPopupContainer},Ut),ref:i,proFieldProps:x},Dt),{},{children:p}))}),n=o,t=e,a=n;a.SearchSelect=t,a.displayName="ProFormComponent",_r.a=a}}]);
