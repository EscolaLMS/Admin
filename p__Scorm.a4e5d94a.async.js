(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"5tKr":function(B,i,e){"use strict";e.d(i,"b",function(){return E}),e.d(i,"a",function(){return h});var l=e("k1fw"),m=e("9og8"),M=e("WmNS"),o=e.n(M),u=e("9kvl");function E(t,n){return d.apply(this,arguments)}function d(){return d=Object(m.a)(o.a.mark(function t(n,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(u.f)("/api/admin/scorm",Object(l.a)({params:Object(l.a)(Object(l.a)({},n),{},{per_page:n.pageSize,page:n.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},t)})),d.apply(this,arguments)}function P(t,n){return s.apply(this,arguments)}function s(){return s=Object(m.a)(o.a.mark(function t(n,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(u.f)("/api/admin/scorm/scos",Object(l.a)({params:Object(l.a)(Object(l.a)({},n),{},{per_page:n.pageSize,page:n.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},t)})),s.apply(this,arguments)}function h(t,n){return c.apply(this,arguments)}function c(){return c=Object(m.a)(o.a.mark(function t(n,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(u.f)("/api/admin/scorm/".concat(n),Object(l.a)({method:"DELETE"},a||{})));case 1:case"end":return _.stop()}},t)})),c.apply(this,arguments)}},"DBJ/":function(B,i,e){"use strict";var l=e("k1fw"),m=e("y8nQ"),M=e("Vl3Y"),o=e("etVw"),u=e("q1tI"),E=e.n(u),d=e("9kvl"),P=e("qFDU"),s=e("nKUr"),h=e.n(s),c=function(n){var a=n.onChange,I=n.url,_=n.name,K=n.extra,C=n.accept,p=n.data,A=n.wrapInForm,b=A===void 0?!0:A,r=n.title,W=n.formProps,f=Object(d.i)();return p&&p[_]&&delete p[_],Object(s.jsx)(P.a,{condition:b,wrap:function(T){return Object(s.jsx)(M.a,Object(l.a)(Object(l.a)({},W),{},{children:T}))},children:Object(s.jsx)(o.a,{title:r||Object(s.jsx)(d.a,{id:"upload_click_here"}),placeholder:f.formatMessage({id:"upload_click_here"}),onChange:a,label:Object(s.jsx)(d.a,{id:"upload"}),max:2,fieldProps:{data:p,accept:C,name:_,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(I),extra:K})})};i.a=c},"RY+t":function(B,i,e){"use strict";var l=e("DBJ/"),m=e("q1tI"),M=e.n(m),o=e("nKUr"),u=e.n(o),E=function(P){var s=P.onSuccess,h=P.onError;return Object(o.jsx)(l.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(t){if(t.file.response){var n=t.file.response.response;n.success?s(n.data.model):h(n)}}})};i.a=E},etVw:function(B,i,e){"use strict";var l=e("DZo9"),m=e("8z0m"),M=e("+L6B"),o=e("2/Rp"),u=e("wx14"),E=e("q1tI"),d=e.n(E),P=e("z7Xi"),s=e("WFLz"),h=function(t,n){var a=t.fieldProps,I=t.name,_=t.action,K=t.accept,C=t.listType,p=t.title,A=p===void 0?"\u5355\u51FB\u4E0A\u4F20":p,b=t.max,r=t.icon,W=r===void 0?d.a.createElement(P.a,null):r,f=t.value,S=t.buttonProps,T=t.onChange,D=t.disabled,U=t.proFieldProps,g=t.fileList,O=(b===void 0||!f||(f==null?void 0:f.length)<b)&&(U==null?void 0:U.mode)!=="read",L=(C!=null?C:a==null?void 0:a.listType)==="picture-card";return d.a.createElement(m.a,Object(u.a)({action:_,accept:K,ref:n,name:I||"file",listType:C||"picture",fileList:g!=null?g:f},a,{onChange:function(v){var j;T==null||T(v),a==null||(j=a.onChange)===null||j===void 0||j.call(a,v)}}),O&&(L?d.a.createElement("span",null,W," ",A):d.a.createElement(o.a,Object(u.a)({disabled:D||(a==null?void 0:a.disabled)},S),W,A)))};i.a=Object(s.a)(d.a.forwardRef(h),{getValueFromEvent:function(t){return t.fileList}})},qFDU:function(B,i,e){"use strict";var l=e("q1tI"),m=e.n(l);i.a=function(M){var o=M.condition,u=M.children,E=M.wrap;return o?m.a.cloneElement(E(u)):u}},"w76+":function(B,i,e){"use strict";e.r(i);var l=e("P2fV"),m=e("NJEC"),M=e("5Dmo"),o=e("3S7+"),u=e("+L6B"),E=e("2/Rp"),d=e("miYZ"),P=e("tsqr"),s=e("9og8"),h=e("WmNS"),c=e.n(h),t=e("q1tI"),n=e.n(t),a=e("9kvl"),I=e("55Ip"),_=e("tMyG"),K=e("Qiat"),C=e("Dx9A"),p=e("/MfK"),A=e("5tKr"),b=e("RY+t"),r=e("nKUr"),W=e.n(r),f=function(){var T=Object(s.a)(c.a.mark(function D(U){return c.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Object(A.a)(U);case 2:return O.abrupt("return",!0);case 3:case"end":return O.stop()}},D)}));return function(U){return T.apply(this,arguments)}}(),S=function(){var D=Object(t.useRef)(),U=Object(a.i)(),g=[{title:Object(r.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(r.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(r.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(r.jsx)(b.a,{onSuccess:function(){D.current&&D.current.reload(),P.default.success(Object(r.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(R){return P.default.error(R)}})]}},{title:Object(r.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(L,R){return[R.scos.map(function(v){return Object(r.jsx)(I.a,{to:"/scorms/preview/".concat(v.uuid),children:Object(r.jsx)(o.a,{title:Object(r.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(r.jsx)(E.a,{size:"small",icon:Object(r.jsx)(C.a,{}),type:"primary",children:v.title})})},v.uuid)})]}},{hideInSearch:!0,title:Object(r.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(L,R){return[Object(r.jsx)(m.a,{title:Object(r.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(s.a)(c.a.mark(function v(){var j;return c.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,f(R.id);case 2:j=x.sent,j&&D.current&&D.current.reload();case 4:case"end":return x.stop()}},v)})),okText:Object(r.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(r.jsx)(o.a,{title:Object(r.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(E.a,{type:"primary",icon:Object(r.jsx)(p.a,{}),danger:!0})})},"delete")]}}];return Object(r.jsx)(_.a,{children:Object(r.jsx)(K.a,{headerTitle:U.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:D,rowKey:"id",search:{labelWidth:120},request:function(L){var R=L.pageSize,v=L.current;return Object(A.b)({pageSize:R,current:v}).then(function(j){return j.success?{data:j.data.data,total:j.data.total,success:!0}:[]})},columns:g})})};i.default=S}}]);
