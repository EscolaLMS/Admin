(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"4f6N":function(K,f,e){"use strict";var l=e("2qtc"),E=e("kLXV"),n=e("9kvl"),u=e("nKUr"),h=e.n(u),P=function(i){var m=i.visible,b=i.setManage;return Object(u.jsx)(E.a,{width:"600px",title:Object(u.jsx)(n.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:m,onOk:function(){return b({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return b({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(u.jsx)("p",{children:Object(u.jsx)(n.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};f.a=P},BiO0:function(K,f,e){"use strict";var l=e("VTBJ"),E=e("Ff2n"),n=e("nKUr"),u=e.n(n),h=e("q1tI"),P=e.n(h),x=e("adzw"),i=["fieldProps","proFieldProps"],m=function(d,M){var v=d.fieldProps,t=d.proFieldProps,C=Object(E.a)(d,i);return Object(n.jsx)(x.a,Object(l.a)({ref:M,valueType:"textarea",fieldProps:v,proFieldProps:t},C))};f.a=P.a.forwardRef(m)},CiXh:function(K,f,e){"use strict";var l=e("2qtc"),E=e("kLXV"),n=e("9kvl"),u=e("nKUr"),h=e.n(u),P=function(i){var m=i.open,b=i.onOk,d=i.onCancel,M=i.title,v=i.content,t=i.okText,C=i.loading;return Object(u.jsx)(E.a,{width:"600px",title:M!=null?M:Object(u.jsx)(n.a,{id:"confirmModal.title"}),open:m,onOk:b,onCancel:d,okText:t!=null?t:Object(u.jsx)(n.a,{id:"save"}),cancelText:Object(u.jsx)(n.a,{id:"cancel"}),confirmLoading:C,children:v!=null?v:Object(u.jsx)("p",{children:Object(u.jsx)(n.a,{id:"confirmModal.content"})})})};f.a=P},FJDo:function(K,f,e){"use strict";var l=e("VTBJ"),E=e("Ff2n"),n=e("nKUr"),u=e.n(n),h=e("q1tI"),P=e.n(h),x=e("adzw"),i=["fieldProps","min","proFieldProps","max"],m=function(d,M){var v=d.fieldProps,t=d.min,C=d.proFieldProps,U=d.max,r=Object(E.a)(d,i);return Object(n.jsx)(x.a,Object(l.a)({valueType:"digit",fieldProps:Object(l.a)({min:t,max:U},v),ref:M,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:C},r))};f.a=P.a.forwardRef(m)},eFHa:function(K,f,e){"use strict";e.d(f,"a",function(){return x});var l=e("k1fw"),E=e("tJVT"),n=e("q1tI"),u=e("/Tr7"),h=e("jIYg");function P(i){return Object(h.a)(1,arguments),Object(u.a)(i).getTime()<Date.now()}function x(){var i=Object(n.useState)({showModal:!1,disableEdit:!1,clicked:!1}),m=Object(E.a)(i,2),b=m[0],d=m[1],M=function(t){(t==null?void 0:t.status)==="published"&&t!==null&&t!==void 0&&t.active_from&&P(new Date(t==null?void 0:t.active_from))&&!b.clicked?d(Object(l.a)(Object(l.a)({},b),{},{showModal:!1,disableEdit:!0,clicked:!1})):d(Object(l.a)(Object(l.a)({},b),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:b,setManageCourseEdit:d,validateCourseEdit:M}}},q34N:function(K,f,e){"use strict";var l=e("tJVT"),E=e("0eZe"),n=e("q1tI"),u=e.n(n),h=e("nKUr"),P=e.n(h),x=function(m){var b=m.productable,d=m.type,M=d===void 0?"card":d,v=Object(n.useState)("attributes"),t=Object(l.a)(v,2),C=t[0],U=t[1];return Object(h.jsx)(E.a,{productable:b,tab:C,onTabChange:function(L){return U(L)},type:M})};f.a=x},tixb:function(K,f,e){"use strict";e.r(f);var l=e("14J3"),E=e("BMrR"),n=e("jCWc"),u=e("kPKH"),h=e("fOrg"),P=e("+KLJ"),x=e("+L6B"),i=e("2/Rp"),m=e("T2oS"),b=e("W9HT"),d=e("miYZ"),M=e("tsqr"),v=e("qLMh"),t=e("k1fw"),C=e("9og8"),U=e("tJVT"),r=e("q1tI"),L=e.n(r),p=e("VMEa"),V=e("Qurx"),$=e("yj/a"),N=e("VTBJ"),z=e("Ff2n"),a=e("nKUr"),X=e("lS/g"),H=e("adzw"),w=["fieldProps","proFieldProps"],J="dateTime",Y=L.a.forwardRef(function(I,g){var Z=I.fieldProps,j=I.proFieldProps,Q=Object(z.a)(I,w),R=Object(r.useContext)(X.b);return Object(a.jsx)(H.a,Object(N.a)({ref:g,fieldProps:Object(N.a)({getPopupContainer:R.getPopupContainer},Z),valueType:J,proFieldProps:j,filedConfig:{valueType:J,customLightMode:!0}},Q))}),oe=Y,ce=e("BiO0"),_=e("nhC9"),ie=e("hd5d"),ue=e("tMyG"),s=e("9kvl"),je=e("Ty5D"),ee=e("EmS3"),Oe=e("0WSk"),ne=e("Gn8c"),ae=e("c+yx"),me=e("rnuo"),be=e("eFHa"),ve=e("4f6N"),fe=e("q34N"),Ee=e("5RzD"),Pe=e("CiXh"),D;(function(I){I.ATTRIBUTES="attributes",I.PRODUCT="product",I.MEDIA="media",I.TAGS="tags",I.BRANDING="branding",I.USER_SUBMISSION="user_submission"})(D||(D={}));var pe=function(){var g=Object(s.l)(),Z=Object(je.l)(),j=Z.webinar,Q=Z.tab,R=Q===void 0?D.ATTRIBUTES:Q,W=j==="new",Me=Object(r.useState)(),de=Object(U.a)(Me,2),o=de[0],k=de[1],te=Object(be.a)(),c=te.manageCourseEdit,B=te.setManageCourseEdit,le=te.validateCourseEdit,ge=p.a.useForm(),he=Object(U.a)(ge,1),se=he[0],xe=Object(r.useCallback)(Object(C.a)(Object(v.a)().mark(function T(){var O,A;return Object(v.a)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Object(ee.d)(Number(j));case 2:O=F.sent,O.success&&(R===D.ATTRIBUTES&&le(O.data),k(Object(t.a)(Object(t.a)({},O.data),{},{tags:(A=O.data.tags)===null||A===void 0?void 0:A.map(ae.l)})));case 4:case"end":return F.stop()}},T)})),[j]);Object(r.useEffect)(function(){if(W){k({name:"new"});return}xe()},[j]);var q=Object(r.useMemo)(function(){return{onValuesChange:function(){B(Object(t.a)(Object(t.a)({},c),{},{valuesChanged:!0}))},onFinish:function(){var T=Object(C.a)(Object(v.a)().mark(function A(G){var F,y;return Object(v.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!c.disableEdit){S.next=3;break}return B({showModal:!0,disableEdit:!0,clicked:!1}),S.abrupt("return");case 3:if(F=Object(t.a)(Object(t.a)({},G),{},{active_from:new Date(String(G.active_from))||(o==null?void 0:o.active_from)||null,active_to:new Date(String(G.active_to))||(o==null?void 0:o.active_to)||null,image_url:o==null?void 0:o.image_url,image_path:(o==null?void 0:o.image_url)&&Object(ae.k)(o.image_url),logotype_url:o==null?void 0:o.logotype_url,logotype_path:(o==null?void 0:o.logotype_path)&&Object(ae.k)(o.logotype_path),trainers:G.trainers&&G.trainers.map(function(re){return typeof re=="object"?re.id:re})}),!W){S.next=11;break}return S.next=7,Object(ee.a)(F);case 7:y=S.sent,y.success&&s.f.push("/courses/webinars/".concat(y.data.id)),S.next=15;break;case 11:return S.next=13,Object(ee.e)(Number(j),F);case 13:y=S.sent,y.success&&(le(y.data),s.f.push("/courses/webinars/".concat(y.data.id,"/").concat(R)));case 15:M.b.success(y.message),B(Object(t.a)(Object(t.a)({},c),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return S.stop()}},A)}));function O(A){return T.apply(this,arguments)}return O}(),initialValues:o,form:se}},[o,j,R,c,se]);return o?Object(a.jsxs)(ue.a,{title:W?Object(a.jsx)(s.a,{id:"menu.Webinars"}):Object(a.jsx)(s.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:g.formatMessage({id:"menu.Webinars"})},{path:String(j),breadcrumbName:g.formatMessage({id:"form"})},{path:"/",breadcrumbName:g.formatMessage({id:String(o.name)})},{path:String(R),breadcrumbName:g.formatMessage({id:String(R)})}]}},children:[Object(a.jsxs)(_.a,{tabs:{type:"card",activeKey:R,onChange:function(O){O!==D.ATTRIBUTES&&c.valuesChanged?B(Object(t.a)(Object(t.a)({},c),{},{showConfirmModal:!0})):s.f.push("/courses/webinars/".concat(j,"/").concat(O))}},children:[Object(a.jsxs)(_.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"attributes"}),children:[c.disableEdit&&Object(a.jsx)(P.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(s.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(i.a,{onClick:function(){return B({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(s.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(ve.a,{visible:c.showModal,setManage:B}),Object(a.jsxs)(p.a,Object(t.a)(Object(t.a)({},q),{},{children:[Object(a.jsxs)(p.a.Group,{children:[Object(a.jsx)(V.a,{width:"md",name:"name",label:Object(a.jsx)(s.a,{id:"name"}),tooltip:Object(a.jsx)(s.a,{id:"name"}),placeholder:g.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:c.disableEdit}),Object(a.jsx)(V.a,{width:"sm",name:"duration",label:Object(a.jsx)(s.a,{id:"duration_freemode"}),tooltip:Object(a.jsx)(s.a,{id:"duration_freemode_description"}),placeholder:g.formatMessage({id:"duration_freemode",defaultMessage:"duration_freemode"}),disabled:c.disableEdit}),Object(a.jsx)($.a,{name:"status",width:"sm",label:Object(a.jsx)(s.a,{id:"status"}),valueEnum:{draft:g.formatMessage({id:"draft",defaultMessage:"draft"}),published:g.formatMessage({id:"published",defaultMessage:"published"}),archived:g.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:g.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:g.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"select"})}],disabled:c.disableEdit})]}),Object(a.jsxs)(p.a.Group,{children:[Object(a.jsx)(oe,{width:"sm",name:"active_from",label:Object(a.jsx)(s.a,{id:"active_from"}),tooltip:Object(a.jsx)(s.a,{id:"active_from"}),placeholder:g.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:c.disableEdit}),Object(a.jsx)(oe,{width:"sm",name:"active_to",label:Object(a.jsx)(s.a,{id:"active_to"}),tooltip:Object(a.jsx)(s.a,{id:"active_to"}),placeholder:g.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:c.disableEdit}),Object(a.jsx)(p.a.Item,{name:"trainers",label:Object(a.jsx)(s.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(Oe.a,{multiple:!0})})]}),Object(a.jsx)(p.a.Group,{children:Object(a.jsx)(ce.a,{name:"short_desc",label:Object(a.jsx)(s.a,{id:"short_description"}),tooltip:Object(a.jsx)(s.a,{id:"short_description"}),width:"lg"})}),Object(a.jsx)(p.a.Item,{name:"agenda",label:Object(a.jsx)(s.a,{id:"program"}),tooltip:Object(a.jsx)(s.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(ie.a,{directory:"webinars/".concat(j,"/wysiwyg")})}),Object(a.jsx)(p.a.Item,{name:"description",label:Object(a.jsx)(s.a,{id:"description"}),tooltip:Object(a.jsx)(s.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(ie.a,{directory:"webinars/".concat(j,"/wysiwyg")})})]}))]},D.ATTRIBUTES)," ",!W&&Object(a.jsx)(_.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"product"}),disabled:c.disableEdit,children:j&&Object(a.jsx)(fe.a,{productable:{class_type:"App\\Models\\Webinar",class_id:j,name:String(o.name),quantity:1}})},D.PRODUCT),!W&&Object(a.jsx)(_.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"media"}),disabled:c.disableEdit,children:Object(a.jsx)(p.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(j),title:"image",action:"/api/admin/webinars/".concat(j),src_name:"image_url",form_name:"image",getUploadedSrcField:function(O){return O.file.response.data.image_url},setPath:function(O){return k(function(A){return Object(t.a)(Object(t.a)({},A),O)})}})}))},D.MEDIA),!W&&Object(a.jsx)(_.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"tags"}),disabled:c.disableEdit,children:Object(a.jsx)(E.a,{children:Object(a.jsx)(u.a,{span:12,children:Object(a.jsx)(p.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(p.a.Item,{label:Object(a.jsx)(s.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(me.a,{})})}))})})},D.TAGS)," ",!W&&Object(a.jsx)(_.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"branding"}),disabled:c.disableEdit,children:Object(a.jsx)(p.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(j),title:"logotype",action:"/api/admin/webinars/".concat(j),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(O){return O.file.response.data.logotype_url},setPath:function(O){return k(function(A){return Object(t.a)(Object(t.a)({},A),O)})}})}))},D.BRANDING)," ",!W&&Object(a.jsx)(_.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user_submission"}),disabled:c.disableEdit,children:j&&Object(a.jsx)(Ee.a,{id:Number(j),type:"App\\Models\\Webinar"})},D.USER_SUBMISSION)]}),Object(a.jsx)(Pe.a,{open:!!c.showConfirmModal,onOk:function(){B(Object(t.a)(Object(t.a)({},c),{},{loading:!0})),se.submit()},onCancel:function(){B(Object(t.a)(Object(t.a)({},c),{},{showConfirmModal:!1}))},loading:!!c.loading})]}):Object(a.jsx)(b.a,{})},Ce=f.default=pe},"yj/a":function(K,f,e){"use strict";var l=e("VTBJ"),E=e("Ff2n"),n=e("nKUr"),u=e.n(n),h=e("uX+g"),P=e("q1tI"),x=e.n(P),i=e("lS/g"),m=e("adzw"),b=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],d=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],M=x.a.forwardRef(function(r,L){var p=r.fieldProps,V=r.children,$=r.params,N=r.proFieldProps,z=r.mode,a=r.valueEnum,X=r.request,H=r.showSearch,w=r.options,J=Object(E.a)(r,b),Y=Object(P.useContext)(i.b);return Object(n.jsx)(m.a,Object(l.a)(Object(l.a)({valueEnum:Object(h.a)(a),request:X,params:$,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(l.a)({options:w,mode:z,showSearch:H,getPopupContainer:Y.getPopupContainer},p),ref:L,proFieldProps:N},J),{},{children:V}))}),v=x.a.forwardRef(function(r,L){var p=r.fieldProps,V=r.children,$=r.params,N=r.proFieldProps,z=r.mode,a=r.valueEnum,X=r.request,H=r.options,w=Object(E.a)(r,d),J=Object(l.a)({options:H,mode:z||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},p),Y=Object(P.useContext)(i.b);return Object(n.jsx)(m.a,Object(l.a)(Object(l.a)({valueEnum:Object(h.a)(a),request:X,params:$,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(l.a)({getPopupContainer:Y.getPopupContainer},J),ref:L,proFieldProps:N},w),{},{children:V}))}),t=M,C=v,U=t;U.SearchSelect=C,U.displayName="ProFormComponent",f.a=U}}]);
