(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{dgLD:function(B,p,e){"use strict";e.r(p);var u=e("q1tI"),h=e("tMyG"),G=e("fOrg"),x=e("+KLJ"),v=e("k1fw"),K=e("T2oS"),b=e("W9HT"),z=e("+L6B"),g=e("2/Rp"),S=e("tJVT"),y=e("I+Rq"),C=e("9og8"),M=e("WmNS"),f=e.n(M),l=e("9kvl");function T(d,c){return m.apply(this,arguments)}function m(){return m=Object(C.a)(f.a.mark(function d(c,r){return f.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(l.f)("/api/admin/reports/report",Object(v.a)({params:c,method:"GET",useCache:!1},r||{})));case 1:case"end":return o.stop()}},d)})),m.apply(this,arguments)}var n=e("nhC9"),E=e("Mo4S"),L=e("8j+T"),t=e("nKUr"),P={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(c){var r=c.percent;return r>=.01?"".concat((r*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},R=function(c){var r=c.metric,O=Object(u.useState)({mode:"init"}),o=Object(S.a)(O,2),a=o[0],j=o[1],F=Object(l.i)();Object(u.useEffect)(function(){j({mode:"loading"}),T({metric:r}).then(function(s){s.success?j({mode:"loaded",value:s.data}):j({mode:"error",error:s.message})}).catch(function(s){return j({mode:"error",error:s.toString()})})},[r]);var A=Object(u.useCallback)(function(){if(a.mode==="loaded"){var s={filename:r.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:F.formatMessage({id:r.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},J=new L.ExportToCsv(s);J.generateCsv(a.value)}},[a]);return Object(t.jsxs)(n.a,{title:Object(t.jsx)(l.a,{id:r.split("\\").pop(),defaultMessage:r.split("\\").pop()}),extra:Object(t.jsxs)(g.a,{icon:Object(t.jsx)(E.a,{}),size:"small",onClick:function(){return A()},children:[" ",Object(t.jsx)(l.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[a.mode==="loading"&&Object(t.jsx)(b.a,{}),a.mode==="loaded"&&Object(t.jsx)("div",{children:Object(t.jsx)(y.a,Object(v.a)(Object(v.a)({},P),{},{data:a.value}))}),a.mode==="error"&&Object(t.jsx)(x.a,{message:a.error,type:"error"})]})},i=R,D=p.default=function(){return Object(t.jsxs)(h.a,{children:[Object(t.jsxs)(n.a,{split:"vertical",children:[Object(t.jsx)(n.a,{colSpan:12,layout:"center",children:Object(t.jsx)(i,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(t.jsx)(n.a,{colSpan:12,layout:"center",children:Object(t.jsx)(i,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(t.jsxs)(n.a,{split:"vertical",children:[Object(t.jsx)(n.a,{colSpan:12,layout:"center",children:Object(t.jsx)(i,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(t.jsx)(n.a,{colSpan:12,layout:"center",children:Object(t.jsx)(i,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}}}]);
