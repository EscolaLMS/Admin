(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{MZhU:function(x,O,e){x.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Qurx:function(x,O,e){"use strict";var B=e("wx14"),p=e("Ff2n"),h=e("q1tI"),P=e.n(h),m=e("adzw"),v=["fieldProps","proFieldProps"],i=["fieldProps","proFieldProps"],f="text",I=function(n){var l=n.fieldProps,M=n.proFieldProps,t=Object(p.a)(n,v);return P.a.createElement(m.a,Object(B.a)({mode:"edit",valueType:f,fieldProps:l,filedConfig:{valueType:f},proFieldProps:M},t))},T=function(n){var l=n.fieldProps,M=n.proFieldProps,t=Object(p.a)(n,i);return P.a.createElement(m.a,Object(B.a)({mode:"edit",valueType:"password",fieldProps:l,proFieldProps:M,filedConfig:{valueType:f}},t))},_=I;_.Password=T,_.displayName="ProFormComponent",O.a=_},Z1IU:function(x,O,e){"use strict";e.r(O);var B=e("/zsF"),p=e("PArb"),h=e("miYZ"),P=e("tsqr"),m=e("k1fw"),v=e("9og8"),i=e("tJVT"),f=e("fOrg"),I=e("+KLJ"),T=e("WmNS"),_=e.n(T),A=e("cJ7L"),n=e("FY4R"),l=e("q1tI"),M=e.n(l),t=e("VMEa"),g=e("Qurx"),L=e("tneF"),s=e("9kvl"),R=e("55Ip"),K=e("CwrG"),F=e("Wznp"),Z=e("MZhU"),d=e.n(Z),a=e("nKUr"),q=e.n(a),$=function(C){var j=C.content;return Object(a.jsx)(I.a,{style:{marginBottom:24},message:j,type:"error",showIcon:!0})},V=function(){!s.d||setTimeout(function(){var C=s.d.location.query,j=C,y=j.redirect;s.d.push(y||"/")},10)},w=function(){var C=Object(l.useState)(!1),j=Object(i.a)(C,2),y=j[0],N=j[1],Q=Object(l.useState)(),z=Object(i.a)(Q,2),J=z[0],Y=z[1],G=Object(s.j)("@@initialState"),U=G.initialState,H=G.setInitialState,W=Object(s.i)(),X=function(){var D=Object(v.a)(_.a.mark(function u(){var o,c;return _.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,U==null||(o=U.fetchUserInfo)===null||o===void 0?void 0:o.call(U);case 2:c=b.sent,c&&H(Object(m.a)(Object(m.a)({},U),{},{currentUser:c}));case 4:case"end":return b.stop()}},u)}));return function(){return D.apply(this,arguments)}}(),k=function(){var D=Object(v.a)(_.a.mark(function u(o){var c,E;return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return N(!0),r.prev=1,r.next=4,Object(F.a)(Object(m.a)({},o));case 4:if(c=r.sent,!c.success){r.next=12;break}return localStorage.setItem("TOKEN",c.data.token),P.default.success("success"),r.next=10,X();case 10:return V(),r.abrupt("return");case 12:Y(c),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),P.default.error((r.t0===null||r.t0===void 0||(E=r.t0.data)===null||E===void 0?void 0:E.message)||"Error");case 18:N(!1);case 19:case"end":return r.stop()}},u,null,[[1,15]])}));return function(o){return D.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:d.a.container,children:[Object(a.jsx)("div",{className:d.a.lang,children:s.b&&Object(a.jsx)(s.b,{})}),Object(a.jsxs)("div",{className:d.a.content,children:[Object(a.jsx)("div",{className:d.a.top,children:Object(a.jsx)("div",{className:d.a.header,children:Object(a.jsx)(R.a,{to:"/",children:Object(a.jsx)("img",{alt:"logo",className:d.a.logo,src:"/logo.svg"})})})}),Object(a.jsx)(p.a,{}),Object(a.jsx)("div",{className:d.a.main,children:Object(a.jsxs)(t.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:W.formatMessage({id:"pages.login.submit",defaultMessage:"submit"})},render:function(u,o){return o.pop()},submitButtonProps:{loading:y,size:"large",style:{width:"100%"}}},onFinish:function(){var D=Object(v.a)(_.a.mark(function u(o){return _.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:k(o);case 1:case"end":return E.stop()}},u)}));return function(u){return D.apply(this,arguments)}}(),children:[J&&!J.success&&Object(a.jsx)($,{content:W.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\uFF08admin/ant.design)"})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("pre",{children:"email/password: admin@escola-lms.com/secret"}),Object(a.jsx)(g.a,{name:"email",fieldProps:{size:"large",prefix:Object(a.jsx)(A.a,{className:d.a.prefixIcon})},placeholder:W.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"admin or user"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"pages.login.username.required",defaultMessage:"required!"})}]}),Object(a.jsx)(g.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(a.jsx)(n.a,{className:d.a.prefixIcon})},placeholder:W.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"pages.login.password.required",defaultMessage:"required"})}]})]}),Object(a.jsxs)("div",{style:{marginBottom:24},children:[Object(a.jsx)(L.a,{noStyle:!0,name:"autoLogin",children:Object(a.jsx)(s.a,{id:"pages.login.rememberMe",defaultMessage:"rememberMe"})}),Object(a.jsx)("a",{style:{float:"right"},children:Object(a.jsx)(s.a,{id:"pages.login.forgotPassword",defaultMessage:"forgotPassword"})})]})]})})]}),Object(a.jsx)(K.a,{})]})};O.default=w},tneF:function(x,O,e){"use strict";var B=e("sRBo"),p=e("kaz8"),h=e("wx14"),P=e("VTBJ"),m=e("Ff2n"),v=e("q1tI"),i=e.n(v),f=e("adzw"),I=e("uX+g"),T=e("WFLz"),_=["options","fieldProps","proFieldProps","valueEnum"],A=i.a.forwardRef(function(t,g){var L=t.options,s=t.fieldProps,R=t.proFieldProps,K=t.valueEnum,F=Object(m.a)(t,_);return i.a.createElement(f.a,Object(h.a)({ref:g,valueType:"checkbox",mode:"edit",valueEnum:Object(I.a)(K,void 0),fieldProps:Object(P.a)({options:L},s),proFieldProps:R},F))}),n=i.a.forwardRef(function(t,g){var L=t.fieldProps,s=t.children;return i.a.createElement(p.a,Object(h.a)({ref:g},L),s)}),l=Object(T.a)(n,{valuePropName:"checked"}),M=l;M.Group=A,O.a=M}}]);
