(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"5tKr":function(K,i,e){"use strict";e.d(i,"b",function(){return d}),e.d(i,"a",function(){return h});var l=e("k1fw"),c=e("9og8"),D=e("WmNS"),o=e.n(D),E=e("9kvl");function d(t,r){return u.apply(this,arguments)}function u(){return u=Object(c.a)(o.a.mark(function t(r,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(E.f)("/api/admin/scorm",Object(l.a)({params:Object(l.a)(Object(l.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},t)})),u.apply(this,arguments)}function s(t,r){return O.apply(this,arguments)}function O(){return O=Object(c.a)(o.a.mark(function t(r,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(E.f)("/api/admin/scorm/scos",Object(l.a)({params:Object(l.a)(Object(l.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},t)})),O.apply(this,arguments)}function h(t,r){return m.apply(this,arguments)}function m(){return m=Object(c.a)(o.a.mark(function t(r,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(E.f)("/api/admin/scorm/".concat(r),Object(l.a)({method:"DELETE"},a||{})));case 1:case"end":return _.stop()}},t)})),m.apply(this,arguments)}},"DBJ/":function(K,i,e){"use strict";var l=e("y8nQ"),c=e("Vl3Y"),D=e("etVw"),o=e("q1tI"),E=e.n(o),d=e("9kvl"),u=e("qFDU"),s=e("nKUr"),O=e.n(s),h=function(t){var r=t.onChange,a=t.url,v=t.name,_=t.extra,b=t.accept,M=t.data,A=t.wrapInForm,U=A===void 0?!0:A,L=Object(d.i)();return M&&M[v]&&delete M[v],Object(s.jsx)(u.a,{condition:U,wrap:function(W){return Object(s.jsx)(c.a,{children:W})},children:Object(s.jsx)(D.a,{title:Object(s.jsx)(d.a,{id:"upload_click_here"}),placeholder:L.formatMessage({id:"upload_click_here"}),onChange:r,label:Object(s.jsx)(d.a,{id:"upload"}),max:2,fieldProps:{data:M,accept:b,name:v,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(a),extra:_})})};i.a=h},"RY+t":function(K,i,e){"use strict";var l=e("DBJ/"),c=e("q1tI"),D=e.n(c),o=e("nKUr"),E=e.n(o),d=function(s){var O=s.onSuccess,h=s.onError;return Object(o.jsx)(l.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(t){if(t.file.response){var r=t.file.response.response;r.success?O(r.data.model):h(r)}}})};i.a=d},etVw:function(K,i,e){"use strict";var l=e("DZo9"),c=e("8z0m"),D=e("+L6B"),o=e("2/Rp"),E=e("wx14"),d=e("q1tI"),u=e.n(d),s=e("z7Xi"),O=e("WFLz"),h=function(t,r){var a=t.fieldProps,v=t.name,_=t.action,b=t.accept,M=t.listType,A=t.title,U=A===void 0?"\u5355\u51FB\u4E0A\u4F20":A,L=t.max,n=t.icon,W=n===void 0?u.a.createElement(s.a,null):n,g=t.value,S=t.buttonProps,R=t.onChange,j=t.disabled,I=t.proFieldProps,B=t.fileList,P=(L===void 0||!g||(g==null?void 0:g.length)<L)&&(I==null?void 0:I.mode)!=="read",C=(M!=null?M:a==null?void 0:a.listType)==="picture-card";return u.a.createElement(c.a,Object(E.a)({action:_,accept:b,ref:r,name:v||"file",listType:M||"picture",fileList:B!=null?B:g},a,{onChange:function(p){var f;R==null||R(p),a==null||(f=a.onChange)===null||f===void 0||f.call(a,p)}}),P&&(C?u.a.createElement("span",null,W," ",U):u.a.createElement(o.a,Object(E.a)({disabled:j||(a==null?void 0:a.disabled)},S),W,U)))};i.a=Object(O.a)(u.a.forwardRef(h),{getValueFromEvent:function(t){return t.fileList}})},qFDU:function(K,i,e){"use strict";var l=e("q1tI"),c=e.n(l);i.a=function(D){var o=D.condition,E=D.children,d=D.wrap;return o?c.a.cloneElement(d(E)):E}},"w76+":function(K,i,e){"use strict";e.r(i);var l=e("P2fV"),c=e("NJEC"),D=e("5Dmo"),o=e("3S7+"),E=e("+L6B"),d=e("2/Rp"),u=e("miYZ"),s=e("tsqr"),O=e("9og8"),h=e("WmNS"),m=e.n(h),t=e("q1tI"),r=e.n(t),a=e("9kvl"),v=e("55Ip"),_=e("tMyG"),b=e("Qiat"),M=e("Dx9A"),A=e("/MfK"),U=e("5tKr"),L=e("RY+t"),n=e("nKUr"),W=e.n(n),g=function(){var R=Object(O.a)(m.a.mark(function j(I){return m.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,Object(U.a)(I);case 2:return P.abrupt("return",!0);case 3:case"end":return P.stop()}},j)}));return function(I){return R.apply(this,arguments)}}(),S=function(){var j=Object(t.useRef)(),I=Object(a.i)(),B=[{title:Object(n.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(n.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(n.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(n.jsx)(L.a,{onSuccess:function(){j.current&&j.current.reload(),s.default.success(Object(n.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(T){return s.default.error(T)}})]}},{title:Object(n.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(C,T){return[T.scos.map(function(p){return Object(n.jsx)(v.a,{to:"/scorms/preview/".concat(p.uuid),children:Object(n.jsx)(o.a,{title:Object(n.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(n.jsx)(d.a,{size:"small",icon:Object(n.jsx)(M.a,{}),type:"primary",children:p.title})})},p.uuid)})]}},{hideInSearch:!0,title:Object(n.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(C,T){return[Object(n.jsx)(c.a,{title:Object(n.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(O.a)(m.a.mark(function p(){var f;return m.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,g(T.id);case 2:f=x.sent,f&&j.current&&j.current.reload();case 4:case"end":return x.stop()}},p)})),okText:Object(n.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(n.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(n.jsx)(o.a,{title:Object(n.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(n.jsx)(d.a,{type:"primary",icon:Object(n.jsx)(A.a,{}),danger:!0})})},"delete")]}}];return Object(n.jsx)(_.a,{children:Object(n.jsx)(b.a,{headerTitle:I.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:j,rowKey:"id",search:{labelWidth:120},request:function(C){var T=C.pageSize,p=C.current;return Object(U.b)({pageSize:T,current:p}).then(function(f){return f.success?{data:f.data.data,total:f.data.total,success:!0}:[]})},columns:B})})};i.default=S}}]);
