(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"2ult":function(V,j,e){"use strict";var n=e("OaEy"),t=e("2fM7"),W=e("T2oS"),C=e("W9HT"),o=e("KQm4"),B=e("ODXe"),P=e("q1tI"),F=e.n(P),x=e("ri8c"),S=e("9kvl"),K=e("nKUr"),z=e.n(K),p=function(I){var m=I.value,G=I.onChange,Z=I.multiple,c=Z===void 0?!1:Z,s=Object(P.useState)([]),h=Object(B.a)(s,2),T=h[0],l=h[1],g=Object(P.useState)(!1),b=Object(B.a)(g,2),_e=b[0],J=b[1],le=Object(P.useRef)(),X=Object(P.useRef)(),r=Object(P.useCallback)(function(D){l(function(_){return[].concat(Object(o.a)(_),Object(o.a)(D)).filter(function(A,L,Y){return Y.findIndex(function($){return $.id===A.id})===L})})},[]);Object(P.useEffect)(function(){le.current=T},[T]);var oe=Object(P.useCallback)(function(D){J(!0),X.current&&X.current.abort(),X.current=new AbortController,Object(x.g)({search:D},{signal:X.current.signal}).then(function(_){_.success&&r(_.data),J(!1)}).catch(function(){return J(!1)})},[r]),ie=Object(P.useCallback)(function(D){oe(D)},[oe]);return Object(P.useEffect)(function(){var D=new AbortController;if(m){var _=Array.isArray(m)?m:[m];_.filter(function(A){var L;return!((L=le.current)!==null&&L!==void 0&&L.find(function(Y){return Y.id===A}))}).forEach(function(A){Object(x.f)(Number(A),{signal:D.signal}).then(function(L){L&&L.success&&r([L.data])})})}return function(){D.abort()}},[m,r]),Object(K.jsx)(t.a,{onFocus:function(){return oe()},allowClear:!0,style:{width:"100%"},value:m,onChange:G,mode:c?"multiple":void 0,showSearch:!0,onSearch:ie,placeholder:Object(K.jsx)(S.a,{id:"select_user_group",defaultMessage:"Select user group"}),optionFilterProp:"children",filterOption:function(_,A){if(A&&A.children){var L;return(A==null||(L=A.children)===null||L===void 0?void 0:L.toString().toLowerCase().indexOf(_.toLowerCase()))>=0}return!0},notFoundContent:_e?Object(K.jsx)(C.a,{size:"small"}):null,children:T.map(function(D){return Object(K.jsx)(t.a.Option,{value:D.id,children:D.name_with_breadcrumbs},D.id)})})};j.a=p},"F/zT":function(V,j,e){"use strict";var n=e("wx14"),t=e("VTBJ"),W=e("Ff2n"),C=e("q1tI"),o=e.n(C),B=e("adzw"),P=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],F=o.a.forwardRef(function(x,S){var K=x.fieldProps,z=x.unCheckedChildren,p=x.checkedChildren,f=x.proFieldProps,I=Object(W.a)(x,P);return o.a.createElement(B.a,Object(n.a)({valueType:"switch",mode:"edit",fieldProps:Object(t.a)({unCheckedChildren:z,checkedChildren:p},K),ref:S,valuePropName:"checked",proFieldProps:f,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},I))});j.a=F},Qurx:function(V,j,e){"use strict";var n=e("wx14"),t=e("Ff2n"),W=e("q1tI"),C=e.n(W),o=e("adzw"),B=["fieldProps","proFieldProps"],P=["fieldProps","proFieldProps"],F="text",x=function(p){var f=p.fieldProps,I=p.proFieldProps,m=Object(t.a)(p,B);return C.a.createElement(o.a,Object(n.a)({mode:"edit",valueType:F,fieldProps:f,filedConfig:{valueType:F},proFieldProps:I},m))},S=function(p){var f=p.fieldProps,I=p.proFieldProps,m=Object(t.a)(p,P);return C.a.createElement(o.a,Object(n.a)({mode:"edit",valueType:"password",fieldProps:f,proFieldProps:I,filedConfig:{valueType:F}},m))},K=x;K.Password=S,K.displayName="ProFormComponent",j.a=K},S76h:function(V,j,e){},TLLU:function(V,j,e){"use strict";var n=e("5OYt");function t(){return Object(n.a)()}j.a={useBreakpoint:t}},UNho:function(V,j,e){"use strict";e.r(j);var n=e("Mwp2"),t=e("VXEj"),W=e("+L6B"),C=e("2/Rp"),o=e("/zsF"),B=e("PArb"),P=e("tU7J"),F=e("wFql"),x=e("T2oS"),S=e("W9HT"),K=e("miYZ"),z=e("tsqr"),p=e("x+uP"),f=e("VTBJ"),I=e("HaE+"),m=e("ODXe"),G=e("q1tI"),Z=e.n(G),c=e("VMEa"),s=e("Qurx"),h=e("F/zT"),T=e("nhC9"),l=e("ri8c"),g=e("tMyG"),b=e("9kvl"),_e=e("Ty5D"),J=e("/MfK"),le=e("0WSk"),X=e("2ult"),r=e("nKUr"),oe=e.n(r);j.default=function(){var ie=Object(b.i)(),D=Object(_e.l)(),_=D.group,A=_==="new",L=Object(G.useState)(),Y=Object(m.a)(L,2),$=Y[0],te=Y[1],fe=Object(G.useCallback)(Object(I.a)(Object(p.a)().mark(function M(){var O;return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(l.f)(Number(_));case 2:O=a.sent,O.success&&te(Object(f.a)({},O.data));case 4:case"end":return a.stop()}},M)})),[_]),Ce=Object(G.useCallback)(function(M){te(function(O){var R;return Object(f.a)(Object(f.a)({},O),{},{users:O?O==null||(R=O.users)===null||R===void 0?void 0:R.filter(function(a){return a.id!==M}):[]})}),Object(l.d)(Number(_),M).then(function(O){O.success&&te(function(R){return Object(f.a)(Object(f.a)({},R),{},{users:O.data})})})},[_]),ge=Object(G.useCallback)(function(M){var O;!M||$!=null&&(O=$.users)!==null&&O!==void 0&&O.find(function(R){return R.id===M})||Object(l.a)(Number(_),M).then(function(R){R.success&&te(function(a){return Object(f.a)(Object(f.a)({},a),{},{users:R.data})})})},[$,_]);Object(G.useEffect)(function(){if(_==="new"){te({});return}fe()},[_,fe]);var ye=Object(G.useMemo)(function(){return{onFinish:function(){var M=Object(I.a)(Object(p.a)().mark(function R(a){var d,i;return Object(p.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(i=Object(f.a)({},a),_!=="new"){E.next=8;break}return E.next=4,Object(l.b)(i);case 4:d=E.sent,d.success&&b.d.push("/user_groups/".concat(d.data.id)),E.next=11;break;case 8:return E.next=10,Object(l.e)(Number(_),i);case 10:d=E.sent;case 11:z.default.success(d.message);case 12:case"end":return E.stop()}},R)}));function O(R){return M.apply(this,arguments)}return O}(),initialValues:$}},[$,_]);return $?Object(r.jsx)(g.a,{title:A?Object(r.jsx)(b.a,{id:"new_user_group"}):Object(r.jsx)(b.a,{id:"edit_user_group"}),children:Object(r.jsx)(T.a,{children:Object(r.jsxs)(c.a,Object(f.a)(Object(f.a)({},ye),{},{children:[Object(r.jsxs)(c.a.Group,{children:[Object(r.jsx)(s.a,{width:"md",name:"name",label:Object(r.jsx)(b.a,{id:"name"}),tooltip:Object(r.jsx)(b.a,{id:"name"}),placeholder:ie.formatMessage({id:"name"}),required:!0}),Object(r.jsx)(c.a.Item,{style:{minWidth:"300px"},name:"parent_id",label:Object(r.jsx)(b.a,{id:"parent_id_group",defaultMessage:"parent_id_group"}),valuePropName:"value",children:Object(r.jsx)(X.a,{})}),Object(r.jsx)(h.a,{name:"registerable",label:Object(r.jsx)(b.a,{id:"registerable"})})]}),_!=="new"&&Object(r.jsxs)(Z.a.Fragment,{children:[Object(r.jsxs)(c.a.Group,{children:[Object(r.jsx)(F.a,{children:Object(r.jsx)(b.a,{id:"add_person_to_group",defaultMessage:"Add User to group"})}),Object(r.jsx)(le.a,{onChange:function(O){return ge(Number(O))}})]}),Object(r.jsx)(B.a,{}),Object(r.jsx)(t.b,{size:"small",itemLayout:"horizontal",dataSource:$.users,renderItem:function(O){return Object(r.jsxs)(t.b.Item,{actions:[Object(r.jsxs)(C.a,{onClick:function(){return Ce(O.id)},type:"primary",icon:Object(r.jsx)(J.a,{}),size:"small",danger:!0,children:[" ",Object(r.jsx)(b.a,{id:"delete"})]})],children:[O.first_name," ",O.last_name," ",Object(r.jsx)("small",{children:O.email})]})}})]}),Object(r.jsx)(B.a,{})]}))})}):Object(r.jsx)(S.a,{})}},VzZb:function(V,j,e){},"aK+R":function(V,j,e){},df8c:function(V,j,e){},nhC9:function(V,j,e){"use strict";var n=e("VTBJ"),t=e("nKUr"),W=e("Znn+"),C=e("ZTPi"),o=e("rePB"),B=e("U8pU"),P=e("ODXe"),F=e("GNNt"),x=e("wEI+"),S=e("Ff2n"),K=e("1GLa"),z=e("TLLU"),p=e("UESt"),f=e("YSkC"),I=e("TSYQ"),m=e.n(I),G=e("BGR+"),Z=e("6cGi"),c=e("q1tI"),s=e.n(c),h=e("S76h"),T=function(d){var i=d.actions,v=d.prefixCls;return Array.isArray(i)&&(i==null?void 0:i.length)?Object(t.jsx)("ul",{className:"".concat(v,"-actions"),children:i.map(function(E,q){return Object(t.jsx)("li",{style:{width:"".concat(100/i.length,"%")},children:Object(t.jsx)("span",{children:E})},"action-".concat(q))})}):i?Object(t.jsx)("ul",{className:"".concat(v,"-actions"),children:i}):null},l=T,g=e("jCWc"),b=e("kPKH"),_e=e("14J3"),J=e("BMrR"),le=e("aK+R"),X=function(d){var i=d.style,v=d.prefix;return Object(t.jsxs)("div",{className:"".concat(v,"-loading-content"),style:i,children:[Object(t.jsx)(J.a,{gutter:8,children:Object(t.jsx)(b.a,{span:22,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})})}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:8,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})}),Object(t.jsx)(b.a,{span:15,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})})]}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:6,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})}),Object(t.jsx)(b.a,{span:18,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})})]}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:13,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})}),Object(t.jsx)(b.a,{span:9,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})})]}),Object(t.jsxs)(J.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:4,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})}),Object(t.jsx)(b.a,{span:3,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})}),Object(t.jsx)(b.a,{span:16,children:Object(t.jsx)("div",{className:"".concat(v,"-loading-block")})})]})]})},r=X,oe=e("df8c"),ie=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],D=z.a.useBreakpoint,_=s.a.forwardRef(function(a,d){var i,v,E,q=a.className,ae=a.style,ne=a.bodyStyle,w=ne===void 0?{}:ne,re=a.headStyle,De=re===void 0?{}:re,me=a.title,Me=a.subTitle,de=a.extra,xe=a.tip,he=a.wrap,Xe=he===void 0?!1:he,Ye=a.layout,ue=a.loading,Le=a.gutter,we=Le===void 0?0:Le,ke=a.tooltip,Oe=a.split,Re=a.headerBordered,qe=Re===void 0?!1:Re,Ke=a.bordered,et=Ke===void 0?!1:Ke,We=a.children,Se=a.size,tt=a.actions,Ne=a.ghost,at=Ne===void 0?!1:Ne,Fe=a.hoverable,nt=Fe===void 0?!1:Fe,rt=a.direction,Ge=a.collapsed,ze=a.collapsible,st=ze===void 0?!1:ze,$e=a.collapsibleIconRender,Ve=a.defaultCollapsed,ct=Ve===void 0?!1:Ve,lt=a.onCollapse,ot=a.checked,Te=a.onChecked,Ae=a.tabs,Ue=a.type,je=Object(S.a)(a,ie),it=Object(c.useContext)(x.default.ConfigContext),dt=it.getPrefixCls,Je=D(),ut=Object(Z.a)(ct,{value:Ge,onChange:lt}),He=Object(P.a)(ut,2),Ee=He[0],Ot=He[1],Pe=["xxl","xl","lg","md","sm","xs"],jt=function(U){var y=[0,0],H=Array.isArray(U)?U:[U,0];return H.forEach(function(Q,ee){if(Object(B.a)(Q)==="object")for(var k=0;k<Pe.length;k+=1){var be=Pe[k];if(Je[be]&&Q[be]!==void 0){y[ee]=Q[be];break}}else y[ee]=Q||0}),y},ve=function(U,y){return U?y:{}},vt=function(U){var y=U;if(Object(B.a)(U)==="object")for(var H=0;H<Pe.length;H+=1){var Q=Pe[H];if(Je[Q]&&U[Q]!==void 0){y=U[Q];break}}var ee=ve(typeof y=="string"&&/\d%|\dpx/i.test(y),{width:y,flexShrink:0});return{span:y,colSpanStyle:ee}},u=dt("pro-card"),bt=jt(we),Ze=Object(P.a)(bt,2),se=Ze[0],ce=Ze[1],Be=!1,Ie=s.a.Children.toArray(We),_t=Ie.map(function(N,U){var y;if(N==null||(y=N.type)===null||y===void 0?void 0:y.isProCard){var H;Be=!0;var Q=N.props.colSpan,ee=vt(Q),k=ee.span,be=ee.colSpanStyle,Et=m()(["".concat(u,"-col")],(H={},Object(o.a)(H,"".concat(u,"-split-vertical"),Oe==="vertical"&&U!==Ie.length-1),Object(o.a)(H,"".concat(u,"-split-horizontal"),Oe==="horizontal"&&U!==Ie.length-1),Object(o.a)(H,"".concat(u,"-col-").concat(k),typeof k=="number"&&k>=0&&k<=24),H));return Object(t.jsx)("div",{style:Object(n.a)(Object(n.a)(Object(n.a)({},be),ve(se>0,{paddingRight:se/2,paddingLeft:se/2})),ve(ce>0,{paddingTop:ce/2,paddingBottom:ce/2})),className:Et,children:s.a.cloneElement(N)},"pro-card-col-".concat((N==null?void 0:N.key)||U))}return N}),ft=m()("".concat(u),q,(i={},Object(o.a)(i,"".concat(u,"-border"),et),Object(o.a)(i,"".concat(u,"-contain-card"),Be),Object(o.a)(i,"".concat(u,"-loading"),ue),Object(o.a)(i,"".concat(u,"-split"),Oe==="vertical"||Oe==="horizontal"),Object(o.a)(i,"".concat(u,"-ghost"),at),Object(o.a)(i,"".concat(u,"-hoverable"),nt),Object(o.a)(i,"".concat(u,"-size-").concat(Se),Se),Object(o.a)(i,"".concat(u,"-type-").concat(Ue),Ue),Object(o.a)(i,"".concat(u,"-collapse"),Ee),Object(o.a)(i,"".concat(u,"-checked"),ot),i)),mt=m()("".concat(u,"-body"),(v={},Object(o.a)(v,"".concat(u,"-body-center"),Ye==="center"),Object(o.a)(v,"".concat(u,"-body-direction-column"),Oe==="horizontal"||rt==="column"),Object(o.a)(v,"".concat(u,"-body-wrap"),Xe&&Be),v)),ht=Object(n.a)(Object(n.a)(Object(n.a)({},ve(se>0,{marginRight:-se/2,marginLeft:-se/2})),ve(ce>0,{marginTop:-ce/2,marginBottom:-ce/2})),w),Qe=s.a.isValidElement(ue)?ue:Object(t.jsx)(r,{prefix:u,style:w.padding===0||w.padding==="0px"?{padding:24}:void 0}),pe=st&&Ge===void 0&&($e?$e({collapsed:Ee}):Object(t.jsx)(p.a,{rotate:Ee?void 0:90,className:"".concat(u,"-collapsible-icon")}));return Object(t.jsxs)("div",Object(n.a)(Object(n.a)({className:ft,style:ae,ref:d,onClick:function(U){var y;Te==null||Te(U),je==null||(y=je.onClick)===null||y===void 0||y.call(je,U)}},Object(G.a)(je,["prefixCls","colSpan"])),{},{children:[(me||de||pe)&&Object(t.jsxs)("div",{className:m()("".concat(u,"-header"),(E={},Object(o.a)(E,"".concat(u,"-header-border"),qe||Ue==="inner"),Object(o.a)(E,"".concat(u,"-header-collapsible"),pe),E)),style:De,onClick:function(){pe&&Ot(!Ee)},children:[Object(t.jsxs)("div",{className:"".concat(u,"-title"),children:[pe,Object(t.jsx)(f.a,{label:me,tooltip:ke||xe,subTitle:Me})]}),de&&Object(t.jsx)("div",{className:"".concat(u,"-extra"),children:de})]}),Ae?Object(t.jsx)("div",{className:"".concat(u,"-tabs"),children:Object(t.jsx)(C.a,Object(n.a)(Object(n.a)({onChange:Ae.onChange},Ae),{},{children:ue?Qe:We}))}):Object(t.jsx)("div",{className:mt,style:ht,children:ue?Qe:_t}),Object(t.jsx)(l,{actions:tt,prefixCls:u})]}))}),A=_,L=e("u1OI"),Y=function(d){var i=Object(c.useContext)(x.default.ConfigContext),v=i.getPrefixCls,E=v("pro-card-divider"),q=d.className,ae=d.style,ne=ae===void 0?{}:ae,w=d.type,re=m()(E,q,Object(o.a)({},"".concat(E,"-").concat(w),w));return Object(t.jsx)("div",{className:re,style:ne})},$=Y,te=e("VzZb"),fe=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],Ce=function(d){var i=d.key,v=d.tab,E=d.tabKey,q=d.disabled,ae=d.destroyInactiveTabPane,ne=d.children,w=d.className,re=d.style,De=d.cardProps,me=Object(S.a)(d,fe),Me=Object(c.useContext)(x.default.ConfigContext),de=Me.getPrefixCls,xe=de("pro-card-tabpane"),he=m()(xe,w);return Object(t.jsx)(C.a.TabPane,Object(n.a)(Object(n.a)({tabKey:E,tab:v,className:he,style:re,disabled:q,destroyInactiveTabPane:ae},me),{},{children:Object(t.jsx)(A,Object(n.a)(Object(n.a)({},De),{},{children:ne}))}),i)},ge=Ce,ye=function(d){return Object(t.jsx)(A,Object(n.a)({bodyStyle:{padding:0}},d))},M=A;M.isProCard=!0,M.Divider=$,M.TabPane=ge,M.Group=ye;var O=M,R=j.a=O},ri8c:function(V,j,e){"use strict";e.d(j,"g",function(){return o}),e.d(j,"f",function(){return P}),e.d(j,"e",function(){return x}),e.d(j,"b",function(){return K}),e.d(j,"c",function(){return p}),e.d(j,"a",function(){return I}),e.d(j,"d",function(){return G});var n=e("x+uP"),t=e("VTBJ"),W=e("HaE+"),C=e("9kvl");function o(c,s){return B.apply(this,arguments)}function B(){return B=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups",Object(t.a)({params:Object(t.a)(Object(t.a)({},s),{},{per_page:s.pageSize,page:s.current,search:s.search?s.search:void 0,parent_id:s.parent_id}),method:"GET",useCache:!1},h||{})));case 1:case"end":return l.stop()}},c)})),B.apply(this,arguments)}function P(c,s){return F.apply(this,arguments)}function F(){return F=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s),Object(t.a)({method:"GET",useCache:!1},h||{})));case 1:case"end":return l.stop()}},c)})),F.apply(this,arguments)}function x(c,s,h){return S.apply(this,arguments)}function S(){return S=Object(W.a)(Object(n.a)().mark(function c(s,h,T){return Object(n.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s),Object(t.a)({data:h,method:"PUT"},T||{})));case 1:case"end":return g.stop()}},c)})),S.apply(this,arguments)}function K(c,s){return z.apply(this,arguments)}function z(){return z=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups",Object(t.a)({data:s,method:"POST"},h||{})));case 1:case"end":return l.stop()}},c)})),z.apply(this,arguments)}function p(c,s){return f.apply(this,arguments)}function f(){return f=Object(W.a)(Object(n.a)().mark(function c(s,h){return Object(n.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s),Object(t.a)({method:"DELETE"},h||{})));case 1:case"end":return l.stop()}},c)})),f.apply(this,arguments)}function I(c,s,h){return m.apply(this,arguments)}function m(){return m=Object(W.a)(Object(n.a)().mark(function c(s,h,T){return Object(n.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s,"/members"),Object(t.a)({data:{user_id:h},method:"POST"},T||{})));case 1:case"end":return g.stop()}},c)})),m.apply(this,arguments)}function G(c,s,h){return Z.apply(this,arguments)}function Z(){return Z=Object(W.a)(Object(n.a)().mark(function c(s,h,T){return Object(n.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(C.f)("/api/admin/user-groups/".concat(s,"/members/").concat(h),Object(t.a)({method:"DELETE"},T||{})));case 1:case"end":return g.stop()}},c)})),Z.apply(this,arguments)}},u1OI:function(V,j,e){}}]);
