(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"9A0E":function(G,b,e){"use strict";e.r(b);var h=e("q1tI"),g=e("Ty5D"),a=e("9kvl"),f=e("tMyG"),p=e("nhC9"),S=e("P2fV"),o=e("NJEC"),w=e("miYZ"),M=e("tsqr"),ue=e("9og8"),I=e("5Dmo"),B=e("3S7+"),k=e("+L6B"),z=e("2/Rp"),$=e("WmNS"),Z=e.n($),L=e("xvlK"),q=e("G3dp"),O=e("/MfK"),i=e("55Ip"),s=e("sWYD"),m=e("Qiat"),y=e("rWUb"),n=e("mGZj"),t=e("nKUr"),he=function(me){var J=me.templateType,V=Object(h.useRef)(),_=Object(a.i)(),ee=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"created_at",defaultMessage:"created_at"}),dataIndex:"created_at",hideInSearch:!0,render:function(R,C){return C.created_at&&Object(s.a)(new Date(C.created_at),n.a)}},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"event",defaultMessage:"event"}),dataIndex:"event",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"templates.is_default"}),dataIndex:"default",hideInSearch:!0,render:function(R,C){return C.default&&Object(t.jsx)(a.a,{id:"yes"})}}];return Object(t.jsx)(m.a,{headerTitle:_.formatMessage({id:"templates",defaultMessage:"templates"}),actionRef:V,rowKey:"id",search:!1,toolBarRender:function(){return[Object(t.jsx)(i.a,{to:"/templates/".concat(J,"/new"),children:Object(t.jsxs)(z.a,{type:"primary",children:[Object(t.jsx)(L.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(R){var C=R.pageSize,te=R.current;return Object(y.e)({pageSize:C,current:te}).then(function(K){return K.success?{data:K.data,total:K.meta.total,success:!0}:[]})},columns:[].concat(ee,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(R,C){return[Object(t.jsx)(i.a,{to:"/templates/".concat(J,"/").concat(C.id),children:Object(t.jsx)(B.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(z.a,{type:"primary",icon:Object(t.jsx)(q.a,{})})})},"edit"),Object(t.jsx)(o.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(ue.a)(Z.a.mark(function te(){var K,ne;return Z.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Object(y.b)(C.id);case 2:return K=N.sent,N.next=5,K;case 5:ne=N.sent,ne.success&&(M.default.success(ne.message),V.current&&V.current.reload());case 7:case"end":return N.stop()}},te)})),okText:Object(t.jsx)(a.a,{id:"yes"}),cancelText:Object(t.jsx)(a.a,{id:"no"}),children:Object(t.jsx)(B.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(z.a,{type:"primary",icon:Object(t.jsx)(O.a,{}),danger:!0})})},"delete")]}}])})},pe=he,Me=function(){var me=Object(g.g)(),J=me.tab;return Object(t.jsx)(f.a,{children:Object(t.jsxs)(p.a,{tabs:{type:"card",activeKey:J,onChange:function(_){return a.d.push("/templates/".concat(_))}},children:[Object(t.jsx)(p.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"email"}),children:Object(t.jsx)(pe,{templateType:"email"})},"email"),Object(t.jsx)(p.a.TabPane,{disabled:!0,tab:Object(t.jsx)("span",{children:Object(t.jsx)(a.a,{id:"PDF"})}),children:"PDF"},"PDF"),Object(t.jsx)(p.a.TabPane,{disabled:!0,tab:Object(t.jsx)("span",{children:Object(t.jsx)(a.a,{id:"Push"})}),children:"Push"},"Push"),Object(t.jsx)(p.a.TabPane,{disabled:!0,tab:Object(t.jsx)("span",{children:Object(t.jsx)(a.a,{id:"SMS"})}),children:"SMS"},"SMS")]})})},Ie=b.default=Me},S76h:function(G,b,e){},VzZb:function(G,b,e){},"aK+R":function(G,b,e){},df8c:function(G,b,e){},nhC9:function(G,b,e){"use strict";var h=e("wx14"),g=e("q1tI"),a=e.n(g),f=e("Znn+"),p=e("ZTPi"),S=e("VTBJ"),o=e("rePB"),w=e("U8pU"),M=e("ODXe"),ue=e("GNNt"),I=e("wEI+"),B=e("Ff2n"),k=e("1GLa"),z=e("TLLU"),$=e("UESt"),Z=e("6cGi"),L=e("YSkC"),q=e("TSYQ"),O=e.n(q),i=e("BGR+"),s=e("14J3"),m=e("BMrR"),y=e("jCWc"),n=e("kPKH"),t=e("aK+R"),he=function(d){var c=d.style,u=d.prefix;return a.a.createElement("div",{className:"".concat(u,"-loading-content"),style:c},a.a.createElement(m.a,{gutter:8},a.a.createElement(n.a,{span:22},a.a.createElement("div",{className:"".concat(u,"-loading-block")}))),a.a.createElement(m.a,{gutter:8},a.a.createElement(n.a,{span:8},a.a.createElement("div",{className:"".concat(u,"-loading-block")})),a.a.createElement(n.a,{span:15},a.a.createElement("div",{className:"".concat(u,"-loading-block")}))),a.a.createElement(m.a,{gutter:8},a.a.createElement(n.a,{span:6},a.a.createElement("div",{className:"".concat(u,"-loading-block")})),a.a.createElement(n.a,{span:18},a.a.createElement("div",{className:"".concat(u,"-loading-block")}))),a.a.createElement(m.a,{gutter:8},a.a.createElement(n.a,{span:13},a.a.createElement("div",{className:"".concat(u,"-loading-block")})),a.a.createElement(n.a,{span:9},a.a.createElement("div",{className:"".concat(u,"-loading-block")}))),a.a.createElement(m.a,{gutter:8},a.a.createElement(n.a,{span:4},a.a.createElement("div",{className:"".concat(u,"-loading-block")})),a.a.createElement(n.a,{span:3},a.a.createElement("div",{className:"".concat(u,"-loading-block")})),a.a.createElement(n.a,{span:16},a.a.createElement("div",{className:"".concat(u,"-loading-block")}))))},pe=he,Me=e("S76h"),Ie=function(d){var c=d.actions,u=d.prefixCls;return Array.isArray(c)&&(c==null?void 0:c.length)?a.a.createElement("ul",{className:"".concat(u,"-actions")},c.map(function(x,U){return a.a.createElement("li",{style:{width:"".concat(100/c.length,"%")},key:"action-".concat(U)},a.a.createElement("span",null,x))})):c?a.a.createElement("ul",{className:"".concat(u,"-actions")},c):null},ye=Ie,me=e("df8c"),J=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],V=z.a.useBreakpoint,_=a.a.forwardRef(function(r,d){var c,u,x,U=r.className,F=r.style,Y=r.bodyStyle,A=Y===void 0?{}:Y,Q=r.headStyle,ge=Q===void 0?{}:Q,ve=r.title,Oe=r.subTitle,le=r.extra,Ce=r.tip,be=r.wrap,Qe=be===void 0?!1:be,He=r.layout,ce=r.loading,De=r.gutter,Xe=De===void 0?0:De,we=r.tooltip,se=r.split,Ge=r.headerBordered,ke=Ge===void 0?!1:Ge,Be=r.bordered,qe=Be===void 0?!1:Be,ze=r.children,$e=r.size,_e=r.actions,Le=r.ghost,ea=Le===void 0?!1:Le,Re=r.hoverable,aa=Re===void 0?!1:Re,ta=r.direction,Ke=r.collapsed,Ue=r.collapsible,na=Ue===void 0?!1:Ue,We=r.defaultCollapsed,ra=We===void 0?!1:We,la=r.onCollapse,ca=r.checked,xe=r.onChecked,Ee=r.tabs,Te=r.type,oe=Object(B.a)(r,J),sa=Object(g.useContext)(I.b.ConfigContext),oa=sa.getPrefixCls,Ze=V(),ia=Object(Z.a)(ra,{value:Ke,onChange:la}),Je=Object(M.a)(ia,2),Pe=Je[0],da=Je[1],fe=["xxl","xl","lg","md","sm","xs"],ua=function(j){var v=[0,0],T=Array.isArray(j)?j:[j,0];return T.forEach(function(P,W){if(Object(w.a)(P)==="object")for(var D=0;D<fe.length;D+=1){var de=fe[D];if(Ze[de]&&P[de]!==void 0){v[W]=P[de];break}}else v[W]=P||0}),v},ie=function(j,v){return j?v:{}},ma=function(j){var v=j;if(Object(w.a)(j)==="object")for(var T=0;T<fe.length;T+=1){var P=fe[T];if(Ze[P]&&j[P]!==void 0){v=j[P];break}}var W=ie(typeof v=="string"&&/\d%|\dpx/i.test(v),{width:v,flexShrink:0});return{span:v,colSpanStyle:W}},l=oa("pro-card"),va=ua(Xe),Ve=Object(M.a)(va,2),H=Ve[0],X=Ve[1],Se=!1,Ne=a.a.Children.toArray(ze),ba=Ne.map(function(E,j){var v;if(E==null||(v=E.type)===null||v===void 0?void 0:v.isProCard){var T;Se=!0;var P=E.props.colSpan,W=ma(P),D=W.span,de=W.colSpanStyle,pa=O()(["".concat(l,"-col")],(T={},Object(o.a)(T,"".concat(l,"-split-vertical"),se==="vertical"&&j!==Ne.length-1),Object(o.a)(T,"".concat(l,"-split-horizontal"),se==="horizontal"&&j!==Ne.length-1),Object(o.a)(T,"".concat(l,"-col-").concat(D),typeof D=="number"&&D>=0&&D<=24),T));return a.a.createElement("div",{style:Object(S.a)(Object(S.a)(Object(S.a)({},de),ie(H>0,{paddingRight:H/2,paddingLeft:H/2})),ie(X>0,{paddingTop:X/2,paddingBottom:X/2})),key:"pro-card-col-".concat(j),className:pa},a.a.cloneElement(E))}return E}),fa=O()("".concat(l),U,(c={},Object(o.a)(c,"".concat(l,"-border"),qe),Object(o.a)(c,"".concat(l,"-contain-card"),Se),Object(o.a)(c,"".concat(l,"-loading"),ce),Object(o.a)(c,"".concat(l,"-split"),se==="vertical"||se==="horizontal"),Object(o.a)(c,"".concat(l,"-ghost"),ea),Object(o.a)(c,"".concat(l,"-hoverable"),aa),Object(o.a)(c,"".concat(l,"-size-").concat($e),$e),Object(o.a)(c,"".concat(l,"-type-").concat(Te),Te),Object(o.a)(c,"".concat(l,"-collapse"),Pe),Object(o.a)(c,"".concat(l,"-checked"),ca),c)),ja=O()("".concat(l,"-body"),(u={},Object(o.a)(u,"".concat(l,"-body-center"),He==="center"),Object(o.a)(u,"".concat(l,"-body-direction-column"),se==="horizontal"||ta==="column"),Object(o.a)(u,"".concat(l,"-body-wrap"),Qe&&Se),u)),ha=Object(S.a)(Object(S.a)(Object(S.a)({},ie(H>0,{marginRight:-H/2,marginLeft:-H/2})),ie(X>0,{marginTop:-X/2,marginBottom:-X/2})),A),Fe=a.a.isValidElement(ce)?ce:a.a.createElement(pe,{prefix:l,style:A.padding===0||A.padding==="0px"?{padding:24}:void 0}),je=na&&Ke===void 0&&a.a.createElement($.a,{rotate:Pe?void 0:90,className:"".concat(l,"-collapsible-icon")});return a.a.createElement("div",Object(h.a)({className:fa,style:F,ref:d,onClick:function(j){var v;xe==null||xe(j),oe==null||(v=oe.onClick)===null||v===void 0||v.call(oe,j)}},Object(i.a)(oe,["prefixCls","colSpan"])),(ve||le||je)&&a.a.createElement("div",{className:O()("".concat(l,"-header"),(x={},Object(o.a)(x,"".concat(l,"-header-border"),ke||Te==="inner"),Object(o.a)(x,"".concat(l,"-header-collapsible"),je),x)),style:ge,onClick:function(){je&&da(!Pe)}},a.a.createElement("div",{className:"".concat(l,"-title")},je,a.a.createElement(L.a,{label:ve,tooltip:we||Ce,subTitle:Oe})),le&&a.a.createElement("div",{className:"".concat(l,"-extra")},le)),Ee?a.a.createElement("div",{className:"".concat(l,"-tabs")},a.a.createElement(p.a,Object(h.a)({onChange:Ee.onChange},Ee),ce?Fe:ze)):a.a.createElement("div",{className:ja,style:ha},ce?Fe:ba),a.a.createElement(ye,{actions:_e,prefixCls:l}))}),ee=_,ae=e("VzZb"),R=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],C=function(d){var c=d.key,u=d.tab,x=d.tabKey,U=d.disabled,F=d.destroyInactiveTabPane,Y=d.children,A=d.className,Q=d.style,ge=d.cardProps,ve=Object(B.a)(d,R),Oe=Object(g.useContext)(I.b.ConfigContext),le=Oe.getPrefixCls,Ce=le("pro-card-tabpane"),be=O()(Ce,A);return a.a.createElement(p.a.TabPane,Object(h.a)({key:c,tabKey:x,tab:u,className:be,style:Q,disabled:U,destroyInactiveTabPane:F},ve),a.a.createElement(ee,ge,Y))},te=C,K=e("u1OI"),ne=function(d){var c=Object(g.useContext)(I.b.ConfigContext),u=c.getPrefixCls,x=u("pro-card-divider"),U=d.className,F=d.style,Y=F===void 0?{}:F,A=d.type,Q=O()(x,U,Object(o.a)({},"".concat(x,"-").concat(A),A));return a.a.createElement("div",{className:Q,style:Y})},Ae=ne,N=function(d){return a.a.createElement(ee,Object(h.a)({bodyStyle:{padding:0}},d))},re=ee;re.isProCard=!0,re.Divider=Ae,re.TabPane=te,re.Group=N;var Ye=re,ya=b.a=Ye},rWUb:function(G,b,e){"use strict";e.d(b,"e",function(){return S}),e.d(b,"d",function(){return w}),e.d(b,"a",function(){return ue}),e.d(b,"f",function(){return B}),e.d(b,"b",function(){return z}),e.d(b,"g",function(){return Z}),e.d(b,"c",function(){return q});var h=e("k1fw"),g=e("9og8"),a=e("WmNS"),f=e.n(a),p=e("9kvl");function S(i,s){return o.apply(this,arguments)}function o(){return o=Object(g.a)(f.a.mark(function i(s,m){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(p.f)("/api/admin/templates",Object(h.a)({method:"GET",useCache:!1,params:Object(h.a)(Object(h.a)({},s),{},{per_page:s.pageSize&&s.pageSize,page:s.current&&s.current})},m||{})));case 1:case"end":return n.stop()}},i)})),o.apply(this,arguments)}function w(i,s){return M.apply(this,arguments)}function M(){return M=Object(g.a)(f.a.mark(function i(s,m){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(p.f)("/api/admin/templates/".concat(s),Object(h.a)({method:"GET"},m||{})));case 1:case"end":return n.stop()}},i)})),M.apply(this,arguments)}function ue(i,s){return I.apply(this,arguments)}function I(){return I=Object(g.a)(f.a.mark(function i(s,m){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(p.f)("/api/admin/templates",Object(h.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},m||{})));case 1:case"end":return n.stop()}},i)})),I.apply(this,arguments)}function B(i,s,m){return k.apply(this,arguments)}function k(){return k=Object(g.a)(f.a.mark(function i(s,m,y){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.f)("/api/admin/templates/".concat(s),Object(h.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:m},y||{})));case 1:case"end":return t.stop()}},i)})),k.apply(this,arguments)}function z(i,s){return $.apply(this,arguments)}function $(){return $=Object(g.a)(f.a.mark(function i(s,m){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(p.f)("/api/admin/templates/".concat(s),Object(h.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},m||{})));case 1:case"end":return n.stop()}},i)})),$.apply(this,arguments)}function Z(i){return L.apply(this,arguments)}function L(){return L=Object(g.a)(f.a.mark(function i(s){return f.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",Object(p.f)("/api/admin/templates/variables",Object(h.a)({method:"GET"},s||{})));case 1:case"end":return y.stop()}},i)})),L.apply(this,arguments)}function q(i,s){return O.apply(this,arguments)}function O(){return O=Object(g.a)(f.a.mark(function i(s,m){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(p.f)("/api/admin/templates/".concat(s,"/preview"),Object(h.a)({method:"GET"},m||{})));case 1:case"end":return n.stop()}},i)})),O.apply(this,arguments)}},u1OI:function(G,b,e){}}]);
