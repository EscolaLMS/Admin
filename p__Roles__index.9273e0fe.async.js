"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[787],{82061:function(y,c,e){var u=e(1413),s=e(67294),P=e(47046),_=e(84089),p=function(d,M){return s.createElement(_.Z,(0,u.Z)((0,u.Z)({},d),{},{ref:M,icon:P.Z}))};p.displayName="DeleteOutlined",c.Z=s.forwardRef(p)},47389:function(y,c,e){var u=e(1413),s=e(67294),P=e(27363),_=e(84089),p=function(d,M){return s.createElement(_.Z,(0,u.Z)((0,u.Z)({},d),{},{ref:M,icon:P.Z}))};p.displayName="EditOutlined",c.Z=s.forwardRef(p)},51042:function(y,c,e){var u=e(1413),s=e(67294),P=e(42110),_=e(84089),p=function(d,M){return s.createElement(_.Z,(0,u.Z)((0,u.Z)({},d),{},{ref:M,icon:P.Z}))};p.displayName="PlusOutlined",c.Z=s.forwardRef(p)},5966:function(y,c,e){var u=e(97685),s=e(1413),P=e(45987),_=e(21770),p=e(75842),v=e(55241),d=e(97435),M=e(67294),g=e(41550),f=e(85893),R=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],h="text",L=function(t){var r=t.fieldProps,m=t.proFieldProps,n=(0,P.Z)(t,R);return(0,f.jsx)(g.Z,(0,s.Z)({valueType:h,fieldProps:r,filedConfig:{valueType:h},proFieldProps:m},n))},j=function(t){var r=(0,_.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),m=(0,u.Z)(r,2),n=m[0],O=m[1];return(0,f.jsx)(p.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(Z){var T,K=Z.getFieldValue(t.name||[]);return(0,f.jsx)(v.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(a){return a&&a.parentNode?a.parentNode:a},onOpenChange:O,content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[(T=t.statusRender)===null||T===void 0?void 0:T.call(t,K),t.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},t.popoverProps),{},{open:n,children:t.children}))}})},x=function(t){var r=t.fieldProps,m=t.proFieldProps,n=(0,P.Z)(t,W),O=(0,M.useState)(!1),U=(0,u.Z)(O,2),Z=U[0],T=U[1];return r!=null&&r.statusRender&&n.name?(0,f.jsx)(j,{name:n.name,statusRender:r==null?void 0:r.statusRender,popoverProps:r==null?void 0:r.popoverProps,strengthText:r==null?void 0:r.strengthText,open:Z,onOpenChange:T,children:(0,f.jsx)(g.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,d.Z)(r,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(I){var a;r==null||(a=r.onBlur)===null||a===void 0||a.call(r,I),T(!1)},onClick:function(I){var a;r==null||(a=r.onClick)===null||a===void 0||a.call(r,I),T(!0)}}),proFieldProps:m,filedConfig:{valueType:h}},n))}):(0,f.jsx)(g.Z,(0,s.Z)({valueType:"password",fieldProps:r,proFieldProps:m,filedConfig:{valueType:h}},n))},o=L;o.Password=x,o.displayName="ProFormComponent",c.Z=o},16894:function(y,c,e){var u=e(72717);c.ZP=u.Z},74093:function(y,c,e){e.r(c),e.d(c,{TableColumns:function(){return Z},default:function(){return K}});var u=e(15009),s=e.n(u),P=e(99289),_=e.n(P),p=e(5574),v=e.n(p),d=e(91680),M=e(51042),g=e(47389),f=e(82061),R=e(74453),W=e(16894),h=e(14726),L=e(86738),j=e(83062),x=e(67294),o=e(80854),l=e(37476),t=e(952),r=e(5966),m=e(75842),n=e(85893),O=function(a){var $=(0,o.useIntl)(),S=a.visible,V=a.onVisibleChange,F=a.onFinish,b=a.id,A=m.Z.useForm(),E=v()(A,1),D=E[0];return(0,n.jsx)(l.Y,{form:D,title:$.formatMessage({id:b?"editSetting":"newSetting",defaultMessage:b?"editSetting":"newSetting"}),width:"30vw",visible:S,onVisibleChange:V,onFinish:F,children:(0,n.jsxs)(t.ZP.Group,{children:[(0,n.jsx)(r.Z,{label:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),rules:[{required:!0}],width:"md",name:"name"})," "]})})},U=O,Z=[{title:(0,n.jsx)(o.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{width:"80%",title:(0,n.jsx)(o.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!1,sorter:!0}],T=function(){var a=(0,x.useRef)(),$=(0,x.useState)(!1),S=v()($,2),V=S[0],F=S[1],b=(0,o.useIntl)();return(0,n.jsxs)(R._z,{children:[(0,n.jsx)(W.ZP,{headerTitle:b.formatMessage({id:"menu.Users.Roles",defaultMessage:"roles"}),actionRef:a,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(h.ZP,{type:"primary",onClick:function(){return F(!0)},children:[(0,n.jsx)(M.Z,{})," ",(0,n.jsx)(o.FormattedMessage,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(E,D){var B=E.pageSize,C=E.current,w=E.name,i=D&&Object.entries(D)[0];return(0,d.uJ)({pageSize:B,current:C,name:w,order_by:i&&i[0],order:i?i[1]==="ascend"?"ASC":"DESC":void 0}).then(function(G){return G.success?{data:G.data,total:G.meta.total,success:!0}:[]})},columns:[].concat(Z,[{hideInSearch:!0,title:(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(E,D){return[(0,n.jsx)(o.Link,{to:"/users/roles/".concat(D.name),children:(0,n.jsx)(h.ZP,{type:"primary",icon:(0,n.jsx)(g.Z,{})})},"new"),(0,n.jsx)(L.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:_()(s()().mark(function B(){var C;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,d.Rd)(D.name);case 2:C=i.sent,C&&(F(!1),a.current&&a.current.reload());case 4:case"end":return i.stop()}},B)})),okText:(0,n.jsx)(o.FormattedMessage,{id:"yes"}),cancelText:(0,n.jsx)(o.FormattedMessage,{id:"no"}),children:(0,n.jsx)(j.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(h.ZP,{type:"primary",icon:(0,n.jsx)(f.Z,{}),danger:!0})})},"delete")]}}])}),(0,n.jsx)(U,{visible:V,onVisibleChange:function(E){return E===!1&&F(!1)},onFinish:function(){var A=_()(s()().mark(function E(D){var B,C;return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,d.fA)(D);case 2:return B=i.sent,i.next=5,B;case 5:C=i.sent,C.success&&(F(!1),a.current&&(a.current.reload(),o.history.push("/users/roles/".concat(C.data.name))));case 7:case"end":return i.stop()}},E)}));return function(E){return A.apply(this,arguments)}}()})]})},K=T},91680:function(y,c,e){e.d(c,{Cv:function(){return x},Rd:function(){return W},fA:function(){return f},iy:function(){return L},uJ:function(){return M}});var u=e(15009),s=e.n(u),P=e(97857),_=e.n(P),p=e(99289),v=e.n(p),d=e(80854);function M(l,t){return g.apply(this,arguments)}function g(){return g=v()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/admin/roles",_()({method:"GET",useCache:!1,params:t},r||{})));case 1:case"end":return n.stop()}},l)})),g.apply(this,arguments)}function f(l,t){return R.apply(this,arguments)}function R(){return R=v()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/admin/roles",_()({method:"POST",headers:{"Content-Type":"application/json"},data:t},r||{})));case 1:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function W(l,t){return h.apply(this,arguments)}function h(){return h=v()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/admin/roles/".concat(t),_()({method:"DELETE",headers:{"Content-Type":"application/json"}},r||{})));case 1:case"end":return n.stop()}},l)})),h.apply(this,arguments)}function L(l,t){return j.apply(this,arguments)}function j(){return j=v()(s()().mark(function l(t,r){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/admin/roles/".concat(t),_()({method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},l)})),j.apply(this,arguments)}function x(l,t,r){return o.apply(this,arguments)}function o(){return o=v()(s()().mark(function l(t,r,m){return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,d.request)("/api/admin/roles/".concat(t),_()({method:"PATCH",headers:{"Content-Type":"application/json"},data:r},m||{})));case 1:case"end":return O.stop()}},l)})),o.apply(this,arguments)}}}]);
