"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1753],{93696:function(W,h){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};h.Z=e},5966:function(W,h,e){var M=e(97685),_=e(1413),C=e(45987),s=e(21770),v=e(75842),I=e(55241),y=e(97435),S=e(67294),O=e(11547),l=e(85893),f=["fieldProps","proFieldProps"],P=["fieldProps","proFieldProps"],u="text",D=function(o){var n=o.fieldProps,a=o.proFieldProps,i=(0,C.Z)(o,f);return(0,l.jsx)(O.Z,(0,_.Z)({valueType:u,fieldProps:n,filedConfig:{valueType:u},proFieldProps:a},i))},Z=function(o){var n=(0,s.Z)(o.open||!1,{value:o.open,onChange:o.onOpenChange}),a=(0,M.Z)(n,2),i=a[0],g=a[1];return(0,l.jsx)(v.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(E){var m,b=E.getFieldValue(o.name||[]);return(0,l.jsx)(I.Z,(0,_.Z)((0,_.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:function(t){return g(t)},content:(0,l.jsxs)("div",{style:{padding:"4px 0"},children:[(m=o.statusRender)===null||m===void 0?void 0:m.call(o,b),o.strengthText?(0,l.jsx)("div",{style:{marginTop:10},children:(0,l.jsx)("span",{children:o.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},o.popoverProps),{},{open:i,children:o.children}))}})},r=function(o){var n=o.fieldProps,a=o.proFieldProps,i=(0,C.Z)(o,P),g=(0,S.useState)(!1),L=(0,M.Z)(g,2),E=L[0],m=L[1];return n!=null&&n.statusRender&&i.name?(0,l.jsx)(Z,{name:i.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:E,onOpenChange:m,children:(0,l.jsx)("div",{children:(0,l.jsx)(O.Z,(0,_.Z)({valueType:"password",fieldProps:(0,_.Z)((0,_.Z)({},(0,y.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(T){var t;n==null||(t=n.onBlur)===null||t===void 0||t.call(n,T),m(!1)},onClick:function(T){var t;n==null||(t=n.onClick)===null||t===void 0||t.call(n,T),m(!0)}}),proFieldProps:a,filedConfig:{valueType:u}},i))})}):(0,l.jsx)(O.Z,(0,_.Z)({valueType:"password",fieldProps:n,proFieldProps:a,filedConfig:{valueType:u}},i))},c=D;c.Password=r,c.displayName="ProFormComponent",h.Z=c},86333:function(W,h,e){e.d(h,{G:function(){return p}});var M=e(1413),_=e(4942),C=e(87462),s=e(67294),v=e(93696),I=e(78370),y=function(n,a){return s.createElement(I.Z,(0,C.Z)({},n,{ref:a,icon:v.Z}))},S=s.forwardRef(y),O=S,l=e(28459),f=e(83062),P=e(93967),u=e.n(P),D=e(98082),Z=function(n){return(0,_.Z)({},n.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:n.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:n.colorTextSecondary,fontWeight:"normal",fontSize:n.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function r(o){return(0,D.Xj)("LabelIconTip",function(n){var a=(0,M.Z)((0,M.Z)({},n),{},{componentCls:".".concat(o)});return[Z(a)]})}var c=e(85893),p=s.memo(function(o){var n=o.label,a=o.tooltip,i=o.ellipsis,g=o.subTitle,L=(0,s.useContext)(l.ZP.ConfigContext),E=L.getPrefixCls,m=E("pro-core-label-tip"),b=r(m),T=b.wrapSSR,t=b.hashId;if(!a&&!g)return(0,c.jsx)(c.Fragment,{children:n});var A=typeof a=="string"||s.isValidElement(a)?{title:a}:a,R=(A==null?void 0:A.icon)||(0,c.jsx)(O,{});return T((0,c.jsxs)("div",{className:u()(m,t),onMouseDown:function(j){return j.stopPropagation()},onMouseLeave:function(j){return j.stopPropagation()},onMouseMove:function(j){return j.stopPropagation()},children:[(0,c.jsx)("div",{className:u()("".concat(m,"-title"),t,(0,_.Z)({},"".concat(m,"-title-ellipsis"),i)),children:n}),g&&(0,c.jsx)("div",{className:"".concat(m,"-subtitle ").concat(t).trim(),children:g}),a&&(0,c.jsx)(f.Z,(0,M.Z)((0,M.Z)({},A),{},{children:(0,c.jsx)("span",{className:"".concat(m,"-icon ").concat(t).trim(),children:R})}))]}))})},32755:function(W,h,e){var M=e(74792),_=e(67294),C=e(80854),s=e(39472),v=e(85893),I=function(S){var O,l,f,P,u,D=S.children,Z=(0,C.useModel)("@@initialState"),r=Z.initialState,c=(O=r==null||(l=r.publicConfig)===null||l===void 0||(l=l.global)===null||l===void 0?void 0:l.showLoginBackgroundImage)!==null&&O!==void 0?O:!0,p=r==null||(f=r.publicConfig)===null||f===void 0||(f=f.global)===null||f===void 0?void 0:f.loginHeaderFontColor,o=r==null||(P=r.publicConfig)===null||P===void 0||(P=P.global)===null||P===void 0?void 0:P.loginHeaderBackgroundColor,n=r==null||(u=r.publicConfig)===null||u===void 0||(u=u.global)===null||u===void 0?void 0:u.loginFormBackgroundColor,a=(0,_.useMemo)(function(){var i,g=r==null||(i=r.publicConfig)===null||i===void 0||(i=i.global)===null||i===void 0?void 0:i.logoLogin;return g?g.includes("http")?g:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/storage").concat(g):""},[r==null?void 0:r.publicConfig]);return(0,v.jsxs)("div",{className:"".concat(s.Z.container," ").concat(c?s.Z["background-image"]:""),style:{backgroundColor:n},children:[(0,v.jsxs)("header",{className:s.Z.header,style:{backgroundColor:o,color:p},children:[(0,v.jsx)("div",{className:s.Z.lang,children:C.SelectLang&&(0,v.jsx)(C.SelectLang,{})}),(0,v.jsx)("div",{className:s.Z["logo-wrapper"],children:(0,v.jsx)(C.Link,{to:"/",children:(0,v.jsx)("img",{alt:"logo",className:a?s.Z["custom-logo"]:s.Z.logo,src:a||"/logo.svg"})})})]}),(0,v.jsx)("main",{className:s.Z.main,children:D}),(0,v.jsx)(M.Z,{})]})};h.Z=I},24686:function(W,h,e){e.r(h);var M=e(15009),_=e.n(M),C=e(97857),s=e.n(C),v=e(99289),I=e.n(v),y=e(5574),S=e.n(y),O=e(94149),l=e(952),f=e(5966),P=e(2453),u=e(67294),D=e(80854),Z=e(40291),r=e(32755),c=e(39472),p=e(85893),o=function(){var a=(0,u.useState)(!1),i=S()(a,2),g=i[0],L=i[1],E=D.history.location,m=E&&new URLSearchParams(E.search).has("token")&&new URLSearchParams(E.search).get("token"),b=E&&new URLSearchParams(E.search).has("email")&&new URLSearchParams(E.search).get("email"),T=(0,D.useIntl)(),t=function(){var A=I()(_()().mark(function R(x){var j,B;return _()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return L(!0),d.prev=1,d.next=4,(0,Z.mc)(s()({},x));case 4:if(j=d.sent,!j.success){d.next=9;break}return P.ZP.success(j.message),D.history.push("/user/login"),d.abrupt("return");case 9:d.next=14;break;case 11:d.prev=11,d.t0=d.catch(1),P.ZP.error((d.t0===null||d.t0===void 0||(B=d.t0.data)===null||B===void 0?void 0:B.message)||"Error");case 14:return d.prev=14,L(!1),d.finish(14);case 17:case"end":return d.stop()}},R,null,[[1,11,14,17]])}));return function(x){return A.apply(this,arguments)}}();return(0,p.jsx)(r.Z,{children:(0,p.jsx)(l.ZP,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:T.formatMessage({id:"reset_password",defaultMessage:"reset_password"})},render:function(R,x){return x.pop()},submitButtonProps:{loading:g,size:"large",style:{width:"100%"}}},onFinish:function(){var A=I()(_()().mark(function R(x){return _()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:t(s()(s()({},x),{},{token:m,email:b}));case 1:case"end":return B.stop()}},R)}));return function(R){return A.apply(this,arguments)}}(),children:(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(f.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,p.jsx)(O.Z,{className:c.Z.prefixIcon})},placeholder:T.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:(0,p.jsx)(D.FormattedMessage,{id:"pages.login.password.required",defaultMessage:"required"})}]})})})})};h.default=o},39472:function(W,h){h.Z={container:"container___wpV8W",lang:"lang___jOFBo","background-image":"background-image___bLMNk","logo-wrapper":"logo-wrapper___f3AYZ",header:"header___nCVSy","custom-logo":"custom-logo___eqmYW",logo:"logo___hdWsj",title:"title___irxbb",desc:"desc___lcVEF",main:"main___EJpGo",icon:"icon___Lki4L",other:"other___YPaq5",register:"register____Sz4v",prefixIcon:"prefixIcon___Zmk5Q"}}}]);

//# sourceMappingURL=p__User__reset__index.ceab8809.async.js.map